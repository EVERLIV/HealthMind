var N4=Object.defineProperty;var tv=e=>{throw TypeError(e)};var j4=(e,t,r)=>t in e?N4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var $=(e,t,r)=>j4(e,typeof t!="symbol"?t+"":t,r),bm=(e,t,r)=>t.has(e)||tv("Cannot "+r);var w=(e,t,r)=>(bm(e,t,"read from private field"),r?r.call(e):t.get(e)),U=(e,t,r)=>t.has(e)?tv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),B=(e,t,r,s)=>(bm(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),H=(e,t,r)=>(bm(e,t,"access private method"),r);var cu=(e,t,r,s)=>({set _(n){B(e,t,n,r)},get _(){return w(e,t,s)}});function k4(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const a=Object.getOwnPropertyDescriptor(s,n);a&&Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function An(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var n2={exports:{}},Af={},i2={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),S4=Symbol.for("react.portal"),_4=Symbol.for("react.fragment"),C4=Symbol.for("react.strict_mode"),E4=Symbol.for("react.profiler"),T4=Symbol.for("react.provider"),P4=Symbol.for("react.context"),A4=Symbol.for("react.forward_ref"),R4=Symbol.for("react.suspense"),M4=Symbol.for("react.memo"),F4=Symbol.for("react.lazy"),rv=Symbol.iterator;function O4(e){return e===null||typeof e!="object"?null:(e=rv&&e[rv]||e["@@iterator"],typeof e=="function"?e:null)}var a2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o2=Object.assign,l2={};function Tl(e,t,r){this.props=e,this.context=t,this.refs=l2,this.updater=r||a2}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function c2(){}c2.prototype=Tl.prototype;function q0(e,t,r){this.props=e,this.context=t,this.refs=l2,this.updater=r||a2}var G0=q0.prototype=new c2;G0.constructor=q0;o2(G0,Tl.prototype);G0.isPureReactComponent=!0;var sv=Array.isArray,d2=Object.prototype.hasOwnProperty,K0={current:null},u2={key:!0,ref:!0,__self:!0,__source:!0};function h2(e,t,r){var s,n={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)d2.call(t,s)&&!u2.hasOwnProperty(s)&&(n[s]=t[s]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)n[s]===void 0&&(n[s]=l[s]);return{$$typeof:Gd,type:e,key:a,ref:o,props:n,_owner:K0.current}}function I4(e,t){return{$$typeof:Gd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Q0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gd}function D4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nv=/\/+/g;function wm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D4(""+e.key):t.toString(36)}function Gu(e,t,r,s,n){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gd:case S4:o=!0}}if(o)return o=e,n=n(o),e=s===""?"."+wm(o,0):s,sv(n)?(r="",e!=null&&(r=e.replace(nv,"$&/")+"/"),Gu(n,t,r,"",function(d){return d})):n!=null&&(Q0(n)&&(n=I4(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(nv,"$&/")+"/")+e)),t.push(n)),1;if(o=0,s=s===""?".":s+":",sv(e))for(var l=0;l<e.length;l++){a=e[l];var c=s+wm(a,l);o+=Gu(a,t,r,c,n)}else if(c=O4(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=s+wm(a,l++),o+=Gu(a,t,r,c,n);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function uu(e,t,r){if(e==null)return e;var s=[],n=0;return Gu(e,s,"","",function(a){return t.call(r,a,n++)}),s}function L4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lr={current:null},Ku={transition:null},$4={ReactCurrentDispatcher:lr,ReactCurrentBatchConfig:Ku,ReactCurrentOwner:K0};function f2(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:uu,forEach:function(e,t,r){uu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return uu(e,function(){t++}),t},toArray:function(e){return uu(e,function(t){return t})||[]},only:function(e){if(!Q0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=Tl;_e.Fragment=_4;_e.Profiler=E4;_e.PureComponent=q0;_e.StrictMode=C4;_e.Suspense=R4;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$4;_e.act=f2;_e.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=o2({},e.props),n=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=K0.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)d2.call(t,c)&&!u2.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Gd,type:e.type,key:n,ref:a,props:s,_owner:o}};_e.createContext=function(e){return e={$$typeof:P4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:T4,_context:e},e.Consumer=e};_e.createElement=h2;_e.createFactory=function(e){var t=h2.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:A4,render:e}};_e.isValidElement=Q0;_e.lazy=function(e){return{$$typeof:F4,_payload:{_status:-1,_result:e},_init:L4}};_e.memo=function(e,t){return{$$typeof:M4,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Ku.transition;Ku.transition={};try{e()}finally{Ku.transition=t}};_e.unstable_act=f2;_e.useCallback=function(e,t){return lr.current.useCallback(e,t)};_e.useContext=function(e){return lr.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return lr.current.useDeferredValue(e)};_e.useEffect=function(e,t){return lr.current.useEffect(e,t)};_e.useId=function(){return lr.current.useId()};_e.useImperativeHandle=function(e,t,r){return lr.current.useImperativeHandle(e,t,r)};_e.useInsertionEffect=function(e,t){return lr.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return lr.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return lr.current.useMemo(e,t)};_e.useReducer=function(e,t,r){return lr.current.useReducer(e,t,r)};_e.useRef=function(e){return lr.current.useRef(e)};_e.useState=function(e){return lr.current.useState(e)};_e.useSyncExternalStore=function(e,t,r){return lr.current.useSyncExternalStore(e,t,r)};_e.useTransition=function(){return lr.current.useTransition()};_e.version="18.3.1";i2.exports=_e;var p=i2.exports;const ve=An(p),m2=k4({__proto__:null,default:ve},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U4=p,z4=Symbol.for("react.element"),B4=Symbol.for("react.fragment"),V4=Object.prototype.hasOwnProperty,H4=U4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W4={key:!0,ref:!0,__self:!0,__source:!0};function p2(e,t,r){var s,n={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)V4.call(t,s)&&!W4.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:z4,type:e,key:a,ref:o,props:n,_owner:H4.current}}Af.Fragment=B4;Af.jsx=p2;Af.jsxs=p2;n2.exports=Af;var i=n2.exports,g2={exports:{}},Fr={},x2={exports:{}},y2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,V){var Q=R.length;R.push(V);e:for(;0<Q;){var se=Q-1>>>1,pe=R[se];if(0<n(pe,V))R[se]=V,R[Q]=pe,Q=se;else break e}}function r(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var V=R[0],Q=R.pop();if(Q!==V){R[0]=Q;e:for(var se=0,pe=R.length,He=pe>>>1;se<He;){var Ve=2*(se+1)-1,Pt=R[Ve],jt=Ve+1,fe=R[jt];if(0>n(Pt,Q))jt<pe&&0>n(fe,Pt)?(R[se]=fe,R[jt]=Q,se=jt):(R[se]=Pt,R[Ve]=Q,se=Ve);else if(jt<pe&&0>n(fe,Q))R[se]=fe,R[jt]=Q,se=jt;else break e}}return V}function n(R,V){var Q=R.sortIndex-V.sortIndex;return Q!==0?Q:R.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,g=!1,y=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(R){for(var V=r(d);V!==null;){if(V.callback===null)s(d);else if(V.startTime<=R)s(d),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(d)}}function j(R){if(m=!1,N(R),!y)if(r(c)!==null)y=!0,F(k);else{var V=r(d);V!==null&&I(j,V.startTime-R)}}function k(R,V){y=!1,m&&(m=!1,v(E),E=-1),g=!0;var Q=f;try{for(N(V),h=r(c);h!==null&&(!(h.expirationTime>V)||R&&!L());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var pe=se(h.expirationTime<=V);V=e.unstable_now(),typeof pe=="function"?h.callback=pe:h===r(c)&&s(c),N(V)}else s(c);h=r(c)}if(h!==null)var He=!0;else{var Ve=r(d);Ve!==null&&I(j,Ve.startTime-V),He=!1}return He}finally{h=null,f=Q,g=!1}}var C=!1,S=null,E=-1,T=5,A=-1;function L(){return!(e.unstable_now()-A<T)}function z(){if(S!==null){var R=e.unstable_now();A=R;var V=!0;try{V=S(!0,R)}finally{V?q():(C=!1,S=null)}}else C=!1}var q;if(typeof x=="function")q=function(){x(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,M=O.port2;O.port1.onmessage=z,q=function(){M.postMessage(null)}}else q=function(){b(z,0)};function F(R){S=R,C||(C=!0,q())}function I(R,V){E=b(function(){R(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,F(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var Q=f;f=V;try{return R()}finally{f=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Q=f;f=R;try{return V()}finally{f=Q}},e.unstable_scheduleCallback=function(R,V,Q){var se=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,R){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Q+pe,R={id:u++,callback:V,priorityLevel:R,startTime:Q,expirationTime:pe,sortIndex:-1},Q>se?(R.sortIndex=Q,t(d,R),r(c)===null&&R===r(d)&&(m?(v(E),E=-1):m=!0,I(j,Q-se))):(R.sortIndex=pe,t(c,R),y||g||(y=!0,F(k))),R},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(R){var V=f;return function(){var Q=f;f=V;try{return R.apply(this,arguments)}finally{f=Q}}}})(y2);x2.exports=y2;var q4=x2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4=p,Rr=q4;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v2=new Set,Fc={};function Aa(e,t){il(e,t),il(e+"Capture",t)}function il(e,t){for(Fc[e]=t,e=0;e<t.length;e++)v2.add(t[e])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=Object.prototype.hasOwnProperty,K4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iv={},av={};function Q4(e){return Ep.call(av,e)?!0:Ep.call(iv,e)?!1:K4.test(e)?av[e]=!0:(iv[e]=!0,!1)}function Z4(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y4(e,t,r,s){if(t===null||typeof t>"u"||Z4(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cr(e,t,r,s,n,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new cr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new cr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new cr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new cr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new cr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new cr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new cr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new cr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new cr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z0=/[\-:]([a-z])/g;function Y0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z0,Y0);It[t]=new cr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z0,Y0);It[t]=new cr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z0,Y0);It[t]=new cr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new cr(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new cr(e,1,!1,e.toLowerCase(),null,!0,!0)});function X0(e,t,r,s){var n=It.hasOwnProperty(t)?It[t]:null;(n!==null?n.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y4(t,r,n,s)&&(r=null),s||n===null?Q4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,s=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Rn=G4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),Qa=Symbol.for("react.portal"),Za=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),b2=Symbol.for("react.provider"),w2=Symbol.for("react.context"),ex=Symbol.for("react.forward_ref"),Pp=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),tx=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),N2=Symbol.for("react.offscreen"),ov=Symbol.iterator;function $l(e){return e===null||typeof e!="object"?null:(e=ov&&e[ov]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,Nm;function sc(e){if(Nm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nm=t&&t[1]||""}return`
`+Nm+e}var jm=!1;function km(e,t){if(!e||jm)return"";jm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),a=s.stack.split(`
`),o=n.length-1,l=a.length-1;1<=o&&0<=l&&n[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==a[l]){var c=`
`+n[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{jm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sc(e):""}function X4(e){switch(e.tag){case 5:return sc(e.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 2:case 15:return e=km(e.type,!1),e;case 11:return e=km(e.type.render,!1),e;case 1:return e=km(e.type,!0),e;default:return""}}function Rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Za:return"Fragment";case Qa:return"Portal";case Tp:return"Profiler";case J0:return"StrictMode";case Pp:return"Suspense";case Ap:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w2:return(e.displayName||"Context")+".Consumer";case b2:return(e._context.displayName||"Context")+".Provider";case ex:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tx:return t=e.displayName||null,t!==null?t:Rp(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return Rp(e(t))}catch{}}return null}function J4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(t);case 8:return t===J0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function j2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eE(e){var t=j2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fu(e){e._valueTracker||(e._valueTracker=eE(e))}function k2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=j2(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function yh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mp(e,t){var r=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lv(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=xi(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function S2(e,t){t=t.checked,t!=null&&X0(e,"checked",t,!1)}function Fp(e,t){S2(e,t);var r=xi(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Op(e,t.type,r):t.hasOwnProperty("defaultValue")&&Op(e,t.type,xi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Op(e,t,r){(t!=="number"||yh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nc=Array.isArray;function ho(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+xi(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Ip(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(K(92));if(nc(r)){if(1<r.length)throw Error(K(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xi(r)}}function _2(e,t){var r=xi(t.value),s=xi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function uv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function C2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?C2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mu,E2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tE=["Webkit","ms","Moz","O"];Object.keys(xc).forEach(function(e){tE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xc[t]=xc[e]})});function T2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xc.hasOwnProperty(e)&&xc[e]?(""+t).trim():t+"px"}function P2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=T2(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,n):e[r]=n}}var rE=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(e,t){if(t){if(rE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function $p(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Up=null;function rx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zp=null,fo=null,mo=null;function hv(e){if(e=Zd(e)){if(typeof zp!="function")throw Error(K(280));var t=e.stateNode;t&&(t=If(t),zp(e.stateNode,e.type,t))}}function A2(e){fo?mo?mo.push(e):mo=[e]:fo=e}function R2(){if(fo){var e=fo,t=mo;if(mo=fo=null,hv(e),t)for(e=0;e<t.length;e++)hv(t[e])}}function M2(e,t){return e(t)}function F2(){}var Sm=!1;function O2(e,t,r){if(Sm)return e(t,r);Sm=!0;try{return M2(e,t,r)}finally{Sm=!1,(fo!==null||mo!==null)&&(F2(),R2())}}function Ic(e,t){var r=e.stateNode;if(r===null)return null;var s=If(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(K(231,t,typeof r));return r}var Bp=!1;if(kn)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Bp=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Bp=!1}function sE(e,t,r,s,n,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var yc=!1,vh=null,bh=!1,Vp=null,nE={onError:function(e){yc=!0,vh=e}};function iE(e,t,r,s,n,a,o,l,c){yc=!1,vh=null,sE.apply(nE,arguments)}function aE(e,t,r,s,n,a,o,l,c){if(iE.apply(this,arguments),yc){if(yc){var d=vh;yc=!1,vh=null}else throw Error(K(198));bh||(bh=!0,Vp=d)}}function Ra(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function I2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fv(e){if(Ra(e)!==e)throw Error(K(188))}function oE(e){var t=e.alternate;if(!t){if(t=Ra(e),t===null)throw Error(K(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(n===null)break;var a=n.alternate;if(a===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===r)return fv(n),e;if(a===s)return fv(n),t;a=a.sibling}throw Error(K(188))}if(r.return!==s.return)r=n,s=a;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,s=a;break}if(l===s){o=!0,s=n,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,s=n;break}if(l===s){o=!0,s=a,r=n;break}l=l.sibling}if(!o)throw Error(K(189))}}if(r.alternate!==s)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?e:t}function D2(e){return e=oE(e),e!==null?L2(e):null}function L2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L2(e);if(t!==null)return t;e=e.sibling}return null}var $2=Rr.unstable_scheduleCallback,mv=Rr.unstable_cancelCallback,lE=Rr.unstable_shouldYield,cE=Rr.unstable_requestPaint,it=Rr.unstable_now,dE=Rr.unstable_getCurrentPriorityLevel,sx=Rr.unstable_ImmediatePriority,U2=Rr.unstable_UserBlockingPriority,wh=Rr.unstable_NormalPriority,uE=Rr.unstable_LowPriority,z2=Rr.unstable_IdlePriority,Rf=null,Ks=null;function hE(e){if(Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(Rf,e,void 0,(e.current.flags&128)===128)}catch{}}var ys=Math.clz32?Math.clz32:pE,fE=Math.log,mE=Math.LN2;function pE(e){return e>>>=0,e===0?32:31-(fE(e)/mE|0)|0}var pu=64,gu=4194304;function ic(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nh(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,n=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?s=ic(l):(a&=o,a!==0&&(s=ic(a)))}else o=r&~n,o!==0?s=ic(o):a!==0&&(s=ic(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&n)&&(n=s&-s,a=t&-t,n>=a||n===16&&(a&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-ys(t),n=1<<r,s|=e[r],t&=~n;return s}function gE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xE(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ys(a),l=1<<o,c=n[o];c===-1?(!(l&r)||l&s)&&(n[o]=gE(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Hp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function B2(){var e=pu;return pu<<=1,!(pu&4194240)&&(pu=64),e}function _m(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ys(t),e[t]=r}function yE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-ys(r),a=1<<n;t[n]=0,s[n]=-1,e[n]=-1,r&=~a}}function nx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ys(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}var Be=0;function V2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var H2,ix,W2,q2,G2,Wp=!1,xu=[],ci=null,di=null,ui=null,Dc=new Map,Lc=new Map,Wn=[],vE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pv(e,t){switch(e){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(t.pointerId)}}function zl(e,t,r,s,n,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[n]},t!==null&&(t=Zd(t),t!==null&&ix(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function bE(e,t,r,s,n){switch(t){case"focusin":return ci=zl(ci,e,t,r,s,n),!0;case"dragenter":return di=zl(di,e,t,r,s,n),!0;case"mouseover":return ui=zl(ui,e,t,r,s,n),!0;case"pointerover":var a=n.pointerId;return Dc.set(a,zl(Dc.get(a)||null,e,t,r,s,n)),!0;case"gotpointercapture":return a=n.pointerId,Lc.set(a,zl(Lc.get(a)||null,e,t,r,s,n)),!0}return!1}function K2(e){var t=zi(e.target);if(t!==null){var r=Ra(t);if(r!==null){if(t=r.tag,t===13){if(t=I2(r),t!==null){e.blockedOn=t,G2(e.priority,function(){W2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Up=s,r.target.dispatchEvent(s),Up=null}else return t=Zd(r),t!==null&&ix(t),e.blockedOn=r,!1;t.shift()}return!0}function gv(e,t,r){Qu(e)&&r.delete(t)}function wE(){Wp=!1,ci!==null&&Qu(ci)&&(ci=null),di!==null&&Qu(di)&&(di=null),ui!==null&&Qu(ui)&&(ui=null),Dc.forEach(gv),Lc.forEach(gv)}function Bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Wp||(Wp=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,wE)))}function $c(e){function t(n){return Bl(n,e)}if(0<xu.length){Bl(xu[0],e);for(var r=1;r<xu.length;r++){var s=xu[r];s.blockedOn===e&&(s.blockedOn=null)}}for(ci!==null&&Bl(ci,e),di!==null&&Bl(di,e),ui!==null&&Bl(ui,e),Dc.forEach(t),Lc.forEach(t),r=0;r<Wn.length;r++)s=Wn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Wn.length&&(r=Wn[0],r.blockedOn===null);)K2(r),r.blockedOn===null&&Wn.shift()}var po=Rn.ReactCurrentBatchConfig,jh=!0;function NE(e,t,r,s){var n=Be,a=po.transition;po.transition=null;try{Be=1,ax(e,t,r,s)}finally{Be=n,po.transition=a}}function jE(e,t,r,s){var n=Be,a=po.transition;po.transition=null;try{Be=4,ax(e,t,r,s)}finally{Be=n,po.transition=a}}function ax(e,t,r,s){if(jh){var n=qp(e,t,r,s);if(n===null)Im(e,t,s,kh,r),pv(e,s);else if(bE(n,e,t,r,s))s.stopPropagation();else if(pv(e,s),t&4&&-1<vE.indexOf(e)){for(;n!==null;){var a=Zd(n);if(a!==null&&H2(a),a=qp(e,t,r,s),a===null&&Im(e,t,s,kh,r),a===n)break;n=a}n!==null&&s.stopPropagation()}else Im(e,t,s,null,r)}}var kh=null;function qp(e,t,r,s){if(kh=null,e=rx(s),e=zi(e),e!==null)if(t=Ra(e),t===null)e=null;else if(r=t.tag,r===13){if(e=I2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kh=e,null}function Q2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dE()){case sx:return 1;case U2:return 4;case wh:case uE:return 16;case z2:return 536870912;default:return 16}default:return 16}}var ai=null,ox=null,Zu=null;function Z2(){if(Zu)return Zu;var e,t=ox,r=t.length,s,n="value"in ai?ai.value:ai.textContent,a=n.length;for(e=0;e<r&&t[e]===n[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===n[a-s];s++);return Zu=n.slice(e,1<s?1-s:void 0)}function Yu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yu(){return!0}function xv(){return!1}function Or(e){function t(r,s,n,a,o){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?yu:xv,this.isPropagationStopped=xv,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lx=Or(Pl),Qd=et({},Pl,{view:0,detail:0}),kE=Or(Qd),Cm,Em,Vl,Mf=et({},Qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vl&&(Vl&&e.type==="mousemove"?(Cm=e.screenX-Vl.screenX,Em=e.screenY-Vl.screenY):Em=Cm=0,Vl=e),Cm)},movementY:function(e){return"movementY"in e?e.movementY:Em}}),yv=Or(Mf),SE=et({},Mf,{dataTransfer:0}),_E=Or(SE),CE=et({},Qd,{relatedTarget:0}),Tm=Or(CE),EE=et({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),TE=Or(EE),PE=et({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AE=Or(PE),RE=et({},Pl,{data:0}),vv=Or(RE),ME={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OE[e])?!!t[e]:!1}function cx(){return IE}var DE=et({},Qd,{key:function(e){if(e.key){var t=ME[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cx,charCode:function(e){return e.type==="keypress"?Yu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LE=Or(DE),$E=et({},Mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bv=Or($E),UE=et({},Qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cx}),zE=Or(UE),BE=et({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),VE=Or(BE),HE=et({},Mf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WE=Or(HE),qE=[9,13,27,32],dx=kn&&"CompositionEvent"in window,vc=null;kn&&"documentMode"in document&&(vc=document.documentMode);var GE=kn&&"TextEvent"in window&&!vc,Y2=kn&&(!dx||vc&&8<vc&&11>=vc),wv=" ",Nv=!1;function X2(e,t){switch(e){case"keyup":return qE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ya=!1;function KE(e,t){switch(e){case"compositionend":return J2(t);case"keypress":return t.which!==32?null:(Nv=!0,wv);case"textInput":return e=t.data,e===wv&&Nv?null:e;default:return null}}function QE(e,t){if(Ya)return e==="compositionend"||!dx&&X2(e,t)?(e=Z2(),Zu=ox=ai=null,Ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Y2&&t.locale!=="ko"?null:t.data;default:return null}}var ZE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ZE[e.type]:t==="textarea"}function eN(e,t,r,s){A2(s),t=Sh(t,"onChange"),0<t.length&&(r=new lx("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var bc=null,Uc=null;function YE(e){uN(e,0)}function Ff(e){var t=eo(e);if(k2(t))return e}function XE(e,t){if(e==="change")return t}var tN=!1;if(kn){var Pm;if(kn){var Am="oninput"in document;if(!Am){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),Am=typeof kv.oninput=="function"}Pm=Am}else Pm=!1;tN=Pm&&(!document.documentMode||9<document.documentMode)}function Sv(){bc&&(bc.detachEvent("onpropertychange",rN),Uc=bc=null)}function rN(e){if(e.propertyName==="value"&&Ff(Uc)){var t=[];eN(t,Uc,e,rx(e)),O2(YE,t)}}function JE(e,t,r){e==="focusin"?(Sv(),bc=t,Uc=r,bc.attachEvent("onpropertychange",rN)):e==="focusout"&&Sv()}function e3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ff(Uc)}function t3(e,t){if(e==="click")return Ff(t)}function r3(e,t){if(e==="input"||e==="change")return Ff(t)}function s3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ns=typeof Object.is=="function"?Object.is:s3;function zc(e,t){if(Ns(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!Ep.call(t,n)||!Ns(e[n],t[n]))return!1}return!0}function _v(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cv(e,t){var r=_v(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_v(r)}}function sN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nN(){for(var e=window,t=yh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yh(e.document)}return t}function ux(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n3(e){var t=nN(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sN(r.ownerDocument.documentElement,r)){if(s!==null&&ux(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,a=Math.min(s.start,n);s=s.end===void 0?a:Math.min(s.end,n),!e.extend&&a>s&&(n=s,s=a,a=n),n=Cv(r,a);var o=Cv(r,s);n&&o&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var i3=kn&&"documentMode"in document&&11>=document.documentMode,Xa=null,Gp=null,wc=null,Kp=!1;function Ev(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kp||Xa==null||Xa!==yh(s)||(s=Xa,"selectionStart"in s&&ux(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),wc&&zc(wc,s)||(wc=s,s=Sh(Gp,"onSelect"),0<s.length&&(t=new lx("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Xa)))}function vu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ja={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},Rm={},iN={};kn&&(iN=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Of(e){if(Rm[e])return Rm[e];if(!Ja[e])return e;var t=Ja[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in iN)return Rm[e]=t[r];return e}var aN=Of("animationend"),oN=Of("animationiteration"),lN=Of("animationstart"),cN=Of("transitionend"),dN=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(e,t){dN.set(e,t),Aa(t,[e])}for(var Mm=0;Mm<Tv.length;Mm++){var Fm=Tv[Mm],a3=Fm.toLowerCase(),o3=Fm[0].toUpperCase()+Fm.slice(1);Ti(a3,"on"+o3)}Ti(aN,"onAnimationEnd");Ti(oN,"onAnimationIteration");Ti(lN,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(cN,"onTransitionEnd");il("onMouseEnter",["mouseout","mouseover"]);il("onMouseLeave",["mouseout","mouseover"]);il("onPointerEnter",["pointerout","pointerover"]);il("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function Pv(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,aE(s,t,void 0,e),e.currentTarget=null}function uN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&n.isPropagationStopped())break e;Pv(n,l,d),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&n.isPropagationStopped())break e;Pv(n,l,d),a=c}}}if(bh)throw e=Vp,bh=!1,Vp=null,e}function Ge(e,t){var r=t[Jp];r===void 0&&(r=t[Jp]=new Set);var s=e+"__bubble";r.has(s)||(hN(t,e,2,!1),r.add(s))}function Om(e,t,r){var s=0;t&&(s|=4),hN(r,e,s,t)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Bc(e){if(!e[bu]){e[bu]=!0,v2.forEach(function(r){r!=="selectionchange"&&(l3.has(r)||Om(r,!1,e),Om(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bu]||(t[bu]=!0,Om("selectionchange",!1,t))}}function hN(e,t,r,s){switch(Q2(t)){case 1:var n=NE;break;case 4:n=jE;break;default:n=ax}r=n.bind(null,t,r,e),n=void 0,!Bp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Im(e,t,r,s,n){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;o=o.return}for(;l!==null;){if(o=zi(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}O2(function(){var d=a,u=rx(r),h=[];e:{var f=dN.get(e);if(f!==void 0){var g=lx,y=e;switch(e){case"keypress":if(Yu(r)===0)break e;case"keydown":case"keyup":g=LE;break;case"focusin":y="focus",g=Tm;break;case"focusout":y="blur",g=Tm;break;case"beforeblur":case"afterblur":g=Tm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_E;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zE;break;case aN:case oN:case lN:g=TE;break;case cN:g=VE;break;case"scroll":g=kE;break;case"wheel":g=WE;break;case"copy":case"cut":case"paste":g=AE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=bv}var m=(t&4)!==0,b=!m&&e==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var x=d,N;x!==null;){N=x;var j=N.stateNode;if(N.tag===5&&j!==null&&(N=j,v!==null&&(j=Ic(x,v),j!=null&&m.push(Vc(x,j,N)))),b)break;x=x.return}0<m.length&&(f=new g(f,y,null,r,u),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&r!==Up&&(y=r.relatedTarget||r.fromElement)&&(zi(y)||y[Sn]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=d,y=y?zi(y):null,y!==null&&(b=Ra(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(m=yv,j="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=bv,j="onPointerLeave",v="onPointerEnter",x="pointer"),b=g==null?f:eo(g),N=y==null?f:eo(y),f=new m(j,x+"leave",g,r,u),f.target=b,f.relatedTarget=N,j=null,zi(u)===d&&(m=new m(v,x+"enter",y,r,u),m.target=N,m.relatedTarget=b,j=m),b=j,g&&y)t:{for(m=g,v=y,x=0,N=m;N;N=Ia(N))x++;for(N=0,j=v;j;j=Ia(j))N++;for(;0<x-N;)m=Ia(m),x--;for(;0<N-x;)v=Ia(v),N--;for(;x--;){if(m===v||v!==null&&m===v.alternate)break t;m=Ia(m),v=Ia(v)}m=null}else m=null;g!==null&&Av(h,f,g,m,!1),y!==null&&b!==null&&Av(h,b,y,m,!0)}}e:{if(f=d?eo(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=XE;else if(jv(f))if(tN)k=r3;else{k=e3;var C=JE}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=t3);if(k&&(k=k(e,d))){eN(h,k,r,u);break e}C&&C(e,f,d),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Op(f,"number",f.value)}switch(C=d?eo(d):window,e){case"focusin":(jv(C)||C.contentEditable==="true")&&(Xa=C,Gp=d,wc=null);break;case"focusout":wc=Gp=Xa=null;break;case"mousedown":Kp=!0;break;case"contextmenu":case"mouseup":case"dragend":Kp=!1,Ev(h,r,u);break;case"selectionchange":if(i3)break;case"keydown":case"keyup":Ev(h,r,u)}var S;if(dx)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ya?X2(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Y2&&r.locale!=="ko"&&(Ya||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ya&&(S=Z2()):(ai=u,ox="value"in ai?ai.value:ai.textContent,Ya=!0)),C=Sh(d,E),0<C.length&&(E=new vv(E,e,null,r,u),h.push({event:E,listeners:C}),S?E.data=S:(S=J2(r),S!==null&&(E.data=S)))),(S=GE?KE(e,r):QE(e,r))&&(d=Sh(d,"onBeforeInput"),0<d.length&&(u=new vv("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}uN(h,t)})}function Vc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sh(e,t){for(var r=t+"Capture",s=[];e!==null;){var n=e,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=Ic(e,r),a!=null&&s.unshift(Vc(e,a,n)),a=Ic(e,t),a!=null&&s.push(Vc(e,a,n))),e=e.return}return s}function Ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Av(e,t,r,s,n){for(var a=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,n?(c=Ic(r,a),c!=null&&o.unshift(Vc(r,c,l))):n||(c=Ic(r,a),c!=null&&o.push(Vc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var c3=/\r\n?/g,d3=/\u0000|\uFFFD/g;function Rv(e){return(typeof e=="string"?e:""+e).replace(c3,`
`).replace(d3,"")}function wu(e,t,r){if(t=Rv(t),Rv(e)!==t&&r)throw Error(K(425))}function _h(){}var Qp=null,Zp=null;function Yp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,u3=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,h3=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(e){return Mv.resolve(null).then(e).catch(f3)}:Xp;function f3(e){setTimeout(function(){throw e})}function Dm(e,t){var r=t,s=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){e.removeChild(n),$c(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);$c(t)}function hi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Al=Math.random().toString(36).slice(2),Bs="__reactFiber$"+Al,Hc="__reactProps$"+Al,Sn="__reactContainer$"+Al,Jp="__reactEvents$"+Al,m3="__reactListeners$"+Al,p3="__reactHandles$"+Al;function zi(e){var t=e[Bs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sn]||r[Bs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fv(e);e!==null;){if(r=e[Bs])return r;e=Fv(e)}return t}e=r,r=e.parentNode}return null}function Zd(e){return e=e[Bs]||e[Sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function If(e){return e[Hc]||null}var eg=[],to=-1;function Pi(e){return{current:e}}function Ke(e){0>to||(e.current=eg[to],eg[to]=null,to--)}function We(e,t){to++,eg[to]=e.current,e.current=t}var yi={},Wt=Pi(yi),xr=Pi(!1),fa=yi;function al(e,t){var r=e.type.contextTypes;if(!r)return yi;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in r)n[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function yr(e){return e=e.childContextTypes,e!=null}function Ch(){Ke(xr),Ke(Wt)}function Ov(e,t,r){if(Wt.current!==yi)throw Error(K(168));We(Wt,t),We(xr,r)}function fN(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in t))throw Error(K(108,J4(e)||"Unknown",n));return et({},r,s)}function Eh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yi,fa=Wt.current,We(Wt,e),We(xr,xr.current),!0}function Iv(e,t,r){var s=e.stateNode;if(!s)throw Error(K(169));r?(e=fN(e,t,fa),s.__reactInternalMemoizedMergedChildContext=e,Ke(xr),Ke(Wt),We(Wt,e)):Ke(xr),We(xr,r)}var un=null,Df=!1,Lm=!1;function mN(e){un===null?un=[e]:un.push(e)}function g3(e){Df=!0,mN(e)}function Ai(){if(!Lm&&un!==null){Lm=!0;var e=0,t=Be;try{var r=un;for(Be=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}un=null,Df=!1}catch(n){throw un!==null&&(un=un.slice(e+1)),$2(sx,Ai),n}finally{Be=t,Lm=!1}}return null}var ro=[],so=0,Th=null,Ph=0,zr=[],Br=0,ma=null,vn=1,bn="";function Ii(e,t){ro[so++]=Ph,ro[so++]=Th,Th=e,Ph=t}function pN(e,t,r){zr[Br++]=vn,zr[Br++]=bn,zr[Br++]=ma,ma=e;var s=vn;e=bn;var n=32-ys(s)-1;s&=~(1<<n),r+=1;var a=32-ys(t)+n;if(30<a){var o=n-n%5;a=(s&(1<<o)-1).toString(32),s>>=o,n-=o,vn=1<<32-ys(t)+n|r<<n|s,bn=a+e}else vn=1<<a|r<<n|s,bn=e}function hx(e){e.return!==null&&(Ii(e,1),pN(e,1,0))}function fx(e){for(;e===Th;)Th=ro[--so],ro[so]=null,Ph=ro[--so],ro[so]=null;for(;e===ma;)ma=zr[--Br],zr[Br]=null,bn=zr[--Br],zr[Br]=null,vn=zr[--Br],zr[Br]=null}var Tr=null,Er=null,Qe=!1,ds=null;function gN(e,t){var r=Vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Dv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tr=e,Er=hi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tr=e,Er=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ma!==null?{id:vn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Tr=e,Er=null,!0):!1;default:return!1}}function tg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rg(e){if(Qe){var t=Er;if(t){var r=t;if(!Dv(e,t)){if(tg(e))throw Error(K(418));t=hi(r.nextSibling);var s=Tr;t&&Dv(e,t)?gN(s,r):(e.flags=e.flags&-4097|2,Qe=!1,Tr=e)}}else{if(tg(e))throw Error(K(418));e.flags=e.flags&-4097|2,Qe=!1,Tr=e}}}function Lv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tr=e}function Nu(e){if(e!==Tr)return!1;if(!Qe)return Lv(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yp(e.type,e.memoizedProps)),t&&(t=Er)){if(tg(e))throw xN(),Error(K(418));for(;t;)gN(e,t),t=hi(t.nextSibling)}if(Lv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Er=hi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Er=null}}else Er=Tr?hi(e.stateNode.nextSibling):null;return!0}function xN(){for(var e=Er;e;)e=hi(e.nextSibling)}function ol(){Er=Tr=null,Qe=!1}function mx(e){ds===null?ds=[e]:ds.push(e)}var x3=Rn.ReactCurrentBatchConfig;function Hl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var s=r.stateNode}if(!s)throw Error(K(147,e));var n=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=n.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,e))}return e}function ju(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $v(e){var t=e._init;return t(e._payload)}function yN(e){function t(v,x){if(e){var N=v.deletions;N===null?(v.deletions=[x],v.flags|=16):N.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function s(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function n(v,x){return v=gi(v,x),v.index=0,v.sibling=null,v}function a(v,x,N){return v.index=N,e?(N=v.alternate,N!==null?(N=N.index,N<x?(v.flags|=2,x):N):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,N,j){return x===null||x.tag!==6?(x=Wm(N,v.mode,j),x.return=v,x):(x=n(x,N),x.return=v,x)}function c(v,x,N,j){var k=N.type;return k===Za?u(v,x,N.props.children,j,N.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vn&&$v(k)===x.type)?(j=n(x,N.props),j.ref=Hl(v,x,N),j.return=v,j):(j=nh(N.type,N.key,N.props,null,v.mode,j),j.ref=Hl(v,x,N),j.return=v,j)}function d(v,x,N,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=qm(N,v.mode,j),x.return=v,x):(x=n(x,N.children||[]),x.return=v,x)}function u(v,x,N,j,k){return x===null||x.tag!==7?(x=ua(N,v.mode,j,k),x.return=v,x):(x=n(x,N),x.return=v,x)}function h(v,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Wm(""+x,v.mode,N),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hu:return N=nh(x.type,x.key,x.props,null,v.mode,N),N.ref=Hl(v,null,x),N.return=v,N;case Qa:return x=qm(x,v.mode,N),x.return=v,x;case Vn:var j=x._init;return h(v,j(x._payload),N)}if(nc(x)||$l(x))return x=ua(x,v.mode,N,null),x.return=v,x;ju(v,x)}return null}function f(v,x,N,j){var k=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return k!==null?null:l(v,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case hu:return N.key===k?c(v,x,N,j):null;case Qa:return N.key===k?d(v,x,N,j):null;case Vn:return k=N._init,f(v,x,k(N._payload),j)}if(nc(N)||$l(N))return k!==null?null:u(v,x,N,j,null);ju(v,N)}return null}function g(v,x,N,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(N)||null,l(x,v,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case hu:return v=v.get(j.key===null?N:j.key)||null,c(x,v,j,k);case Qa:return v=v.get(j.key===null?N:j.key)||null,d(x,v,j,k);case Vn:var C=j._init;return g(v,x,N,C(j._payload),k)}if(nc(j)||$l(j))return v=v.get(N)||null,u(x,v,j,k,null);ju(x,j)}return null}function y(v,x,N,j){for(var k=null,C=null,S=x,E=x=0,T=null;S!==null&&E<N.length;E++){S.index>E?(T=S,S=null):T=S.sibling;var A=f(v,S,N[E],j);if(A===null){S===null&&(S=T);break}e&&S&&A.alternate===null&&t(v,S),x=a(A,x,E),C===null?k=A:C.sibling=A,C=A,S=T}if(E===N.length)return r(v,S),Qe&&Ii(v,E),k;if(S===null){for(;E<N.length;E++)S=h(v,N[E],j),S!==null&&(x=a(S,x,E),C===null?k=S:C.sibling=S,C=S);return Qe&&Ii(v,E),k}for(S=s(v,S);E<N.length;E++)T=g(S,v,E,N[E],j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?E:T.key),x=a(T,x,E),C===null?k=T:C.sibling=T,C=T);return e&&S.forEach(function(L){return t(v,L)}),Qe&&Ii(v,E),k}function m(v,x,N,j){var k=$l(N);if(typeof k!="function")throw Error(K(150));if(N=k.call(N),N==null)throw Error(K(151));for(var C=k=null,S=x,E=x=0,T=null,A=N.next();S!==null&&!A.done;E++,A=N.next()){S.index>E?(T=S,S=null):T=S.sibling;var L=f(v,S,A.value,j);if(L===null){S===null&&(S=T);break}e&&S&&L.alternate===null&&t(v,S),x=a(L,x,E),C===null?k=L:C.sibling=L,C=L,S=T}if(A.done)return r(v,S),Qe&&Ii(v,E),k;if(S===null){for(;!A.done;E++,A=N.next())A=h(v,A.value,j),A!==null&&(x=a(A,x,E),C===null?k=A:C.sibling=A,C=A);return Qe&&Ii(v,E),k}for(S=s(v,S);!A.done;E++,A=N.next())A=g(S,v,E,A.value,j),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?E:A.key),x=a(A,x,E),C===null?k=A:C.sibling=A,C=A);return e&&S.forEach(function(z){return t(v,z)}),Qe&&Ii(v,E),k}function b(v,x,N,j){if(typeof N=="object"&&N!==null&&N.type===Za&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case hu:e:{for(var k=N.key,C=x;C!==null;){if(C.key===k){if(k=N.type,k===Za){if(C.tag===7){r(v,C.sibling),x=n(C,N.props.children),x.return=v,v=x;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Vn&&$v(k)===C.type){r(v,C.sibling),x=n(C,N.props),x.ref=Hl(v,C,N),x.return=v,v=x;break e}r(v,C);break}else t(v,C);C=C.sibling}N.type===Za?(x=ua(N.props.children,v.mode,j,N.key),x.return=v,v=x):(j=nh(N.type,N.key,N.props,null,v.mode,j),j.ref=Hl(v,x,N),j.return=v,v=j)}return o(v);case Qa:e:{for(C=N.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){r(v,x.sibling),x=n(x,N.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=qm(N,v.mode,j),x.return=v,v=x}return o(v);case Vn:return C=N._init,b(v,x,C(N._payload),j)}if(nc(N))return y(v,x,N,j);if($l(N))return m(v,x,N,j);ju(v,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(r(v,x.sibling),x=n(x,N),x.return=v,v=x):(r(v,x),x=Wm(N,v.mode,j),x.return=v,v=x),o(v)):r(v,x)}return b}var ll=yN(!0),vN=yN(!1),Ah=Pi(null),Rh=null,no=null,px=null;function gx(){px=no=Rh=null}function xx(e){var t=Ah.current;Ke(Ah),e._currentValue=t}function sg(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function go(e,t){Rh=e,px=no=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pr=!0),e.firstContext=null)}function qr(e){var t=e._currentValue;if(px!==e)if(e={context:e,memoizedValue:t,next:null},no===null){if(Rh===null)throw Error(K(308));no=e,Rh.dependencies={lanes:0,firstContext:e}}else no=no.next=e;return t}var Bi=null;function yx(e){Bi===null?Bi=[e]:Bi.push(e)}function bN(e,t,r,s){var n=t.interleaved;return n===null?(r.next=r,yx(t)):(r.next=n.next,n.next=r),t.interleaved=r,_n(e,s)}function _n(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hn=!1;function vx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fi(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Ae&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,_n(e,r)}return n=s.interleaved,n===null?(t.next=t,yx(s)):(t.next=n.next,n.next=t),s.interleaved=t,_n(e,r)}function Xu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,nx(e,r)}}function Uv(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?n=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?n=a=t:a=a.next=t}else n=a=t;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mh(e,t,r,s){var n=e.updateQueue;Hn=!1;var a=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=n.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,m=l;switch(f=t,g=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=et({},h,f);break e;case 2:Hn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=n.effects,f===null?n.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,o|=f;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;f=l,l=f.next,f.next=null,n.lastBaseUpdate=f,n.shared.pending=null}}while(!0);if(u===null&&(c=h),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else a===null&&(n.shared.lanes=0);ga|=o,e.lanes=o,e.memoizedState=h}}function zv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error(K(191,n));n.call(s)}}}var Yd={},Qs=Pi(Yd),Wc=Pi(Yd),qc=Pi(Yd);function Vi(e){if(e===Yd)throw Error(K(174));return e}function bx(e,t){switch(We(qc,t),We(Wc,e),We(Qs,Yd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dp(t,e)}Ke(Qs),We(Qs,t)}function cl(){Ke(Qs),Ke(Wc),Ke(qc)}function NN(e){Vi(qc.current);var t=Vi(Qs.current),r=Dp(t,e.type);t!==r&&(We(Wc,e),We(Qs,r))}function wx(e){Wc.current===e&&(Ke(Qs),Ke(Wc))}var Xe=Pi(0);function Fh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $m=[];function Nx(){for(var e=0;e<$m.length;e++)$m[e]._workInProgressVersionPrimary=null;$m.length=0}var Ju=Rn.ReactCurrentDispatcher,Um=Rn.ReactCurrentBatchConfig,pa=0,Je=null,vt=null,_t=null,Oh=!1,Nc=!1,Gc=0,y3=0;function $t(){throw Error(K(321))}function jx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ns(e[r],t[r]))return!1;return!0}function kx(e,t,r,s,n,a){if(pa=a,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ju.current=e===null||e.memoizedState===null?N3:j3,e=r(s,n),Nc){a=0;do{if(Nc=!1,Gc=0,25<=a)throw Error(K(301));a+=1,_t=vt=null,t.updateQueue=null,Ju.current=k3,e=r(s,n)}while(Nc)}if(Ju.current=Ih,t=vt!==null&&vt.next!==null,pa=0,_t=vt=Je=null,Oh=!1,t)throw Error(K(300));return e}function Sx(){var e=Gc!==0;return Gc=0,e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Je.memoizedState=_t=e:_t=_t.next=e,_t}function Gr(){if(vt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=_t===null?Je.memoizedState:_t.next;if(t!==null)_t=t,vt=e;else{if(e===null)throw Error(K(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},_t===null?Je.memoizedState=_t=e:_t=_t.next=e}return _t}function Kc(e,t){return typeof t=="function"?t(e):t}function zm(e){var t=Gr(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var s=vt,n=s.baseQueue,a=r.pending;if(a!==null){if(n!==null){var o=n.next;n.next=a.next,a.next=o}s.baseQueue=n=a,r.pending=null}if(n!==null){a=n.next,s=s.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((pa&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,Je.lanes|=u,ga|=u}d=d.next}while(d!==null&&d!==a);c===null?o=s:c.next=l,Ns(s,t.memoizedState)||(pr=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){n=e;do a=n.lane,Je.lanes|=a,ga|=a,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bm(e){var t=Gr(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,a=t.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do a=e(a,o.action),o=o.next;while(o!==n);Ns(a,t.memoizedState)||(pr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function jN(){}function kN(e,t){var r=Je,s=Gr(),n=t(),a=!Ns(s.memoizedState,n);if(a&&(s.memoizedState=n,pr=!0),s=s.queue,_x(CN.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||_t!==null&&_t.memoizedState.tag&1){if(r.flags|=2048,Qc(9,_N.bind(null,r,s,n,t),void 0,null),Ct===null)throw Error(K(349));pa&30||SN(r,t,n)}return n}function SN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _N(e,t,r,s){t.value=r,t.getSnapshot=s,EN(t)&&TN(e)}function CN(e,t,r){return r(function(){EN(t)&&TN(e)})}function EN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ns(e,r)}catch{return!0}}function TN(e){var t=_n(e,1);t!==null&&vs(t,e,1,-1)}function Bv(e){var t=Rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:e},t.queue=e,e=e.dispatch=w3.bind(null,Je,e),[t.memoizedState,e]}function Qc(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function PN(){return Gr().memoizedState}function eh(e,t,r,s){var n=Rs();Je.flags|=e,n.memoizedState=Qc(1|t,r,void 0,s===void 0?null:s)}function Lf(e,t,r,s){var n=Gr();s=s===void 0?null:s;var a=void 0;if(vt!==null){var o=vt.memoizedState;if(a=o.destroy,s!==null&&jx(s,o.deps)){n.memoizedState=Qc(t,r,a,s);return}}Je.flags|=e,n.memoizedState=Qc(1|t,r,a,s)}function Vv(e,t){return eh(8390656,8,e,t)}function _x(e,t){return Lf(2048,8,e,t)}function AN(e,t){return Lf(4,2,e,t)}function RN(e,t){return Lf(4,4,e,t)}function MN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function FN(e,t,r){return r=r!=null?r.concat([e]):null,Lf(4,4,MN.bind(null,t,e),r)}function Cx(){}function ON(e,t){var r=Gr();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&jx(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function IN(e,t){var r=Gr();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&jx(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function DN(e,t,r){return pa&21?(Ns(r,t)||(r=B2(),Je.lanes|=r,ga|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pr=!0),e.memoizedState=r)}function v3(e,t){var r=Be;Be=r!==0&&4>r?r:4,e(!0);var s=Um.transition;Um.transition={};try{e(!1),t()}finally{Be=r,Um.transition=s}}function LN(){return Gr().memoizedState}function b3(e,t,r){var s=pi(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},$N(e))UN(t,r);else if(r=bN(e,t,r,s),r!==null){var n=ir();vs(r,e,s,n),zN(r,t,s)}}function w3(e,t,r){var s=pi(e),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if($N(e))UN(t,n);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(n.hasEagerState=!0,n.eagerState=l,Ns(l,o)){var c=t.interleaved;c===null?(n.next=n,yx(t)):(n.next=c.next,c.next=n),t.interleaved=n;return}}catch{}finally{}r=bN(e,t,n,s),r!==null&&(n=ir(),vs(r,e,s,n),zN(r,t,s))}}function $N(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function UN(e,t){Nc=Oh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zN(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,nx(e,r)}}var Ih={readContext:qr,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},N3={readContext:qr,useCallback:function(e,t){return Rs().memoizedState=[e,t===void 0?null:t],e},useContext:qr,useEffect:Vv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,eh(4194308,4,MN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return eh(4194308,4,e,t)},useInsertionEffect:function(e,t){return eh(4,2,e,t)},useMemo:function(e,t){var r=Rs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Rs();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=b3.bind(null,Je,e),[s.memoizedState,e]},useRef:function(e){var t=Rs();return e={current:e},t.memoizedState=e},useState:Bv,useDebugValue:Cx,useDeferredValue:function(e){return Rs().memoizedState=e},useTransition:function(){var e=Bv(!1),t=e[0];return e=v3.bind(null,e[1]),Rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Je,n=Rs();if(Qe){if(r===void 0)throw Error(K(407));r=r()}else{if(r=t(),Ct===null)throw Error(K(349));pa&30||SN(s,t,r)}n.memoizedState=r;var a={value:r,getSnapshot:t};return n.queue=a,Vv(CN.bind(null,s,a,e),[e]),s.flags|=2048,Qc(9,_N.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=Rs(),t=Ct.identifierPrefix;if(Qe){var r=bn,s=vn;r=(s&~(1<<32-ys(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=y3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j3={readContext:qr,useCallback:ON,useContext:qr,useEffect:_x,useImperativeHandle:FN,useInsertionEffect:AN,useLayoutEffect:RN,useMemo:IN,useReducer:zm,useRef:PN,useState:function(){return zm(Kc)},useDebugValue:Cx,useDeferredValue:function(e){var t=Gr();return DN(t,vt.memoizedState,e)},useTransition:function(){var e=zm(Kc)[0],t=Gr().memoizedState;return[e,t]},useMutableSource:jN,useSyncExternalStore:kN,useId:LN,unstable_isNewReconciler:!1},k3={readContext:qr,useCallback:ON,useContext:qr,useEffect:_x,useImperativeHandle:FN,useInsertionEffect:AN,useLayoutEffect:RN,useMemo:IN,useReducer:Bm,useRef:PN,useState:function(){return Bm(Kc)},useDebugValue:Cx,useDeferredValue:function(e){var t=Gr();return vt===null?t.memoizedState=e:DN(t,vt.memoizedState,e)},useTransition:function(){var e=Bm(Kc)[0],t=Gr().memoizedState;return[e,t]},useMutableSource:jN,useSyncExternalStore:kN,useId:LN,unstable_isNewReconciler:!1};function Jr(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ng(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:et({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $f={isMounted:function(e){return(e=e._reactInternals)?Ra(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ir(),n=pi(e),a=wn(s,n);a.payload=t,r!=null&&(a.callback=r),t=fi(e,a,n),t!==null&&(vs(t,e,n,s),Xu(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ir(),n=pi(e),a=wn(s,n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=fi(e,a,n),t!==null&&(vs(t,e,n,s),Xu(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ir(),s=pi(e),n=wn(r,s);n.tag=2,t!=null&&(n.callback=t),t=fi(e,n,s),t!==null&&(vs(t,e,s,r),Xu(t,e,s))}};function Hv(e,t,r,s,n,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!zc(r,s)||!zc(n,a):!0}function BN(e,t,r){var s=!1,n=yi,a=t.contextType;return typeof a=="object"&&a!==null?a=qr(a):(n=yr(t)?fa:Wt.current,s=t.contextTypes,a=(s=s!=null)?al(e,n):yi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$f,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wv(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&$f.enqueueReplaceState(t,t.state,null)}function ig(e,t,r,s){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},vx(e);var a=t.contextType;typeof a=="object"&&a!==null?n.context=qr(a):(a=yr(t)?fa:Wt.current,n.context=al(e,a)),n.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ng(e,t,a,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&$f.enqueueReplaceState(n,n.state,null),Mh(e,r,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function dl(e,t){try{var r="",s=t;do r+=X4(s),s=s.return;while(s);var n=r}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:n,digest:null}}function Vm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ag(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var S3=typeof WeakMap=="function"?WeakMap:Map;function VN(e,t,r){r=wn(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Lh||(Lh=!0,gg=s),ag(e,t)},r}function HN(e,t,r){r=wn(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=t.value;r.payload=function(){return s(n)},r.callback=function(){ag(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ag(e,t),typeof s!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function qv(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new S3;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(r)||(n.add(r),e=$3.bind(null,e,t,r),t.then(e,e))}function Gv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kv(e,t,r,s,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wn(-1,1),t.tag=2,fi(r,t,1))),r.lanes|=1),e)}var _3=Rn.ReactCurrentOwner,pr=!1;function rr(e,t,r,s){t.child=e===null?vN(t,null,r,s):ll(t,e.child,r,s)}function Qv(e,t,r,s,n){r=r.render;var a=t.ref;return go(t,n),s=kx(e,t,r,s,a,n),r=Sx(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Cn(e,t,n)):(Qe&&r&&hx(t),t.flags|=1,rr(e,t,s,n),t.child)}function Zv(e,t,r,s,n){if(e===null){var a=r.type;return typeof a=="function"&&!Ox(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,WN(e,t,a,s,n)):(e=nh(r.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&n)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:zc,r(o,s)&&e.ref===t.ref)return Cn(e,t,n)}return t.flags|=1,e=gi(a,s),e.ref=t.ref,e.return=t,t.child=e}function WN(e,t,r,s,n){if(e!==null){var a=e.memoizedProps;if(zc(a,s)&&e.ref===t.ref)if(pr=!1,t.pendingProps=s=a,(e.lanes&n)!==0)e.flags&131072&&(pr=!0);else return t.lanes=e.lanes,Cn(e,t,n)}return og(e,t,r,s,n)}function qN(e,t,r){var s=t.pendingProps,n=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(ao,Sr),Sr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(ao,Sr),Sr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,We(ao,Sr),Sr|=s}else a!==null?(s=a.baseLanes|r,t.memoizedState=null):s=r,We(ao,Sr),Sr|=s;return rr(e,t,n,r),t.child}function GN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function og(e,t,r,s,n){var a=yr(r)?fa:Wt.current;return a=al(t,a),go(t,n),r=kx(e,t,r,s,a,n),s=Sx(),e!==null&&!pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Cn(e,t,n)):(Qe&&s&&hx(t),t.flags|=1,rr(e,t,r,n),t.child)}function Yv(e,t,r,s,n){if(yr(r)){var a=!0;Eh(t)}else a=!1;if(go(t,n),t.stateNode===null)th(e,t),BN(t,r,s),ig(t,r,s,n),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=qr(d):(d=yr(r)?fa:Wt.current,d=al(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&Wv(t,o,s,d),Hn=!1;var f=t.memoizedState;o.state=f,Mh(t,s,o,n),c=t.memoizedState,l!==s||f!==c||xr.current||Hn?(typeof u=="function"&&(ng(t,r,u,s),c=t.memoizedState),(l=Hn||Hv(t,r,l,s,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,wN(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Jr(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=qr(c):(c=yr(r)?fa:Wt.current,c=al(t,c));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Wv(t,o,s,c),Hn=!1,f=t.memoizedState,o.state=f,Mh(t,s,o,n);var y=t.memoizedState;l!==h||f!==y||xr.current||Hn?(typeof g=="function"&&(ng(t,r,g,s),y=t.memoizedState),(d=Hn||Hv(t,r,d,s,f,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return lg(e,t,r,s,a,n)}function lg(e,t,r,s,n,a){GN(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return n&&Iv(t,r,!1),Cn(e,t,a);s=t.stateNode,_3.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=ll(t,e.child,null,a),t.child=ll(t,null,l,a)):rr(e,t,l,a),t.memoizedState=s.state,n&&Iv(t,r,!0),t.child}function KN(e){var t=e.stateNode;t.pendingContext?Ov(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ov(e,t.context,!1),bx(e,t.containerInfo)}function Xv(e,t,r,s,n){return ol(),mx(n),t.flags|=256,rr(e,t,r,s),t.child}var cg={dehydrated:null,treeContext:null,retryLane:0};function dg(e){return{baseLanes:e,cachePool:null,transitions:null}}function QN(e,t,r){var s=t.pendingProps,n=Xe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(n&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),We(Xe,n&1),e===null)return rg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Bf(o,s,0,null),e=ua(e,s,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=dg(r),t.memoizedState=cg,e):Ex(t,o));if(n=e.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return C3(e,t,o,s,l,n,r);if(a){a=s.fallback,o=t.mode,n=e.child,l=n.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==n?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=gi(n,c),s.subtreeFlags=n.subtreeFlags&14680064),l!==null?a=gi(l,a):(a=ua(a,o,r,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?dg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=cg,s}return a=e.child,e=a.sibling,s=gi(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Ex(e,t){return t=Bf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ku(e,t,r,s){return s!==null&&mx(s),ll(t,e.child,null,r),e=Ex(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function C3(e,t,r,s,n,a,o){if(r)return t.flags&256?(t.flags&=-257,s=Vm(Error(K(422))),ku(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,n=t.mode,s=Bf({mode:"visible",children:s.children},n,0,null),a=ua(a,n,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&ll(t,e.child,null,o),t.child.memoizedState=dg(o),t.memoizedState=cg,a);if(!(t.mode&1))return ku(e,t,o,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(K(419)),s=Vm(a,s,void 0),ku(e,t,o,s)}if(l=(o&e.childLanes)!==0,pr||l){if(s=Ct,s!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|o)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,_n(e,n),vs(s,e,n,-1))}return Fx(),s=Vm(Error(K(421))),ku(e,t,o,s)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=U3.bind(null,e),n._reactRetry=t,null):(e=a.treeContext,Er=hi(n.nextSibling),Tr=t,Qe=!0,ds=null,e!==null&&(zr[Br++]=vn,zr[Br++]=bn,zr[Br++]=ma,vn=e.id,bn=e.overflow,ma=t),t=Ex(t,s.children),t.flags|=4096,t)}function Jv(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),sg(e.return,t,r)}function Hm(e,t,r,s,n){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=n)}function ZN(e,t,r){var s=t.pendingProps,n=s.revealOrder,a=s.tail;if(rr(e,t,s.children,r),s=Xe.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jv(e,r,t);else if(e.tag===19)Jv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(We(Xe,s),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&Fh(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Hm(t,!1,n,r,a);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Fh(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Hm(t,!0,r,null,a);break;case"together":Hm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function th(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ga|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,r=gi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=gi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function E3(e,t,r){switch(t.tag){case 3:KN(t),ol();break;case 5:NN(t);break;case 1:yr(t.type)&&Eh(t);break;case 4:bx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;We(Ah,s._currentValue),s._currentValue=n;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(We(Xe,Xe.current&1),t.flags|=128,null):r&t.child.childLanes?QN(e,t,r):(We(Xe,Xe.current&1),e=Cn(e,t,r),e!==null?e.sibling:null);We(Xe,Xe.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return ZN(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),We(Xe,Xe.current),s)break;return null;case 22:case 23:return t.lanes=0,qN(e,t,r)}return Cn(e,t,r)}var YN,ug,XN,JN;YN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ug=function(){};XN=function(e,t,r,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,Vi(Qs.current);var a=null;switch(r){case"input":n=Mp(e,n),s=Mp(e,s),a=[];break;case"select":n=et({},n,{value:void 0}),s=et({},s,{value:void 0}),a=[];break;case"textarea":n=Ip(e,n),s=Ip(e,s),a=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=_h)}Lp(r,s);var o;r=null;for(d in n)if(!s.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var l=n[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fc.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in s){var c=s[d];if(l=n!=null?n[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ge("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};JN=function(e,t,r,s){r!==s&&(t.flags|=4)};function Wl(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function T3(e,t,r){var s=t.pendingProps;switch(fx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(t),null;case 1:return yr(t.type)&&Ch(),Ut(t),null;case 3:return s=t.stateNode,cl(),Ke(xr),Ke(Wt),Nx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Nu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ds!==null&&(vg(ds),ds=null))),ug(e,t),Ut(t),null;case 5:wx(t);var n=Vi(qc.current);if(r=t.type,e!==null&&t.stateNode!=null)XN(e,t,r,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(K(166));return Ut(t),null}if(e=Vi(Qs.current),Nu(t)){s=t.stateNode,r=t.type;var a=t.memoizedProps;switch(s[Bs]=t,s[Hc]=a,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(n=0;n<ac.length;n++)Ge(ac[n],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":lv(s,a),Ge("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Ge("invalid",s);break;case"textarea":dv(s,a),Ge("invalid",s)}Lp(r,a),n=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&wu(s.textContent,l,e),n=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&wu(s.textContent,l,e),n=["children",""+l]):Fc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",s)}switch(r){case"input":fu(s),cv(s,a,!0);break;case"textarea":fu(s),uv(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=_h)}s=n,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=C2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Bs]=t,e[Hc]=s,YN(e,t,!1,!1),t.stateNode=e;e:{switch(o=$p(r,s),r){case"dialog":Ge("cancel",e),Ge("close",e),n=s;break;case"iframe":case"object":case"embed":Ge("load",e),n=s;break;case"video":case"audio":for(n=0;n<ac.length;n++)Ge(ac[n],e);n=s;break;case"source":Ge("error",e),n=s;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),n=s;break;case"details":Ge("toggle",e),n=s;break;case"input":lv(e,s),n=Mp(e,s),Ge("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=et({},s,{value:void 0}),Ge("invalid",e);break;case"textarea":dv(e,s),n=Ip(e,s),Ge("invalid",e);break;default:n=s}Lp(r,n),l=n;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?P2(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&E2(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Oc(e,c):typeof c=="number"&&Oc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Fc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ge("scroll",e):c!=null&&X0(e,a,c,o))}switch(r){case"input":fu(e),cv(e,s,!1);break;case"textarea":fu(e),uv(e);break;case"option":s.value!=null&&e.setAttribute("value",""+xi(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?ho(e,!!s.multiple,a,!1):s.defaultValue!=null&&ho(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=_h)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ut(t),null;case 6:if(e&&t.stateNode!=null)JN(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(K(166));if(r=Vi(qc.current),Vi(Qs.current),Nu(t)){if(s=t.stateNode,r=t.memoizedProps,s[Bs]=t,(a=s.nodeValue!==r)&&(e=Tr,e!==null))switch(e.tag){case 3:wu(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wu(s.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Bs]=t,t.stateNode=s}return Ut(t),null;case 13:if(Ke(Xe),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Er!==null&&t.mode&1&&!(t.flags&128))xN(),ol(),t.flags|=98560,a=!1;else if(a=Nu(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(K(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(K(317));a[Bs]=t}else ol(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ut(t),a=!1}else ds!==null&&(vg(ds),ds=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?Nt===0&&(Nt=3):Fx())),t.updateQueue!==null&&(t.flags|=4),Ut(t),null);case 4:return cl(),ug(e,t),e===null&&Bc(t.stateNode.containerInfo),Ut(t),null;case 10:return xx(t.type._context),Ut(t),null;case 17:return yr(t.type)&&Ch(),Ut(t),null;case 19:if(Ke(Xe),a=t.memoizedState,a===null)return Ut(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)Wl(a,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fh(e),o!==null){for(t.flags|=128,Wl(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)a=r,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(Xe,Xe.current&1|2),t.child}e=e.sibling}a.tail!==null&&it()>ul&&(t.flags|=128,s=!0,Wl(a,!1),t.lanes=4194304)}else{if(!s)if(e=Fh(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Qe)return Ut(t),null}else 2*it()-a.renderingStartTime>ul&&r!==1073741824&&(t.flags|=128,s=!0,Wl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=it(),t.sibling=null,r=Xe.current,We(Xe,s?r&1|2:r&1),t):(Ut(t),null);case 22:case 23:return Mx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Sr&1073741824&&(Ut(t),t.subtreeFlags&6&&(t.flags|=8192)):Ut(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function P3(e,t){switch(fx(t),t.tag){case 1:return yr(t.type)&&Ch(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cl(),Ke(xr),Ke(Wt),Nx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wx(t),null;case 13:if(Ke(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Xe),null;case 4:return cl(),null;case 10:return xx(t.type._context),null;case 22:case 23:return Mx(),null;case 24:return null;default:return null}}var Su=!1,Vt=!1,A3=typeof WeakSet=="function"?WeakSet:Set,ae=null;function io(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){rt(e,t,s)}else r.current=null}function hg(e,t,r){try{r()}catch(s){rt(e,t,s)}}var eb=!1;function R3(e,t){if(Qp=jh,e=nN(),ux(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var g;h!==r||n!==0&&h.nodeType!==3||(l=o+n),h!==a||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===r&&++d===n&&(l=o),f===a&&++u===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zp={focusedElem:e,selectionRange:r},jh=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,b=y.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Jr(t.type,m),b);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(j){rt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return y=eb,eb=!1,y}function jc(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,a!==void 0&&hg(t,r,a)}n=n.next}while(n!==s)}}function Uf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function fg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ej(e){var t=e.alternate;t!==null&&(e.alternate=null,ej(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bs],delete t[Hc],delete t[Jp],delete t[m3],delete t[p3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tj(e){return e.tag===5||e.tag===3||e.tag===4}function tb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mg(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_h));else if(s!==4&&(e=e.child,e!==null))for(mg(e,t,r),e=e.sibling;e!==null;)mg(e,t,r),e=e.sibling}function pg(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(pg(e,t,r),e=e.sibling;e!==null;)pg(e,t,r),e=e.sibling}var Mt=null,os=!1;function In(e,t,r){for(r=r.child;r!==null;)rj(e,t,r),r=r.sibling}function rj(e,t,r){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(Rf,r)}catch{}switch(r.tag){case 5:Vt||io(r,t);case 6:var s=Mt,n=os;Mt=null,In(e,t,r),Mt=s,os=n,Mt!==null&&(os?(e=Mt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mt.removeChild(r.stateNode));break;case 18:Mt!==null&&(os?(e=Mt,r=r.stateNode,e.nodeType===8?Dm(e.parentNode,r):e.nodeType===1&&Dm(e,r),$c(e)):Dm(Mt,r.stateNode));break;case 4:s=Mt,n=os,Mt=r.stateNode.containerInfo,os=!0,In(e,t,r),Mt=s,os=n;break;case 0:case 11:case 14:case 15:if(!Vt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var a=n,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&hg(r,t,o),n=n.next}while(n!==s)}In(e,t,r);break;case 1:if(!Vt&&(io(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){rt(r,t,l)}In(e,t,r);break;case 21:In(e,t,r);break;case 22:r.mode&1?(Vt=(s=Vt)||r.memoizedState!==null,In(e,t,r),Vt=s):In(e,t,r);break;default:In(e,t,r)}}function rb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new A3),t.forEach(function(s){var n=z3.bind(null,e,s);r.has(s)||(r.add(s),s.then(n,n))})}}function Yr(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Mt=l.stateNode,os=!1;break e;case 3:Mt=l.stateNode.containerInfo,os=!0;break e;case 4:Mt=l.stateNode.containerInfo,os=!0;break e}l=l.return}if(Mt===null)throw Error(K(160));rj(a,o,n),Mt=null,os=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){rt(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sj(t,e),t=t.sibling}function sj(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yr(t,e),Ps(e),s&4){try{jc(3,e,e.return),Uf(3,e)}catch(m){rt(e,e.return,m)}try{jc(5,e,e.return)}catch(m){rt(e,e.return,m)}}break;case 1:Yr(t,e),Ps(e),s&512&&r!==null&&io(r,r.return);break;case 5:if(Yr(t,e),Ps(e),s&512&&r!==null&&io(r,r.return),e.flags&32){var n=e.stateNode;try{Oc(n,"")}catch(m){rt(e,e.return,m)}}if(s&4&&(n=e.stateNode,n!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&S2(n,a),$p(l,o);var d=$p(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?P2(n,h):u==="dangerouslySetInnerHTML"?E2(n,h):u==="children"?Oc(n,h):X0(n,u,h,d)}switch(l){case"input":Fp(n,a);break;case"textarea":_2(n,a);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?ho(n,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?ho(n,!!a.multiple,a.defaultValue,!0):ho(n,!!a.multiple,a.multiple?[]:"",!1))}n[Hc]=a}catch(m){rt(e,e.return,m)}}break;case 6:if(Yr(t,e),Ps(e),s&4){if(e.stateNode===null)throw Error(K(162));n=e.stateNode,a=e.memoizedProps;try{n.nodeValue=a}catch(m){rt(e,e.return,m)}}break;case 3:if(Yr(t,e),Ps(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{$c(t.containerInfo)}catch(m){rt(e,e.return,m)}break;case 4:Yr(t,e),Ps(e);break;case 13:Yr(t,e),Ps(e),n=e.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(Ax=it())),s&4&&rb(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Vt=(d=Vt)||u,Yr(t,e),Vt=d):Yr(t,e),Ps(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ae=e,u=e.child;u!==null;){for(h=ae=u;ae!==null;){switch(f=ae,g=f.child,f.tag){case 0:case 11:case 14:case 15:jc(4,f,f.return);break;case 1:io(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(m){rt(s,r,m)}}break;case 5:io(f,f.return);break;case 22:if(f.memoizedState!==null){nb(h);continue}}g!==null?(g.return=f,ae=g):nb(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{n=h.stateNode,d?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=T2("display",o))}catch(m){rt(e,e.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(m){rt(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yr(t,e),Ps(e),s&4&&rb(e);break;case 21:break;default:Yr(t,e),Ps(e)}}function Ps(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tj(r)){var s=r;break e}r=r.return}throw Error(K(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(Oc(n,""),s.flags&=-33);var a=tb(e);pg(e,a,n);break;case 3:case 4:var o=s.stateNode.containerInfo,l=tb(e);mg(e,l,o);break;default:throw Error(K(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function M3(e,t,r){ae=e,nj(e)}function nj(e,t,r){for(var s=(e.mode&1)!==0;ae!==null;){var n=ae,a=n.child;if(n.tag===22&&s){var o=n.memoizedState!==null||Su;if(!o){var l=n.alternate,c=l!==null&&l.memoizedState!==null||Vt;l=Su;var d=Vt;if(Su=o,(Vt=c)&&!d)for(ae=n;ae!==null;)o=ae,c=o.child,o.tag===22&&o.memoizedState!==null?ib(n):c!==null?(c.return=o,ae=c):ib(n);for(;a!==null;)ae=a,nj(a),a=a.sibling;ae=n,Su=l,Vt=d}sb(e)}else n.subtreeFlags&8772&&a!==null?(a.return=n,ae=a):sb(e)}}function sb(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||Uf(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Vt)if(r===null)s.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:Jr(t.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zv(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&$c(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Vt||t.flags&512&&fg(t)}catch(f){rt(t,t.return,f)}}if(t===e){ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,ae=r;break}ae=t.return}}function nb(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ae=r;break}ae=t.return}}function ib(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Uf(4,t)}catch(c){rt(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var n=t.return;try{s.componentDidMount()}catch(c){rt(t,n,c)}}var a=t.return;try{fg(t)}catch(c){rt(t,a,c)}break;case 5:var o=t.return;try{fg(t)}catch(c){rt(t,o,c)}}}catch(c){rt(t,t.return,c)}if(t===e){ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ae=l;break}ae=t.return}}var F3=Math.ceil,Dh=Rn.ReactCurrentDispatcher,Tx=Rn.ReactCurrentOwner,Hr=Rn.ReactCurrentBatchConfig,Ae=0,Ct=null,ft=null,Ft=0,Sr=0,ao=Pi(0),Nt=0,Zc=null,ga=0,zf=0,Px=0,kc=null,hr=null,Ax=0,ul=1/0,dn=null,Lh=!1,gg=null,mi=null,_u=!1,oi=null,$h=0,Sc=0,xg=null,rh=-1,sh=0;function ir(){return Ae&6?it():rh!==-1?rh:rh=it()}function pi(e){return e.mode&1?Ae&2&&Ft!==0?Ft&-Ft:x3.transition!==null?(sh===0&&(sh=B2()),sh):(e=Be,e!==0||(e=window.event,e=e===void 0?16:Q2(e.type)),e):1}function vs(e,t,r,s){if(50<Sc)throw Sc=0,xg=null,Error(K(185));Kd(e,r,s),(!(Ae&2)||e!==Ct)&&(e===Ct&&(!(Ae&2)&&(zf|=r),Nt===4&&qn(e,Ft)),vr(e,s),r===1&&Ae===0&&!(t.mode&1)&&(ul=it()+500,Df&&Ai()))}function vr(e,t){var r=e.callbackNode;xE(e,t);var s=Nh(e,e===Ct?Ft:0);if(s===0)r!==null&&mv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&mv(r),t===1)e.tag===0?g3(ab.bind(null,e)):mN(ab.bind(null,e)),h3(function(){!(Ae&6)&&Ai()}),r=null;else{switch(V2(s)){case 1:r=sx;break;case 4:r=U2;break;case 16:r=wh;break;case 536870912:r=z2;break;default:r=wh}r=hj(r,ij.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ij(e,t){if(rh=-1,sh=0,Ae&6)throw Error(K(327));var r=e.callbackNode;if(xo()&&e.callbackNode!==r)return null;var s=Nh(e,e===Ct?Ft:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Uh(e,s);else{t=s;var n=Ae;Ae|=2;var a=oj();(Ct!==e||Ft!==t)&&(dn=null,ul=it()+500,da(e,t));do try{D3();break}catch(l){aj(e,l)}while(!0);gx(),Dh.current=a,Ae=n,ft!==null?t=0:(Ct=null,Ft=0,t=Nt)}if(t!==0){if(t===2&&(n=Hp(e),n!==0&&(s=n,t=yg(e,n))),t===1)throw r=Zc,da(e,0),qn(e,s),vr(e,it()),r;if(t===6)qn(e,s);else{if(n=e.current.alternate,!(s&30)&&!O3(n)&&(t=Uh(e,s),t===2&&(a=Hp(e),a!==0&&(s=a,t=yg(e,a))),t===1))throw r=Zc,da(e,0),qn(e,s),vr(e,it()),r;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(K(345));case 2:Di(e,hr,dn);break;case 3:if(qn(e,s),(s&130023424)===s&&(t=Ax+500-it(),10<t)){if(Nh(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){ir(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Xp(Di.bind(null,e,hr,dn),t);break}Di(e,hr,dn);break;case 4:if(qn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,n=-1;0<s;){var o=31-ys(s);a=1<<o,o=t[o],o>n&&(n=o),s&=~a}if(s=n,s=it()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*F3(s/1960))-s,10<s){e.timeoutHandle=Xp(Di.bind(null,e,hr,dn),s);break}Di(e,hr,dn);break;case 5:Di(e,hr,dn);break;default:throw Error(K(329))}}}return vr(e,it()),e.callbackNode===r?ij.bind(null,e):null}function yg(e,t){var r=kc;return e.current.memoizedState.isDehydrated&&(da(e,t).flags|=256),e=Uh(e,t),e!==2&&(t=hr,hr=r,t!==null&&vg(t)),e}function vg(e){hr===null?hr=e:hr.push.apply(hr,e)}function O3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],a=n.getSnapshot;n=n.value;try{if(!Ns(a(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~Px,t&=~zf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ys(t),s=1<<r;e[r]=-1,t&=~s}}function ab(e){if(Ae&6)throw Error(K(327));xo();var t=Nh(e,0);if(!(t&1))return vr(e,it()),null;var r=Uh(e,t);if(e.tag!==0&&r===2){var s=Hp(e);s!==0&&(t=s,r=yg(e,s))}if(r===1)throw r=Zc,da(e,0),qn(e,t),vr(e,it()),r;if(r===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Di(e,hr,dn),vr(e,it()),null}function Rx(e,t){var r=Ae;Ae|=1;try{return e(t)}finally{Ae=r,Ae===0&&(ul=it()+500,Df&&Ai())}}function xa(e){oi!==null&&oi.tag===0&&!(Ae&6)&&xo();var t=Ae;Ae|=1;var r=Hr.transition,s=Be;try{if(Hr.transition=null,Be=1,e)return e()}finally{Be=s,Hr.transition=r,Ae=t,!(Ae&6)&&Ai()}}function Mx(){Sr=ao.current,Ke(ao)}function da(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,u3(r)),ft!==null)for(r=ft.return;r!==null;){var s=r;switch(fx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ch();break;case 3:cl(),Ke(xr),Ke(Wt),Nx();break;case 5:wx(s);break;case 4:cl();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:xx(s.type._context);break;case 22:case 23:Mx()}r=r.return}if(Ct=e,ft=e=gi(e.current,null),Ft=Sr=t,Nt=0,Zc=null,Px=zf=ga=0,hr=kc=null,Bi!==null){for(t=0;t<Bi.length;t++)if(r=Bi[t],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,a=r.pending;if(a!==null){var o=a.next;a.next=n,s.next=o}r.pending=s}Bi=null}return e}function aj(e,t){do{var r=ft;try{if(gx(),Ju.current=Ih,Oh){for(var s=Je.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}Oh=!1}if(pa=0,_t=vt=Je=null,Nc=!1,Gc=0,Tx.current=null,r===null||r.return===null){Nt=1,Zc=t,ft=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Gv(o);if(g!==null){g.flags&=-257,Kv(g,o,l,a,t),g.mode&1&&qv(a,d,t),t=g,c=d;var y=t.updateQueue;if(y===null){var m=new Set;m.add(c),t.updateQueue=m}else y.add(c);break e}else{if(!(t&1)){qv(a,d,t),Fx();break e}c=Error(K(426))}}else if(Qe&&l.mode&1){var b=Gv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Kv(b,o,l,a,t),mx(dl(c,l));break e}}a=c=dl(c,l),Nt!==4&&(Nt=2),kc===null?kc=[a]:kc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=VN(a,c,t);Uv(a,v);break e;case 1:l=c;var x=a.type,N=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(mi===null||!mi.has(N)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=HN(a,l,t);Uv(a,j);break e}}a=a.return}while(a!==null)}cj(r)}catch(k){t=k,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function oj(){var e=Dh.current;return Dh.current=Ih,e===null?Ih:e}function Fx(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Ct===null||!(ga&268435455)&&!(zf&268435455)||qn(Ct,Ft)}function Uh(e,t){var r=Ae;Ae|=2;var s=oj();(Ct!==e||Ft!==t)&&(dn=null,da(e,t));do try{I3();break}catch(n){aj(e,n)}while(!0);if(gx(),Ae=r,Dh.current=s,ft!==null)throw Error(K(261));return Ct=null,Ft=0,Nt}function I3(){for(;ft!==null;)lj(ft)}function D3(){for(;ft!==null&&!lE();)lj(ft)}function lj(e){var t=uj(e.alternate,e,Sr);e.memoizedProps=e.pendingProps,t===null?cj(e):ft=t,Tx.current=null}function cj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=P3(r,t),r!==null){r.flags&=32767,ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nt=6,ft=null;return}}else if(r=T3(r,t,Sr),r!==null){ft=r;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);Nt===0&&(Nt=5)}function Di(e,t,r){var s=Be,n=Hr.transition;try{Hr.transition=null,Be=1,L3(e,t,r,s)}finally{Hr.transition=n,Be=s}return null}function L3(e,t,r,s){do xo();while(oi!==null);if(Ae&6)throw Error(K(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(yE(e,a),e===Ct&&(ft=Ct=null,Ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_u||(_u=!0,hj(wh,function(){return xo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Hr.transition,Hr.transition=null;var o=Be;Be=1;var l=Ae;Ae|=4,Tx.current=null,R3(e,r),sj(r,e),n3(Zp),jh=!!Qp,Zp=Qp=null,e.current=r,M3(r),cE(),Ae=l,Be=o,Hr.transition=a}else e.current=r;if(_u&&(_u=!1,oi=e,$h=n),a=e.pendingLanes,a===0&&(mi=null),hE(r.stateNode),vr(e,it()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(Lh)throw Lh=!1,e=gg,gg=null,e;return $h&1&&e.tag!==0&&xo(),a=e.pendingLanes,a&1?e===xg?Sc++:(Sc=0,xg=e):Sc=0,Ai(),null}function xo(){if(oi!==null){var e=V2($h),t=Hr.transition,r=Be;try{if(Hr.transition=null,Be=16>e?16:e,oi===null)var s=!1;else{if(e=oi,oi=null,$h=0,Ae&6)throw Error(K(331));var n=Ae;for(Ae|=4,ae=e.current;ae!==null;){var a=ae,o=a.child;if(ae.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ae=d;ae!==null;){var u=ae;switch(u.tag){case 0:case 11:case 15:jc(8,u,a)}var h=u.child;if(h!==null)h.return=u,ae=h;else for(;ae!==null;){u=ae;var f=u.sibling,g=u.return;if(ej(u),u===d){ae=null;break}if(f!==null){f.return=g,ae=f;break}ae=g}}}var y=a.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}ae=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ae=o;else e:for(;ae!==null;){if(a=ae,a.flags&2048)switch(a.tag){case 0:case 11:case 15:jc(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,ae=v;break e}ae=a.return}}var x=e.current;for(ae=x;ae!==null;){o=ae;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,ae=N;else e:for(o=x;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Uf(9,l)}}catch(k){rt(l,l.return,k)}if(l===o){ae=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ae=j;break e}ae=l.return}}if(Ae=n,Ai(),Ks&&typeof Ks.onPostCommitFiberRoot=="function")try{Ks.onPostCommitFiberRoot(Rf,e)}catch{}s=!0}return s}finally{Be=r,Hr.transition=t}}return!1}function ob(e,t,r){t=dl(r,t),t=VN(e,t,1),e=fi(e,t,1),t=ir(),e!==null&&(Kd(e,1,t),vr(e,t))}function rt(e,t,r){if(e.tag===3)ob(e,e,r);else for(;t!==null;){if(t.tag===3){ob(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(mi===null||!mi.has(s))){e=dl(r,e),e=HN(t,e,1),t=fi(t,e,1),e=ir(),t!==null&&(Kd(t,1,e),vr(t,e));break}}t=t.return}}function $3(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ir(),e.pingedLanes|=e.suspendedLanes&r,Ct===e&&(Ft&r)===r&&(Nt===4||Nt===3&&(Ft&130023424)===Ft&&500>it()-Ax?da(e,0):Px|=r),vr(e,t)}function dj(e,t){t===0&&(e.mode&1?(t=gu,gu<<=1,!(gu&130023424)&&(gu=4194304)):t=1);var r=ir();e=_n(e,t),e!==null&&(Kd(e,t,r),vr(e,r))}function U3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dj(e,r)}function z3(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(K(314))}s!==null&&s.delete(t),dj(e,r)}var uj;uj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xr.current)pr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return pr=!1,E3(e,t,r);pr=!!(e.flags&131072)}else pr=!1,Qe&&t.flags&1048576&&pN(t,Ph,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;th(e,t),e=t.pendingProps;var n=al(t,Wt.current);go(t,r),n=kx(null,t,s,e,n,r);var a=Sx();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yr(s)?(a=!0,Eh(t)):a=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,vx(t),n.updater=$f,t.stateNode=n,n._reactInternals=t,ig(t,s,e,r),t=lg(null,t,s,!0,a,r)):(t.tag=0,Qe&&a&&hx(t),rr(null,t,n,r),t=t.child),t;case 16:s=t.elementType;e:{switch(th(e,t),e=t.pendingProps,n=s._init,s=n(s._payload),t.type=s,n=t.tag=V3(s),e=Jr(s,e),n){case 0:t=og(null,t,s,e,r);break e;case 1:t=Yv(null,t,s,e,r);break e;case 11:t=Qv(null,t,s,e,r);break e;case 14:t=Zv(null,t,s,Jr(s.type,e),r);break e}throw Error(K(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Jr(s,n),og(e,t,s,n,r);case 1:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Jr(s,n),Yv(e,t,s,n,r);case 3:e:{if(KN(t),e===null)throw Error(K(387));s=t.pendingProps,a=t.memoizedState,n=a.element,wN(e,t),Mh(t,s,null,r);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){n=dl(Error(K(423)),t),t=Xv(e,t,s,r,n);break e}else if(s!==n){n=dl(Error(K(424)),t),t=Xv(e,t,s,r,n);break e}else for(Er=hi(t.stateNode.containerInfo.firstChild),Tr=t,Qe=!0,ds=null,r=vN(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ol(),s===n){t=Cn(e,t,r);break e}rr(e,t,s,r)}t=t.child}return t;case 5:return NN(t),e===null&&rg(t),s=t.type,n=t.pendingProps,a=e!==null?e.memoizedProps:null,o=n.children,Yp(s,n)?o=null:a!==null&&Yp(s,a)&&(t.flags|=32),GN(e,t),rr(e,t,o,r),t.child;case 6:return e===null&&rg(t),null;case 13:return QN(e,t,r);case 4:return bx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ll(t,null,s,r):rr(e,t,s,r),t.child;case 11:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Jr(s,n),Qv(e,t,s,n,r);case 7:return rr(e,t,t.pendingProps,r),t.child;case 8:return rr(e,t,t.pendingProps.children,r),t.child;case 12:return rr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,a=t.memoizedProps,o=n.value,We(Ah,s._currentValue),s._currentValue=o,a!==null)if(Ns(a.value,o)){if(a.children===n.children&&!xr.current){t=Cn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=wn(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),sg(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(K(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),sg(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}rr(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,go(t,r),n=qr(n),s=s(n),t.flags|=1,rr(e,t,s,r),t.child;case 14:return s=t.type,n=Jr(s,t.pendingProps),n=Jr(s.type,n),Zv(e,t,s,n,r);case 15:return WN(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:Jr(s,n),th(e,t),t.tag=1,yr(s)?(e=!0,Eh(t)):e=!1,go(t,r),BN(t,s,n),ig(t,s,n,r),lg(null,t,s,!0,e,r);case 19:return ZN(e,t,r);case 22:return qN(e,t,r)}throw Error(K(156,t.tag))};function hj(e,t){return $2(e,t)}function B3(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,r,s){return new B3(e,t,r,s)}function Ox(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V3(e){if(typeof e=="function")return Ox(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ex)return 11;if(e===tx)return 14}return 2}function gi(e,t){var r=e.alternate;return r===null?(r=Vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function nh(e,t,r,s,n,a){var o=2;if(s=e,typeof e=="function")Ox(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Za:return ua(r.children,n,a,t);case J0:o=8,n|=8;break;case Tp:return e=Vr(12,r,t,n|2),e.elementType=Tp,e.lanes=a,e;case Pp:return e=Vr(13,r,t,n),e.elementType=Pp,e.lanes=a,e;case Ap:return e=Vr(19,r,t,n),e.elementType=Ap,e.lanes=a,e;case N2:return Bf(r,n,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b2:o=10;break e;case w2:o=9;break e;case ex:o=11;break e;case tx:o=14;break e;case Vn:o=16,s=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Vr(o,r,t,n),t.elementType=e,t.type=s,t.lanes=a,t}function ua(e,t,r,s){return e=Vr(7,e,s,t),e.lanes=r,e}function Bf(e,t,r,s){return e=Vr(22,e,s,t),e.elementType=N2,e.lanes=r,e.stateNode={isHidden:!1},e}function Wm(e,t,r){return e=Vr(6,e,null,t),e.lanes=r,e}function qm(e,t,r){return t=Vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H3(e,t,r,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_m(0),this.expirationTimes=_m(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_m(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Ix(e,t,r,s,n,a,o,l,c){return e=new H3(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Vr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vx(a),e}function W3(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qa,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function fj(e){if(!e)return yi;e=e._reactInternals;e:{if(Ra(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var r=e.type;if(yr(r))return fN(e,r,t)}return t}function mj(e,t,r,s,n,a,o,l,c){return e=Ix(r,s,!0,e,n,a,o,l,c),e.context=fj(null),r=e.current,s=ir(),n=pi(r),a=wn(s,n),a.callback=t??null,fi(r,a,n),e.current.lanes=n,Kd(e,n,s),vr(e,s),e}function Vf(e,t,r,s){var n=t.current,a=ir(),o=pi(n);return r=fj(r),t.context===null?t.context=r:t.pendingContext=r,t=wn(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=fi(n,t,o),e!==null&&(vs(e,n,o,a),Xu(e,n,o)),o}function zh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Dx(e,t){lb(e,t),(e=e.alternate)&&lb(e,t)}function q3(){return null}var pj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lx(e){this._internalRoot=e}Hf.prototype.render=Lx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Vf(e,t,null,null)};Hf.prototype.unmount=Lx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xa(function(){Vf(null,e,null,null)}),t[Sn]=null}};function Hf(e){this._internalRoot=e}Hf.prototype.unstable_scheduleHydration=function(e){if(e){var t=q2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wn.length&&t!==0&&t<Wn[r].priority;r++);Wn.splice(r,0,e),r===0&&K2(e)}};function $x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cb(){}function G3(e,t,r,s,n){if(n){if(typeof s=="function"){var a=s;s=function(){var d=zh(o);a.call(d)}}var o=mj(t,s,e,0,null,!1,!1,"",cb);return e._reactRootContainer=o,e[Sn]=o.current,Bc(e.nodeType===8?e.parentNode:e),xa(),o}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var l=s;s=function(){var d=zh(c);l.call(d)}}var c=Ix(e,0,!1,null,null,!1,!1,"",cb);return e._reactRootContainer=c,e[Sn]=c.current,Bc(e.nodeType===8?e.parentNode:e),xa(function(){Vf(t,c,r,s)}),c}function qf(e,t,r,s,n){var a=r._reactRootContainer;if(a){var o=a;if(typeof n=="function"){var l=n;n=function(){var c=zh(o);l.call(c)}}Vf(t,o,e,n)}else o=G3(r,t,e,n,s);return zh(o)}H2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ic(t.pendingLanes);r!==0&&(nx(t,r|1),vr(t,it()),!(Ae&6)&&(ul=it()+500,Ai()))}break;case 13:xa(function(){var s=_n(e,1);if(s!==null){var n=ir();vs(s,e,1,n)}}),Dx(e,1)}};ix=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var r=ir();vs(t,e,134217728,r)}Dx(e,134217728)}};W2=function(e){if(e.tag===13){var t=pi(e),r=_n(e,t);if(r!==null){var s=ir();vs(r,e,t,s)}Dx(e,t)}};q2=function(){return Be};G2=function(e,t){var r=Be;try{return Be=e,t()}finally{Be=r}};zp=function(e,t,r){switch(t){case"input":if(Fp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=If(s);if(!n)throw Error(K(90));k2(s),Fp(s,n)}}}break;case"textarea":_2(e,r);break;case"select":t=r.value,t!=null&&ho(e,!!r.multiple,t,!1)}};M2=Rx;F2=xa;var K3={usingClientEntryPoint:!1,Events:[Zd,eo,If,A2,R2,Rx]},ql={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q3={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=D2(e),e===null?null:e.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||q3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Rf=Cu.inject(Q3),Ks=Cu}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K3;Fr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$x(t))throw Error(K(200));return W3(e,t,null,r)};Fr.createRoot=function(e,t){if(!$x(e))throw Error(K(299));var r=!1,s="",n=pj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=Ix(e,1,!1,null,null,r,!1,s,n),e[Sn]=t.current,Bc(e.nodeType===8?e.parentNode:e),new Lx(t)};Fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=D2(t),e=e===null?null:e.stateNode,e};Fr.flushSync=function(e){return xa(e)};Fr.hydrate=function(e,t,r){if(!Wf(t))throw Error(K(200));return qf(null,e,t,!0,r)};Fr.hydrateRoot=function(e,t,r){if(!$x(e))throw Error(K(405));var s=r!=null&&r.hydratedSources||null,n=!1,a="",o=pj;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=mj(t,null,e,1,r??null,n,!1,a,o),e[Sn]=t.current,Bc(e),s)for(e=0;e<s.length;e++)r=s[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Hf(t)};Fr.render=function(e,t,r){if(!Wf(t))throw Error(K(200));return qf(null,e,t,!1,r)};Fr.unmountComponentAtNode=function(e){if(!Wf(e))throw Error(K(40));return e._reactRootContainer?(xa(function(){qf(null,null,e,!1,function(){e._reactRootContainer=null,e[Sn]=null})}),!0):!1};Fr.unstable_batchedUpdates=Rx;Fr.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Wf(r))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return qf(e,t,r,!1,s)};Fr.version="18.3.1-next-f1338f8080-20240426";function gj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gj)}catch(e){console.error(e)}}gj(),g2.exports=Fr;var Ma=g2.exports;const Z3=An(Ma);var xj,db=Ma;xj=db.createRoot,db.hydrateRoot;function Y3(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,s,n,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();n=c.shift();)r=n[0],r==="*"?(o.push(r),l+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=n.indexOf("?",1),a=n.indexOf(".",1),o.push(n.substring(1,~s?s:~a?a:n.length)),l+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~s?"?":"")+"\\"+n.substring(a))):l+="/"+n;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var yj={exports:{}},vj={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=p;function X3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var J3=typeof Object.is=="function"?Object.is:X3,eT=hl.useState,tT=hl.useEffect,rT=hl.useLayoutEffect,sT=hl.useDebugValue;function nT(e,t){var r=t(),s=eT({inst:{value:r,getSnapshot:t}}),n=s[0].inst,a=s[1];return rT(function(){n.value=r,n.getSnapshot=t,Gm(n)&&a({inst:n})},[e,r,t]),tT(function(){return Gm(n)&&a({inst:n}),e(function(){Gm(n)&&a({inst:n})})},[e]),sT(r),r}function Gm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!J3(e,r)}catch{return!0}}function iT(e,t){return t()}var aT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?iT:nT;vj.useSyncExternalStore=hl.useSyncExternalStore!==void 0?hl.useSyncExternalStore:aT;yj.exports=vj;var oT=yj.exports;const lT=m2.useInsertionEffect,cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bj=cT?p.useLayoutEffect:p.useEffect,dT=lT||bj,Ux=e=>{const t=p.useRef([e,(...r)=>t[0](...r)]).current;return dT(()=>{t[0]=e}),t[1]},uT="popstate",zx="pushState",Bx="replaceState",hT="hashchange",ub=[uT,zx,Bx,hT],fT=e=>{for(const t of ub)addEventListener(t,e);return()=>{for(const t of ub)removeEventListener(t,e)}},wj=(e,t)=>oT.useSyncExternalStore(fT,e,t),mT=()=>location.search,pT=({ssrSearch:e=""}={})=>wj(mT,()=>e),hb=()=>location.pathname,gT=({ssrPath:e}={})=>wj(hb,e?()=>e:hb),xT=(e,{replace:t=!1,state:r=null}={})=>history[t?Bx:zx](r,"",e),yT=(e={})=>[gT(e),xT],fb=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[fb]>"u"){for(const e of[zx,Bx]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,fb,{value:!0})}const vT=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Nj=(e="")=>e==="/"?"":e,bT=(e,t)=>e[0]==="~"?e.slice(1):Nj(t)+e,wT=(e="",t)=>vT(mb(Nj(e)),mb(t)),mb=e=>{try{return decodeURI(e)}catch{return e}},jj={hook:yT,searchHook:pT,parser:Y3,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},kj=p.createContext(jj),Xd=()=>p.useContext(kj),Sj={},_j=p.createContext(Sj),Vx=()=>p.useContext(_j),Gf=e=>{const[t,r]=e.hook(e);return[wT(e.base,t),Ux((s,n)=>r(bT(s,e.base),n))]},Ir=()=>Gf(Xd()),Cj=(e,t,r,s)=>{const{pattern:n,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=n.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,f)=>[h,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...s?[l]:[]]:[!1,null]},NT=({children:e,...t})=>{var u,h;const r=Xd(),s=t.hook?jj:r;let n=s;const[a,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let l=p.useRef({}),c=l.current,d=c;for(let f in s){const g=f==="base"?s[f]+(t[f]||""):t[f]||s[f];c===d&&g!==d[f]&&(l.current=d={...d}),d[f]=g,g!==s[f]&&(n=d)}return p.createElement(kj.Provider,{value:n,children:e})},pb=({children:e,component:t},r)=>t?p.createElement(t,{params:r}):typeof e=="function"?e(r):e,jT=e=>{let t=p.useRef(Sj),r=t.current;for(const s in e)e[s]!==r[s]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},ut=({path:e,nest:t,match:r,...s})=>{const n=Xd(),[a]=Gf(n),[o,l,c]=r??Cj(n.parser,e,a,t),d=jT({...Vx(),...l});if(!o)return null;const u=c?p.createElement(NT,{base:c},pb(s,d)):pb(s,d);return p.createElement(_j.Provider,{value:d,children:u})},Ze=p.forwardRef((e,t)=>{const r=Xd(),[s,n]=Gf(r),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:f,...g}=e,y=Ux(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),n(o,e)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&p.isValidElement(d)?p.cloneElement(d,{onClick:y,href:m}):p.createElement("a",{...g,onClick:y,href:m,className:u!=null&&u.call?u(s===o):u,children:d,ref:t})}),Ej=e=>Array.isArray(e)?e.flatMap(t=>Ej(t&&t.type===p.Fragment?t.props.children:t)):[e],kT=({children:e,location:t})=>{const r=Xd(),[s]=Gf(r);for(const n of Ej(e)){let a=0;if(p.isValidElement(n)&&(a=Cj(r.parser,n.props.path,t||s,n.props.nest))[0])return p.cloneElement(n,{match:a})}return null},oc=e=>{const{to:t,href:r=t}=e,[,s]=Ir(),n=Ux(()=>s(t||r,e));return bj(()=>{n()},[]),null};var Rl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ya=typeof window>"u"||"Deno"in globalThis;function Ur(){}function ST(e,t){return typeof e=="function"?e(t):e}function bg(e){return typeof e=="number"&&e>=0&&e!==1/0}function Tj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yo(e,t){return typeof e=="function"?e(t):e}function us(e,t){return typeof e=="function"?e(t):e}function gb(e,t){const{type:r="all",exact:s,fetchStatus:n,predicate:a,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Hx(o,t.options))return!1}else if(!Yc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||n&&n!==t.state.fetchStatus||a&&!a(t))}function xb(e,t){const{exact:r,status:s,predicate:n,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(va(t.options.mutationKey)!==va(a))return!1}else if(!Yc(t.options.mutationKey,a))return!1}return!(s&&t.state.status!==s||n&&!n(t))}function Hx(e,t){return((t==null?void 0:t.queryKeyHashFn)||va)(e)}function va(e){return JSON.stringify(e,(t,r)=>wg(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function Yc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Yc(e[r],t[r])):!1}function Pj(e,t){if(e===t)return e;const r=yb(e)&&yb(t);if(r||wg(e)&&wg(t)){const s=r?e:Object.keys(e),n=s.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:a[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=Pj(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return n===o&&c===n?e:l}return t}function Bh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function yb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wg(e){if(!vb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!vb(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function vb(e){return Object.prototype.toString.call(e)==="[object Object]"}function _T(e){return new Promise(t=>{setTimeout(t,e)})}function Ng(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Pj(e,t):t}function CT(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function ET(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Wx=Symbol();function Aj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Wx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qi,Kn,_o,Kw,TT=(Kw=class extends Rl{constructor(){super();U(this,qi);U(this,Kn);U(this,_o);B(this,_o,t=>{if(!ya&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){w(this,Kn)||this.setEventListener(w(this,_o))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,Kn))==null||t.call(this),B(this,Kn,void 0))}setEventListener(t){var r;B(this,_o,t),(r=w(this,Kn))==null||r.call(this),B(this,Kn,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){w(this,qi)!==t&&(B(this,qi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof w(this,qi)=="boolean"?w(this,qi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qi=new WeakMap,Kn=new WeakMap,_o=new WeakMap,Kw),qx=new TT,Co,Qn,Eo,Qw,PT=(Qw=class extends Rl{constructor(){super();U(this,Co,!0);U(this,Qn);U(this,Eo);B(this,Eo,t=>{if(!ya&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){w(this,Qn)||this.setEventListener(w(this,Eo))}onUnsubscribe(){var t;this.hasListeners()||((t=w(this,Qn))==null||t.call(this),B(this,Qn,void 0))}setEventListener(t){var r;B(this,Eo,t),(r=w(this,Qn))==null||r.call(this),B(this,Qn,t(this.setOnline.bind(this)))}setOnline(t){w(this,Co)!==t&&(B(this,Co,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return w(this,Co)}},Co=new WeakMap,Qn=new WeakMap,Eo=new WeakMap,Qw),Vh=new PT;function jg(){let e,t;const r=new Promise((n,a)=>{e=n,t=a});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),e(n)},r.reject=n=>{s({status:"rejected",reason:n}),t(n)},r}function AT(e){return Math.min(1e3*2**e,3e4)}function Rj(e){return(e??"online")==="online"?Vh.isOnline():!0}var Mj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Km(e){return e instanceof Mj}function Fj(e){let t=!1,r=0,s=!1,n;const a=jg(),o=m=>{var b;s||(f(new Mj(m)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>qx.isFocused()&&(e.networkMode==="always"||Vh.isOnline())&&e.canRun(),u=()=>Rj(e.networkMode)&&e.canRun(),h=m=>{var b;s||(s=!0,(b=e.onSuccess)==null||b.call(e,m),n==null||n(),a.resolve(m))},f=m=>{var b;s||(s=!0,(b=e.onError)==null||b.call(e,m),n==null||n(),a.reject(m))},g=()=>new Promise(m=>{var b;n=v=>{(s||d())&&m(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var m;n=void 0,s||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(s)return;let m;const b=r===0?e.initialPromise:void 0;try{m=b??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(h).catch(v=>{var C;if(s)return;const x=e.retry??(ya?0:3),N=e.retryDelay??AT,j=typeof N=="function"?N(r,v):N,k=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,v);if(t||!k){f(v);return}r++,(C=e.onFail)==null||C.call(e,r,v),_T(j).then(()=>d()?void 0:g()).then(()=>{t?f(v):y()})})};return{promise:a,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():g().then(y),a)}}function RT(){let e=[],t=0,r=l=>{l()},s=l=>{l()},n=l=>setTimeout(l,0);const a=l=>{t?e.push(l):n(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&n(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{n=l}}}var wt=RT(),Gi,Zw,Oj=(Zw=class{constructor(){U(this,Gi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bg(this.gcTime)&&B(this,Gi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ya?1/0:5*60*1e3))}clearGcTimeout(){w(this,Gi)&&(clearTimeout(w(this,Gi)),B(this,Gi,void 0))}},Gi=new WeakMap,Zw),To,Po,Lr,zt,Nd,Ki,es,ln,Yw,MT=(Yw=class extends Oj{constructor(t){super();U(this,es);U(this,To);U(this,Po);U(this,Lr);U(this,zt);U(this,Nd);U(this,Ki);B(this,Ki,!1),B(this,Nd,t.defaultOptions),this.setOptions(t.options),this.observers=[],B(this,Lr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,B(this,To,FT(this.options)),this.state=t.state??w(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=w(this,zt))==null?void 0:t.promise}setOptions(t){this.options={...w(this,Nd),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&w(this,Lr).remove(this)}setData(t,r){const s=Ng(this.state.data,t,this.options);return H(this,es,ln).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){H(this,es,ln).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,n;const r=(s=w(this,zt))==null?void 0:s.promise;return(n=w(this,zt))==null||n.cancel(t),r?r.then(Ur).catch(Ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(w(this,To))}isActive(){return this.observers.some(t=>us(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Tj(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=w(this,zt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=w(this,zt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),w(this,Lr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(w(this,zt)&&(w(this,Ki)?w(this,zt).cancel({revert:!0}):w(this,zt).cancelRetry()),this.scheduleGc()),w(this,Lr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||H(this,es,ln).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(w(this,zt))return w(this,zt).continueRetry(),w(this,zt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(B(this,Ki,!0),s.signal)})},a=()=>{const h=Aj(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return n(f),B(this,Ki,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};n(o),(c=this.options.behavior)==null||c.onFetch(o,this),B(this,Po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&H(this,es,ln).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var f,g,y,m;Km(h)&&h.silent||H(this,es,ln).call(this,{type:"error",error:h}),Km(h)||((g=(f=w(this,Lr).config).onError)==null||g.call(f,h,this),(m=(y=w(this,Lr).config).onSettled)==null||m.call(y,this.state.data,h,this)),this.scheduleGc()};return B(this,zt,Fj({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var f,g,y,m;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(g=(f=w(this,Lr).config).onSuccess)==null||g.call(f,h,this),(m=(y=w(this,Lr).config).onSettled)==null||m.call(y,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{H(this,es,ln).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{H(this,es,ln).call(this,{type:"pause"})},onContinue:()=>{H(this,es,ln).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),w(this,zt).start()}},To=new WeakMap,Po=new WeakMap,Lr=new WeakMap,zt=new WeakMap,Nd=new WeakMap,Ki=new WeakMap,es=new WeakSet,ln=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Ij(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Km(n)&&n.revert&&w(this,Po)?{...w(this,Po),fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),wt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),w(this,Lr).notify({query:this,type:"updated",action:t})})},Yw);function Ij(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Rj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function FT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fs,Xw,OT=(Xw=class extends Rl{constructor(t={}){super();U(this,Fs);this.config=t,B(this,Fs,new Map)}build(t,r,s){const n=r.queryKey,a=r.queryHash??Hx(n,r);let o=this.get(a);return o||(o=new MT({cache:this,queryKey:n,queryHash:a,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){w(this,Fs).has(t.queryHash)||(w(this,Fs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=w(this,Fs).get(t.queryHash);r&&(t.destroy(),r===t&&w(this,Fs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return w(this,Fs).get(t)}getAll(){return[...w(this,Fs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>gb(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>gb(t,s)):r}notify(t){wt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fs=new WeakMap,Xw),Os,Xt,Qi,Is,Un,Jw,IT=(Jw=class extends Oj{constructor(t){super();U(this,Is);U(this,Os);U(this,Xt);U(this,Qi);this.mutationId=t.mutationId,B(this,Xt,t.mutationCache),B(this,Os,[]),this.state=t.state||Dj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){w(this,Os).includes(t)||(w(this,Os).push(t),this.clearGcTimeout(),w(this,Xt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){B(this,Os,w(this,Os).filter(r=>r!==t)),this.scheduleGc(),w(this,Xt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){w(this,Os).length||(this.state.status==="pending"?this.scheduleGc():w(this,Xt).remove(this))}continue(){var t;return((t=w(this,Qi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var n,a,o,l,c,d,u,h,f,g,y,m,b,v,x,N,j,k,C,S;B(this,Qi,Fj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,T)=>{H(this,Is,Un).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{H(this,Is,Un).call(this,{type:"pause"})},onContinue:()=>{H(this,Is,Un).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>w(this,Xt).canRun(this)}));const r=this.state.status==="pending",s=!w(this,Qi).canStart();try{if(!r){H(this,Is,Un).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(n=w(this,Xt).config).onMutate)==null?void 0:a.call(n,t,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));T!==this.state.context&&H(this,Is,Un).call(this,{type:"pending",context:T,variables:t,isPaused:s})}const E=await w(this,Qi).start();return await((d=(c=w(this,Xt).config).onSuccess)==null?void 0:d.call(c,E,t,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,E,t,this.state.context)),await((g=(f=w(this,Xt).config).onSettled)==null?void 0:g.call(f,E,null,this.state.variables,this.state.context,this)),await((m=(y=this.options).onSettled)==null?void 0:m.call(y,E,null,t,this.state.context)),H(this,Is,Un).call(this,{type:"success",data:E}),E}catch(E){try{throw await((v=(b=w(this,Xt).config).onError)==null?void 0:v.call(b,E,t,this.state.context,this)),await((N=(x=this.options).onError)==null?void 0:N.call(x,E,t,this.state.context)),await((k=(j=w(this,Xt).config).onSettled)==null?void 0:k.call(j,void 0,E,this.state.variables,this.state.context,this)),await((S=(C=this.options).onSettled)==null?void 0:S.call(C,void 0,E,t,this.state.context)),E}finally{H(this,Is,Un).call(this,{type:"error",error:E})}}finally{w(this,Xt).runNext(this)}}},Os=new WeakMap,Xt=new WeakMap,Qi=new WeakMap,Is=new WeakSet,Un=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),wt.batch(()=>{w(this,Os).forEach(s=>{s.onMutationUpdate(t)}),w(this,Xt).notify({mutation:this,type:"updated",action:t})})},Jw);function Dj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,jd,e2,DT=(e2=class extends Rl{constructor(t={}){super();U(this,kr);U(this,jd);this.config=t,B(this,kr,new Map),B(this,jd,Date.now())}build(t,r,s){const n=new IT({mutationCache:this,mutationId:++cu(this,jd)._,options:t.defaultMutationOptions(r),state:s});return this.add(n),n}add(t){const r=Eu(t),s=w(this,kr).get(r)??[];s.push(t),w(this,kr).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=Eu(t);if(w(this,kr).has(r)){const n=(s=w(this,kr).get(r))==null?void 0:s.filter(a=>a!==t);n&&(n.length===0?w(this,kr).delete(r):w(this,kr).set(r,n))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=w(this,kr).get(Eu(t)))==null?void 0:s.find(n=>n.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=w(this,kr).get(Eu(t)))==null?void 0:s.find(n=>n!==t&&n.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...w(this,kr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>xb(r,s))}findAll(t={}){return this.getAll().filter(r=>xb(t,r))}notify(t){wt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return wt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ur))))}},kr=new WeakMap,jd=new WeakMap,e2);function Eu(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function bb(e){return{onFetch:(t,r)=>{var u,h,f,g,y;const s=t.options,n=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const b=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=Aj(t.options,t.fetchOptions),x=async(N,j,k)=>{if(m)return Promise.reject();if(j==null&&N.pages.length)return Promise.resolve(N);const C={queryKey:t.queryKey,pageParam:j,direction:k?"backward":"forward",meta:t.options.meta};b(C);const S=await v(C),{maxPages:E}=t.options,T=k?ET:CT;return{pages:T(N.pages,S,E),pageParams:T(N.pageParams,j,E)}};if(n&&a.length){const N=n==="backward",j=N?LT:wb,k={pages:a,pageParams:o},C=j(s,k);l=await x(k,C,N)}else{const N=e??a.length;do{const j=c===0?o[0]??s.initialPageParam:wb(s,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<N)}return l};t.options.persister?t.fetchFn=()=>{var m,b;return(b=(m=t.options).persister)==null?void 0:b.call(m,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function wb(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function LT(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var tt,Zn,Yn,Ao,Ro,Xn,Mo,Fo,t2,$T=(t2=class{constructor(e={}){U(this,tt);U(this,Zn);U(this,Yn);U(this,Ao);U(this,Ro);U(this,Xn);U(this,Mo);U(this,Fo);B(this,tt,e.queryCache||new OT),B(this,Zn,e.mutationCache||new DT),B(this,Yn,e.defaultOptions||{}),B(this,Ao,new Map),B(this,Ro,new Map),B(this,Xn,0)}mount(){cu(this,Xn)._++,w(this,Xn)===1&&(B(this,Mo,qx.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,tt).onFocus())})),B(this,Fo,Vh.subscribe(async e=>{e&&(await this.resumePausedMutations(),w(this,tt).onOnline())})))}unmount(){var e,t;cu(this,Xn)._--,w(this,Xn)===0&&((e=w(this,Mo))==null||e.call(this),B(this,Mo,void 0),(t=w(this,Fo))==null||t.call(this),B(this,Fo,void 0))}isFetching(e){return w(this,tt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return w(this,Zn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=w(this,tt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=w(this,tt).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(yo(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return w(this,tt).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),n=w(this,tt).get(s.queryHash),a=n==null?void 0:n.state.data,o=ST(t,a);if(o!==void 0)return w(this,tt).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return wt.batch(()=>w(this,tt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=w(this,tt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=w(this,tt);wt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=w(this,tt),s={type:"active",...e};return wt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=wt.batch(()=>w(this,tt).findAll(e).map(n=>n.cancel(r)));return Promise.all(s).then(Ur).catch(Ur)}invalidateQueries(e={},t={}){return wt.batch(()=>{if(w(this,tt).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=wt.batch(()=>w(this,tt).findAll(e).filter(n=>!n.isDisabled()).map(n=>{let a=n.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ur)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Ur)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=w(this,tt).build(this,t);return r.isStaleByTime(yo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ur).catch(Ur)}fetchInfiniteQuery(e){return e.behavior=bb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ur).catch(Ur)}ensureInfiniteQueryData(e){return e.behavior=bb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vh.isOnline()?w(this,Zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return w(this,tt)}getMutationCache(){return w(this,Zn)}getDefaultOptions(){return w(this,Yn)}setDefaultOptions(e){B(this,Yn,e)}setQueryDefaults(e,t){w(this,Ao).set(va(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...w(this,Ao).values()];let r={};return t.forEach(s=>{Yc(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){w(this,Ro).set(va(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...w(this,Ro).values()];let r={};return t.forEach(s=>{Yc(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...w(this,Yn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Hx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Wx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...w(this,Yn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){w(this,tt).clear(),w(this,Zn).clear()}},tt=new WeakMap,Zn=new WeakMap,Yn=new WeakMap,Ao=new WeakMap,Ro=new WeakMap,Xn=new WeakMap,Mo=new WeakMap,Fo=new WeakMap,t2),dr,Ee,kd,Jt,Zi,Oo,Jn,Ds,Sd,Io,Do,Yi,Xi,ei,Lo,$e,lc,kg,Sg,_g,Cg,Eg,Tg,Pg,Lj,r2,UT=(r2=class extends Rl{constructor(t,r){super();U(this,$e);U(this,dr);U(this,Ee);U(this,kd);U(this,Jt);U(this,Zi);U(this,Oo);U(this,Jn);U(this,Ds);U(this,Sd);U(this,Io);U(this,Do);U(this,Yi);U(this,Xi);U(this,ei);U(this,Lo,new Set);this.options=r,B(this,dr,t),B(this,Ds,null),B(this,Jn,jg()),this.options.experimental_prefetchInRender||w(this,Jn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(w(this,Ee).addObserver(this),Nb(w(this,Ee),this.options)?H(this,$e,lc).call(this):this.updateResult(),H(this,$e,Cg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ag(w(this,Ee),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ag(w(this,Ee),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,H(this,$e,Eg).call(this),H(this,$e,Tg).call(this),w(this,Ee).removeObserver(this)}setOptions(t,r){const s=this.options,n=w(this,Ee);if(this.options=w(this,dr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof us(this.options.enabled,w(this,Ee))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");H(this,$e,Pg).call(this),w(this,Ee).setOptions(this.options),s._defaulted&&!Bh(this.options,s)&&w(this,dr).getQueryCache().notify({type:"observerOptionsUpdated",query:w(this,Ee),observer:this});const a=this.hasListeners();a&&jb(w(this,Ee),n,this.options,s)&&H(this,$e,lc).call(this),this.updateResult(r),a&&(w(this,Ee)!==n||us(this.options.enabled,w(this,Ee))!==us(s.enabled,w(this,Ee))||yo(this.options.staleTime,w(this,Ee))!==yo(s.staleTime,w(this,Ee)))&&H(this,$e,kg).call(this);const o=H(this,$e,Sg).call(this);a&&(w(this,Ee)!==n||us(this.options.enabled,w(this,Ee))!==us(s.enabled,w(this,Ee))||o!==w(this,ei))&&H(this,$e,_g).call(this,o)}getOptimisticResult(t){const r=w(this,dr).getQueryCache().build(w(this,dr),t),s=this.createResult(r,t);return BT(this,s)&&(B(this,Jt,s),B(this,Oo,this.options),B(this,Zi,w(this,Ee).state)),s}getCurrentResult(){return w(this,Jt)}trackResult(t,r){const s={};return Object.keys(t).forEach(n=>{Object.defineProperty(s,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),r==null||r(n),t[n])})}),s}trackProp(t){w(this,Lo).add(t)}getCurrentQuery(){return w(this,Ee)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=w(this,dr).defaultQueryOptions(t),s=w(this,dr).getQueryCache().build(w(this,dr),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return H(this,$e,lc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),w(this,Jt)))}createResult(t,r){var E;const s=w(this,Ee),n=this.options,a=w(this,Jt),o=w(this,Zi),l=w(this,Oo),d=t!==s?t.state:w(this,kd),{state:u}=t;let h={...u},f=!1,g;if(r._optimisticResults){const T=this.hasListeners(),A=!T&&Nb(t,r),L=T&&jb(t,s,r,n);(A||L)&&(h={...h,...Ij(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:b}=h;if(r.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&r.select===w(this,Sd))g=w(this,Io);else try{B(this,Sd,r.select),g=r.select(h.data),g=Ng(a==null?void 0:a.data,g,r),B(this,Io,g),B(this,Ds,null)}catch(T){B(this,Ds,T)}else g=h.data;if(r.placeholderData!==void 0&&g===void 0&&b==="pending"){let T;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))T=a.data;else if(T=typeof r.placeholderData=="function"?r.placeholderData((E=w(this,Do))==null?void 0:E.state.data,w(this,Do)):r.placeholderData,r.select&&T!==void 0)try{T=r.select(T),B(this,Ds,null)}catch(A){B(this,Ds,A)}T!==void 0&&(b="success",g=Ng(a==null?void 0:a.data,T,r),f=!0)}w(this,Ds)&&(y=w(this,Ds),g=w(this,Io),m=Date.now(),b="error");const v=h.fetchStatus==="fetching",x=b==="pending",N=b==="error",j=x&&v,k=g!==void 0,S={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:N,isInitialLoading:j,isLoading:j,data:g,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:N&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:N&&k,isStale:Gx(t,r),refetch:this.refetch,promise:w(this,Jn)};if(this.options.experimental_prefetchInRender){const T=z=>{S.status==="error"?z.reject(S.error):S.data!==void 0&&z.resolve(S.data)},A=()=>{const z=B(this,Jn,S.promise=jg());T(z)},L=w(this,Jn);switch(L.status){case"pending":t.queryHash===s.queryHash&&T(L);break;case"fulfilled":(S.status==="error"||S.data!==L.value)&&A();break;case"rejected":(S.status!=="error"||S.error!==L.reason)&&A();break}}return S}updateResult(t){const r=w(this,Jt),s=this.createResult(w(this,Ee),this.options);if(B(this,Zi,w(this,Ee).state),B(this,Oo,this.options),w(this,Zi).data!==void 0&&B(this,Do,w(this,Ee)),Bh(s,r))return;B(this,Jt,s);const n={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!w(this,Lo).size)return!0;const c=new Set(l??w(this,Lo));return this.options.throwOnError&&c.add("error"),Object.keys(w(this,Jt)).some(d=>{const u=d;return w(this,Jt)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&a()&&(n.listeners=!0),H(this,$e,Lj).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&H(this,$e,Cg).call(this)}},dr=new WeakMap,Ee=new WeakMap,kd=new WeakMap,Jt=new WeakMap,Zi=new WeakMap,Oo=new WeakMap,Jn=new WeakMap,Ds=new WeakMap,Sd=new WeakMap,Io=new WeakMap,Do=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,ei=new WeakMap,Lo=new WeakMap,$e=new WeakSet,lc=function(t){H(this,$e,Pg).call(this);let r=w(this,Ee).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ur)),r},kg=function(){H(this,$e,Eg).call(this);const t=yo(this.options.staleTime,w(this,Ee));if(ya||w(this,Jt).isStale||!bg(t))return;const s=Tj(w(this,Jt).dataUpdatedAt,t)+1;B(this,Yi,setTimeout(()=>{w(this,Jt).isStale||this.updateResult()},s))},Sg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(w(this,Ee)):this.options.refetchInterval)??!1},_g=function(t){H(this,$e,Tg).call(this),B(this,ei,t),!(ya||us(this.options.enabled,w(this,Ee))===!1||!bg(w(this,ei))||w(this,ei)===0)&&B(this,Xi,setInterval(()=>{(this.options.refetchIntervalInBackground||qx.isFocused())&&H(this,$e,lc).call(this)},w(this,ei)))},Cg=function(){H(this,$e,kg).call(this),H(this,$e,_g).call(this,H(this,$e,Sg).call(this))},Eg=function(){w(this,Yi)&&(clearTimeout(w(this,Yi)),B(this,Yi,void 0))},Tg=function(){w(this,Xi)&&(clearInterval(w(this,Xi)),B(this,Xi,void 0))},Pg=function(){const t=w(this,dr).getQueryCache().build(w(this,dr),this.options);if(t===w(this,Ee))return;const r=w(this,Ee);B(this,Ee,t),B(this,kd,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Lj=function(t){wt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(w(this,Jt))}),w(this,dr).getQueryCache().notify({query:w(this,Ee),type:"observerResultsUpdated"})})},r2);function zT(e,t){return us(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nb(e,t){return zT(e,t)||e.state.data!==void 0&&Ag(e,t,t.refetchOnMount)}function Ag(e,t,r){if(us(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Gx(e,t)}return!1}function jb(e,t,r,s){return(e!==t||us(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Gx(e,r)}function Gx(e,t){return us(t.enabled,e)!==!1&&e.isStaleByTime(yo(t.staleTime,e))}function BT(e,t){return!Bh(e.getCurrentResult(),t)}var ti,ri,ur,fn,jn,ih,Rg,s2,VT=(s2=class extends Rl{constructor(r,s){super();U(this,jn);U(this,ti);U(this,ri);U(this,ur);U(this,fn);B(this,ti,r),this.setOptions(s),this.bindMethods(),H(this,jn,ih).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const s=this.options;this.options=w(this,ti).defaultMutationOptions(r),Bh(this.options,s)||w(this,ti).getMutationCache().notify({type:"observerOptionsUpdated",mutation:w(this,ur),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&va(s.mutationKey)!==va(this.options.mutationKey)?this.reset():((n=w(this,ur))==null?void 0:n.state.status)==="pending"&&w(this,ur).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=w(this,ur))==null||r.removeObserver(this)}onMutationUpdate(r){H(this,jn,ih).call(this),H(this,jn,Rg).call(this,r)}getCurrentResult(){return w(this,ri)}reset(){var r;(r=w(this,ur))==null||r.removeObserver(this),B(this,ur,void 0),H(this,jn,ih).call(this),H(this,jn,Rg).call(this)}mutate(r,s){var n;return B(this,fn,s),(n=w(this,ur))==null||n.removeObserver(this),B(this,ur,w(this,ti).getMutationCache().build(w(this,ti),this.options)),w(this,ur).addObserver(this),w(this,ur).execute(r)}},ti=new WeakMap,ri=new WeakMap,ur=new WeakMap,fn=new WeakMap,jn=new WeakSet,ih=function(){var s;const r=((s=w(this,ur))==null?void 0:s.state)??Dj();B(this,ri,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Rg=function(r){wt.batch(()=>{var s,n,a,o,l,c,d,u;if(w(this,fn)&&this.hasListeners()){const h=w(this,ri).variables,f=w(this,ri).context;(r==null?void 0:r.type)==="success"?((n=(s=w(this,fn)).onSuccess)==null||n.call(s,r.data,h,f),(o=(a=w(this,fn)).onSettled)==null||o.call(a,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(l=w(this,fn)).onError)==null||c.call(l,r.error,h,f),(u=(d=w(this,fn)).onSettled)==null||u.call(d,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(w(this,ri))})})},s2),$j=p.createContext(void 0),Ml=e=>{const t=p.useContext($j);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},HT=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx($j.Provider,{value:e,children:t})),Uj=p.createContext(!1),WT=()=>p.useContext(Uj);Uj.Provider;function qT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var GT=p.createContext(qT()),KT=()=>p.useContext(GT);function zj(e,t){return typeof e=="function"?e(...t):!!e}function Mg(){}var QT=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},ZT=e=>{p.useEffect(()=>{e.clearReset()},[e])},YT=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&zj(r,[e.error,s]),XT=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},JT=(e,t)=>e.isLoading&&e.isFetching&&!t,eP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,kb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function tP(e,t,r){var u,h,f,g,y;const s=Ml(),n=WT(),a=KT(),o=s.defaultQueryOptions(e);(h=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=n?"isRestoring":"optimistic",XT(o),QT(o,a),ZT(a);const l=!s.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(m=>{const b=n?Mg:c.subscribe(wt.batchCalls(m));return c.updateResult(),b},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),eP(o,d))throw kb(o,c,a);if(YT({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((g=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,d),o.experimental_prefetchInRender&&!ya&&JT(d,n)){const m=l?kb(o,c,a):(y=s.getQueryCache().get(o.queryHash))==null?void 0:y.promise;m==null||m.catch(Mg).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ot(e,t){return tP(e,UT)}function Zs(e,t){const r=Ml(),[s]=p.useState(()=>new VT(r,e));p.useEffect(()=>{s.setOptions(e)},[s,e]);const n=p.useSyncExternalStore(p.useCallback(o=>s.subscribe(wt.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=p.useCallback((o,l)=>{s.mutate(o,l).catch(Mg)},[s]);if(n.error&&zj(s.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:a,mutateAsync:n.mutate}}async function Bj(e){if(!e.ok){let t;try{const s=await e.text();s.trim().startsWith("<!DOCTYPE")||s.trim().startsWith("<html")?(console.error("Server returned HTML instead of JSON:",e.status,e.url),t={error:`Server error ${e.status}: Service temporarily unavailable`}):t=JSON.parse(s)}catch(s){console.error("Failed to parse response:",s),t={error:e.statusText||"Unknown error"}}const r=new Error(`${e.status}: ${t.error||e.statusText}`);throw r.response={data:t},r}}async function at(e,t){const r=localStorage.getItem("authToken"),s={...(t==null?void 0:t.headers)||{}};r&&(s.Authorization=`Bearer ${r}`),t!=null&&t.body&&(s["Content-Type"]="application/json");const n=await fetch(e,{...t,headers:s,credentials:"include"});return await Bj(n),await n.json()}const rP=({on401:e})=>async({queryKey:t,signal:r})=>{const s=t.join("/"),n=s.includes("/api/recommendations")?12e4:3e4,a=new AbortController,o=setTimeout(()=>a.abort(),n);if(r!=null&&r.aborted)throw clearTimeout(o),new Error("Query was cancelled");const l=localStorage.getItem("authToken"),c={};l&&(c.Authorization=`Bearer ${l}`);try{const d=await fetch(s,{credentials:"include",headers:c,signal:a.signal});return clearTimeout(o),e==="returnNull"&&d.status===401?null:(await Bj(d),await d.json())}catch(d){throw clearTimeout(o),(d==null?void 0:d.name)==="AbortError"?new Error("    .  ."):d}},_c=new $T({defaultOptions:{queries:{queryFn:rP({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),sP=1,nP=1e6;let Qm=0;function iP(){return Qm=(Qm+1)%Number.MAX_SAFE_INTEGER,Qm.toString()}const Zm=new Map,Sb=e=>{if(Zm.has(e))return;const t=setTimeout(()=>{Zm.delete(e),Cc({type:"REMOVE_TOAST",toastId:e})},nP);Zm.set(e,t)},aP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,sP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Sb(r):e.toasts.forEach(s=>{Sb(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},ah=[];let oh={toasts:[]};function Cc(e){oh=aP(oh,e),ah.forEach(t=>{t(oh)})}function oP({...e}){const t=iP(),r=n=>Cc({type:"UPDATE_TOAST",toast:{...n,id:t}}),s=()=>Cc({type:"DISMISS_TOAST",toastId:t});return Cc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||s()}}}),{id:t,dismiss:s,update:r}}function Ri(){const[e,t]=p.useState(oh);return p.useEffect(()=>(ah.push(t),()=>{const r=ah.indexOf(t);r>-1&&ah.splice(r,1)}),[e]),{...e,toast:oP,dismiss:r=>Cc({type:"DISMISS_TOAST",toastId:r})}}function ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function _b(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vj(...e){return t=>{let r=!1;const s=e.map(n=>{const a=_b(n,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let n=0;n<s.length;n++){const a=s[n];typeof a=="function"?a():_b(e[n],null)}}}}function Ce(...e){return p.useCallback(Vj(...e),e)}function lP(e,t){const r=p.createContext(t),s=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function n(a){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,n]}function Mn(e,t=[]){let r=[];function s(a,o){const l=p.createContext(o),c=r.length;r=[...r,o];const d=h=>{var v;const{scope:f,children:g,...y}=h,m=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,b=p.useMemo(()=>y,Object.values(y));return i.jsx(m.Provider,{value:b,children:g})};d.displayName=a+"Provider";function u(h,f){var m;const g=((m=f==null?void 0:f[e])==null?void 0:m[c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const n=()=>{const a=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return n.scopeName=e,[s,cP(n,...t)]}function cP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function fl(e){const t=dP(e),r=p.forwardRef((s,n)=>{const{children:a,...o}=s,l=p.Children.toArray(a),c=l.find(hP);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return i.jsx(t,{...o,ref:n,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return i.jsx(t,{...o,ref:n,children:a})});return r.displayName=`${e}.Slot`,r}var Hj=fl("Slot");function dP(e){const t=p.forwardRef((r,s)=>{const{children:n,...a}=r;if(p.isValidElement(n)){const o=mP(n),l=fP(a,n.props);return n.type!==p.Fragment&&(l.ref=s?Vj(s,o):o),p.cloneElement(n,l)}return p.Children.count(n)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wj=Symbol("radix.slottable");function uP(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Wj,t}function hP(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wj}function fP(e,t){const r={...t};for(const s in t){const n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...l)=>{a(...l),n(...l)}:n&&(r[s]=n):s==="style"?r[s]={...n,...a}:s==="className"&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}function mP(e){var s,n;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Kx(e){const t=e+"CollectionProvider",[r,s]=Mn(t),[n,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:b,children:v}=m,x=ve.useRef(null),N=ve.useRef(new Map).current;return i.jsx(n,{scope:b,itemMap:N,collectionRef:x,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=fl(l),d=ve.forwardRef((m,b)=>{const{scope:v,children:x}=m,N=a(l,v),j=Ce(b,N.collectionRef);return i.jsx(c,{ref:j,children:x})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=fl(u),g=ve.forwardRef((m,b)=>{const{scope:v,children:x,...N}=m,j=ve.useRef(null),k=Ce(b,j),C=a(u,v);return ve.useEffect(()=>(C.itemMap.set(j,{ref:j,...N}),()=>void C.itemMap.delete(j))),i.jsx(f,{[h]:"",ref:k,children:x})});g.displayName=u;function y(m){const b=a(e+"CollectionConsumer",m);return ve.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const N=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((C,S)=>N.indexOf(C.ref.current)-N.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},y,s]}var pP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ye=pP.reduce((e,t)=>{const r=fl(`Primitive.${t}`),s=p.forwardRef((n,a)=>{const{asChild:o,...l}=n,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function qj(e,t){e&&Ma.flushSync(()=>e.dispatchEvent(t))}function mt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function gP(e,t=globalThis==null?void 0:globalThis.document){const r=mt(e);p.useEffect(()=>{const s=n=>{n.key==="Escape"&&r(n)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var xP="DismissableLayer",Fg="dismissableLayer.update",yP="dismissableLayer.pointerDownOutside",vP="dismissableLayer.focusOutside",Cb,Gj=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jd=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:n,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=p.useContext(Gj),[u,h]=p.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=Ce(t,S=>h(S)),m=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(b),x=u?m.indexOf(u):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,j=x>=v,k=wP(S=>{const E=S.target,T=[...d.branches].some(A=>A.contains(E));!j||T||(n==null||n(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),C=NP(S=>{const E=S.target;[...d.branches].some(A=>A.contains(E))||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return gP(S=>{x===d.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),p.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Cb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Eb(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Cb)}},[u,f,r,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Eb())},[u,d]),p.useEffect(()=>{const S=()=>g({});return document.addEventListener(Fg,S),()=>document.removeEventListener(Fg,S)},[]),i.jsx(ye.div,{...c,ref:y,style:{pointerEvents:N?j?"auto":"none":void 0,...e.style},onFocusCapture:ue(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ue(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ue(e.onPointerDownCapture,k.onPointerDownCapture)})});Jd.displayName=xP;var bP="DismissableLayerBranch",Kj=p.forwardRef((e,t)=>{const r=p.useContext(Gj),s=p.useRef(null),n=Ce(t,s);return p.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(ye.div,{...e,ref:n})});Kj.displayName=bP;function wP(e,t=globalThis==null?void 0:globalThis.document){const r=mt(e),s=p.useRef(!1),n=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){Qj(yP,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=c,t.addEventListener("click",n.current,{once:!0})):c()}else t.removeEventListener("click",n.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function NP(e,t=globalThis==null?void 0:globalThis.document){const r=mt(e),s=p.useRef(!1);return p.useEffect(()=>{const n=a=>{a.target&&!s.current&&Qj(vP,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Eb(){const e=new CustomEvent(Fg);document.dispatchEvent(e)}function Qj(e,t,r,{discrete:s}){const n=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),s?qj(n,a):n.dispatchEvent(a)}var jP=Jd,kP=Kj,Dt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},SP="Portal",Kf=p.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[n,a]=p.useState(!1);Dt(()=>a(!0),[]);const o=r||n&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Z3.createPortal(i.jsx(ye.div,{...s,ref:t}),o):null});Kf.displayName=SP;function _P(e,t){return p.useReducer((r,s)=>t[r][s]??r,e)}var rn=e=>{const{present:t,children:r}=e,s=CP(t),n=typeof r=="function"?r({present:s.isPresent}):p.Children.only(r),a=Ce(s.ref,EP(n));return typeof r=="function"||s.isPresent?p.cloneElement(n,{ref:a}):null};rn.displayName="Presence";function CP(e){const[t,r]=p.useState(),s=p.useRef({}),n=p.useRef(e),a=p.useRef("none"),o=e?"mounted":"unmounted",[l,c]=_P(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=Tu(s.current);a.current=l==="mounted"?d:"none"},[l]),Dt(()=>{const d=s.current,u=n.current;if(u!==e){const f=a.current,g=Tu(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==g?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,c]),Dt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=g=>{const m=Tu(s.current).includes(g.animationName);if(g.target===t&&m&&(c("ANIMATION_END"),!n.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=g=>{g.target===t&&(a.current=Tu(s.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function Tu(e){return(e==null?void 0:e.animationName)||"none"}function EP(e){var s,n;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Xc({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,n]=TP({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:s,l=mt(r),c=p.useCallback(d=>{if(a){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else n(d)},[a,e,n,l]);return[o,c]}function TP({defaultProp:e,onChange:t}){const r=p.useState(e),[s]=r,n=p.useRef(s),a=mt(t);return p.useEffect(()=>{n.current!==s&&(a(s),n.current=s)},[s,n,a]),r}var PP="VisuallyHidden",eu=p.forwardRef((e,t)=>i.jsx(ye.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));eu.displayName=PP;var AP=eu,Qx="ToastProvider",[Zx,RP,MP]=Kx("Toast"),[Zj,VV]=Mn("Toast",[MP]),[FP,Qf]=Zj(Qx),Yj=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:n="right",swipeThreshold:a=50,children:o}=e,[l,c]=p.useState(null),[d,u]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qx}\`. Expected non-empty \`string\`.`),i.jsx(Zx.Provider,{scope:t,children:i.jsx(FP,{scope:t,label:r,duration:s,swipeDirection:n,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>u(g=>g+1),[]),onToastRemove:p.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Yj.displayName=Qx;var Xj="ToastViewport",OP=["F8"],Og="toast.viewportPause",Ig="toast.viewportResume",Jj=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=OP,label:n="Notifications ({hotkey})",...a}=e,o=Qf(Xj,r),l=RP(r),c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=Ce(t,h,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;p.useEffect(()=>{const b=v=>{var N;s.length!==0&&s.every(j=>v[j]||v.code===j)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[s]),p.useEffect(()=>{const b=c.current,v=h.current;if(y&&b&&v){const x=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Og);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Ig);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},j=C=>{!b.contains(C.relatedTarget)&&N()},k=()=>{b.contains(document.activeElement)||N()};return b.addEventListener("focusin",x),b.addEventListener("focusout",j),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",N),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",N)}}},[y,o.isClosePausedRef]);const m=p.useCallback(({tabbingDirection:b})=>{const x=l().map(N=>{const j=N.ref.current,k=[j,...KP(j)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?x.reverse():x).flat()},[l]);return p.useEffect(()=>{const b=h.current;if(b){const v=x=>{var k,C,S;const N=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!N){const E=document.activeElement,T=x.shiftKey;if(x.target===b&&T){(k=d.current)==null||k.focus();return}const z=m({tabbingDirection:T?"backwards":"forwards"}),q=z.findIndex(O=>O===E);Ym(z.slice(q+1))?x.preventDefault():T?(C=d.current)==null||C.focus():(S=u.current)==null||S.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[l,m]),i.jsxs(kP,{ref:c,role:"region","aria-label":n.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&i.jsx(Dg,{ref:d,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"forwards"});Ym(b)}}),i.jsx(Zx.Slot,{scope:r,children:i.jsx(ye.ol,{tabIndex:-1,...a,ref:f})}),y&&i.jsx(Dg,{ref:u,onFocusFromOutsideViewport:()=>{const b=m({tabbingDirection:"backwards"});Ym(b)}})]})});Jj.displayName=Xj;var ek="ToastFocusProxy",Dg=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...n}=e,a=Qf(ek,r);return i.jsx(eu,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&s()}})});Dg.displayName=ek;var Zf="Toast",IP="toast.swipeStart",DP="toast.swipeMove",LP="toast.swipeCancel",$P="toast.swipeEnd",tk=p.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:n,onOpenChange:a,...o}=e,[l=!0,c]=Xc({prop:s,defaultProp:n,onChange:a});return i.jsx(rn,{present:r||l,children:i.jsx(BP,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:mt(e.onPause),onResume:mt(e.onResume),onSwipeStart:ue(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ue(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});tk.displayName=Zf;var[UP,zP]=Zj(Zf,{onClose(){}}),BP=p.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:n,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...y}=e,m=Qf(Zf,r),[b,v]=p.useState(null),x=Ce(t,O=>v(O)),N=p.useRef(null),j=p.useRef(null),k=n||m.duration,C=p.useRef(0),S=p.useRef(k),E=p.useRef(0),{onToastAdd:T,onToastRemove:A}=m,L=mt(()=>{var M;(b==null?void 0:b.contains(document.activeElement))&&((M=m.viewport)==null||M.focus()),o()}),z=p.useCallback(O=>{!O||O===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(L,O))},[L]);p.useEffect(()=>{const O=m.viewport;if(O){const M=()=>{z(S.current),d==null||d()},F=()=>{const I=new Date().getTime()-C.current;S.current=S.current-I,window.clearTimeout(E.current),c==null||c()};return O.addEventListener(Og,F),O.addEventListener(Ig,M),()=>{O.removeEventListener(Og,F),O.removeEventListener(Ig,M)}}},[m.viewport,k,c,d,z]),p.useEffect(()=>{a&&!m.isClosePausedRef.current&&z(k)},[a,k,m.isClosePausedRef,z]),p.useEffect(()=>(T(),()=>A()),[T,A]);const q=p.useMemo(()=>b?lk(b):null,[b]);return m.viewport?i.jsxs(i.Fragment,{children:[q&&i.jsx(VP,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),i.jsx(UP,{scope:r,onClose:L,children:Ma.createPortal(i.jsx(Zx.ItemSlot,{scope:r,children:i.jsx(jP,{asChild:!0,onEscapeKeyDown:ue(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ue(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:ue(e.onPointerDown,O=>{O.button===0&&(N.current={x:O.clientX,y:O.clientY})}),onPointerMove:ue(e.onPointerMove,O=>{if(!N.current)return;const M=O.clientX-N.current.x,F=O.clientY-N.current.y,I=!!j.current,R=["left","right"].includes(m.swipeDirection),V=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,Q=R?V(0,M):0,se=R?0:V(0,F),pe=O.pointerType==="touch"?10:2,He={x:Q,y:se},Ve={originalEvent:O,delta:He};I?(j.current=He,Pu(DP,h,Ve,{discrete:!1})):Tb(He,m.swipeDirection,pe)?(j.current=He,Pu(IP,u,Ve,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(M)>pe||Math.abs(F)>pe)&&(N.current=null)}),onPointerUp:ue(e.onPointerUp,O=>{const M=j.current,F=O.target;if(F.hasPointerCapture(O.pointerId)&&F.releasePointerCapture(O.pointerId),j.current=null,N.current=null,M){const I=O.currentTarget,R={originalEvent:O,delta:M};Tb(M,m.swipeDirection,m.swipeThreshold)?Pu($P,g,R,{discrete:!0}):Pu(LP,f,R,{discrete:!0}),I.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),VP=e=>{const{__scopeToast:t,children:r,...s}=e,n=Qf(Zf,t),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return qP(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:i.jsx(Kf,{asChild:!0,children:i.jsx(eu,{...s,children:a&&i.jsxs(i.Fragment,{children:[n.label," ",r]})})})},HP="ToastTitle",rk=p.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return i.jsx(ye.div,{...s,ref:t})});rk.displayName=HP;var WP="ToastDescription",sk=p.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return i.jsx(ye.div,{...s,ref:t})});sk.displayName=WP;var nk="ToastAction",ik=p.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?i.jsx(ok,{altText:r,asChild:!0,children:i.jsx(Yx,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${nk}\`. Expected non-empty \`string\`.`),null)});ik.displayName=nk;var ak="ToastClose",Yx=p.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,n=zP(ak,r);return i.jsx(ok,{asChild:!0,children:i.jsx(ye.button,{type:"button",...s,ref:t,onClick:ue(e.onClick,n.onClose)})})});Yx.displayName=ak;var ok=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...n}=e;return i.jsx(ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:t})});function lk(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),GP(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!n)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...lk(s))}}),t}function Pu(e,t,r,{discrete:s}){const n=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),s?qj(n,a):n.dispatchEvent(a)}var Tb=(e,t,r=0)=>{const s=Math.abs(e.x),n=Math.abs(e.y),a=s>n;return t==="left"||t==="right"?a&&s>r:!a&&n>r};function qP(e=()=>{}){const t=mt(e);Dt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function GP(e){return e.nodeType===e.ELEMENT_NODE}function KP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ym(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var QP=Yj,ck=Jj,dk=tk,uk=rk,hk=sk,fk=ik,mk=Yx;function pk(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=pk(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function gk(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=pk(e))&&(s&&(s+=" "),s+=t);return s}const Pb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ab=gk,Yf=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return Ab(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:a}=t,o=Object.keys(n).map(d=>{const u=r==null?void 0:r[d],h=a==null?void 0:a[d];if(u===null)return null;const f=Pb(u)||Pb(h);return n[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:f,...g}=u;return Object.entries(g).every(y=>{let[m,b]=y;return Array.isArray(b)?b.includes({...a,...l}[m]):{...a,...l}[m]===b})?[...d,h,f]:d},[]);return Ab(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xk=(...e)=>e.filter((t,r,s)=>!!t&&s.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:n="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...YP,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:xk("lucide",n),...l},[...o.map(([d,u])=>p.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(e,t)=>{const r=p.forwardRef(({className:s,...n},a)=>p.createElement(XP,{ref:a,iconNode:t,className:xk(`lucide-${ZP(e)}`,s),...n}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Z("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Z("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=Z("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Z("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Z("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=Z("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Z("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Z("BriefcaseMedical",[["path",{d:"M12 11v4",key:"a6ujw6"}],["path",{d:"M14 13h-4",key:"1pl8zg"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M18 6v14",key:"1mu4gy"}],["path",{d:"M6 6v14",key:"1s15cj"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Z("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=Z("Cigarette",[["path",{d:"M17 12H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h14",key:"1mb5g1"}],["path",{d:"M18 8c0-2.5-2-2.5-2-5",key:"1il607"}],["path",{d:"M21 16a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"1yl5r7"}],["path",{d:"M22 8c0-2.5-2-2.5-2-5",key:"1gah44"}],["path",{d:"M7 12v4",key:"jqww69"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=Z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=Z("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=Z("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Z("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Z("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Z("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Z("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Z("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Z("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Z("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=Z("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Z("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=Z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=Z("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Z("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Z("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=Z("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Z("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Z("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=Z("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=Z("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Z("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Z("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=Z("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Z("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=Z("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Z("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Z("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=Z("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ny="-",PA=e=>{const t=RA(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(ny);return l[0]===""&&l.length!==1&&l.shift(),Sk(l,t)||AA(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},Sk=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),n=s?Sk(e.slice(1),s):void 0;if(n)return n;if(t.validators.length===0)return;const a=e.join(ny);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Lb=/^\[(.+)\]$/,AA=e=>{if(Lb.test(e)){const t=Lb.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},RA=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return FA(Object.entries(e.classGroups),r).forEach(([a,o])=>{Hg(o,s,a,t)}),s},Hg=(e,t,r,s)=>{e.forEach(n=>{if(typeof n=="string"){const a=n===""?t:$b(t,n);a.classGroupId=r;return}if(typeof n=="function"){if(MA(n)){Hg(n(s),t,r,s);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([a,o])=>{Hg(o,$b(t,a),r,s)})})},$b=(e,t)=>{let r=e;return t.split(ny).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},MA=e=>e.isThemeGetter,FA=(e,t)=>t?e.map(([r,s])=>{const n=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,n]}):e,OA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const n=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return n(a,o),o},set(a,o){r.has(a)?r.set(a,o):n(a,o)}}},_k="!",IA=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,n=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let b=0;b<l.length;b++){let v=l[b];if(d===0){if(v===n&&(s||l.slice(b,b+a)===t)){c.push(l.slice(u,b)),u=b+a;continue}if(v==="/"){h=b;continue}}v==="["?d++:v==="]"&&d--}const f=c.length===0?l:l.substring(u),g=f.startsWith(_k),y=g?f.substring(1):f,m=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},DA=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},LA=e=>({cache:OA(e.cacheSize),parseClassName:IA(e),...PA(e)}),$A=/\s+/,UA=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=t,a=[],o=e.trim().split($A);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=r(d);let y=!!g,m=s(y?f.substring(0,g):f);if(!m){if(!y){l=d+(l.length>0?" "+l:l);continue}if(m=s(f),!m){l=d+(l.length>0?" "+l:l);continue}y=!1}const b=DA(u).join(":"),v=h?b+_k:b,x=v+m;if(a.includes(x))continue;a.push(x);const N=n(m,y);for(let j=0;j<N.length;++j){const k=N[j];a.push(v+k)}l=d+(l.length>0?" "+l:l)}return l};function zA(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ck(t))&&(s&&(s+=" "),s+=r);return s}const Ck=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=Ck(e[s]))&&(r&&(r+=" "),r+=t);return r};function BA(e,...t){let r,s,n,a=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=LA(d),s=r.cache.get,n=r.cache.set,a=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=UA(c,r);return n(c,u),u}return function(){return a(zA.apply(null,arguments))}}const qe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Ek=/^\[(?:([a-z-]+):)?(.+)\]$/i,VA=/^\d+\/\d+$/,HA=new Set(["px","full","screen"]),WA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,an=e=>bo(e)||HA.has(e)||VA.test(e),Dn=e=>Fl(e,"length",sR),bo=e=>!!e&&!Number.isNaN(Number(e)),Xm=e=>Fl(e,"number",bo),Gl=e=>!!e&&Number.isInteger(Number(e)),ZA=e=>e.endsWith("%")&&bo(e.slice(0,-1)),we=e=>Ek.test(e),Ln=e=>WA.test(e),YA=new Set(["length","size","percentage"]),XA=e=>Fl(e,YA,Tk),JA=e=>Fl(e,"position",Tk),eR=new Set(["image","url"]),tR=e=>Fl(e,eR,iR),rR=e=>Fl(e,"",nR),Kl=()=>!0,Fl=(e,t,r)=>{const s=Ek.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},sR=e=>qA.test(e)&&!GA.test(e),Tk=()=>!1,nR=e=>KA.test(e),iR=e=>QA.test(e),aR=()=>{const e=qe("colors"),t=qe("spacing"),r=qe("blur"),s=qe("brightness"),n=qe("borderColor"),a=qe("borderRadius"),o=qe("borderSpacing"),l=qe("borderWidth"),c=qe("contrast"),d=qe("grayscale"),u=qe("hueRotate"),h=qe("invert"),f=qe("gap"),g=qe("gradientColorStops"),y=qe("gradientColorStopPositions"),m=qe("inset"),b=qe("margin"),v=qe("opacity"),x=qe("padding"),N=qe("saturate"),j=qe("scale"),k=qe("sepia"),C=qe("skew"),S=qe("space"),E=qe("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",we,t],z=()=>[we,t],q=()=>["",an,Dn],O=()=>["auto",bo,we],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",we],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[bo,we];return{cacheSize:500,separator:":",theme:{colors:[Kl],spacing:[an,Dn],blur:["none","",Ln,we],brightness:se(),borderColor:[e],borderRadius:["none","","full",Ln,we],borderSpacing:z(),borderWidth:q(),contrast:se(),grayscale:V(),hueRotate:se(),invert:V(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[ZA,Dn],inset:L(),margin:L(),opacity:se(),padding:z(),saturate:se(),scale:se(),sepia:V(),skew:se(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[Ln]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),we]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gl,we]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Gl,we]}],"grid-cols":[{"grid-cols":[Kl]}],"col-start-end":[{col:["auto",{span:["full",Gl,we]},we]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Kl]}],"row-start-end":[{row:["auto",{span:[Gl,we]},we]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,t]}],"min-w":[{"min-w":[we,t,"min","max","fit"]}],"max-w":[{"max-w":[we,t,"none","full","min","max","fit","prose",{screen:[Ln]},Ln]}],h:[{h:[we,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ln,Dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xm]}],"font-family":[{font:[Kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",bo,Xm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",an,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",an,Dn]}],"underline-offset":[{"underline-offset":["auto",an,we]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),JA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",XA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:F()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[an,we]}],"outline-w":[{outline:[an,Dn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[an,Dn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ln,rR]}],"shadow-color":[{shadow:[Kl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ln,we]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Gl,we]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[an,Dn,Xm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oR=BA(aR);function ke(...e){return oR(gk(e))}const lR=QP,Pk=p.forwardRef(({className:e,...t},r)=>i.jsx(ck,{ref:r,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Pk.displayName=ck.displayName;const cR=Yf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ak=p.forwardRef(({className:e,variant:t,...r},s)=>i.jsx(dk,{ref:s,className:ke(cR({variant:t}),e),...r}));Ak.displayName=dk.displayName;const dR=p.forwardRef(({className:e,...t},r)=>i.jsx(fk,{ref:r,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));dR.displayName=fk.displayName;const Rk=p.forwardRef(({className:e,...t},r)=>i.jsx(mk,{ref:r,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Wr,{className:"h-4 w-4"})}));Rk.displayName=mk.displayName;const Mk=p.forwardRef(({className:e,...t},r)=>i.jsx(uk,{ref:r,className:ke("text-sm font-semibold",e),...t}));Mk.displayName=uk.displayName;const Fk=p.forwardRef(({className:e,...t},r)=>i.jsx(hk,{ref:r,className:ke("text-sm opacity-90",e),...t}));Fk.displayName=hk.displayName;function uR(){const{toasts:e}=Ri();return i.jsxs(lR,{children:[e.map(function({id:t,title:r,description:s,action:n,...a}){return i.jsxs(Ak,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Mk,{children:r}),s&&i.jsx(Fk,{children:s})]}),n,i.jsx(Rk,{})]},t)}),i.jsx(Pk,{})]})}var hR=m2[" useId ".trim().toString()]||(()=>{}),fR=0;function wo(e){const[t,r]=p.useState(hR());return Dt(()=>{r(s=>s??String(fR++))},[e]),t?`radix-${t}`:""}const mR=["top","right","bottom","left"],wi=Math.min,Cr=Math.max,Wh=Math.round,Au=Math.floor,Ys=e=>({x:e,y:e}),pR={left:"right",right:"left",bottom:"top",top:"bottom"},gR={start:"end",end:"start"};function Wg(e,t,r){return Cr(e,wi(t,r))}function En(e,t){return typeof e=="function"?e(t):e}function Tn(e){return e.split("-")[0]}function Ol(e){return e.split("-")[1]}function iy(e){return e==="x"?"y":"x"}function ay(e){return e==="y"?"height":"width"}function Ni(e){return["top","bottom"].includes(Tn(e))?"y":"x"}function oy(e){return iy(Ni(e))}function xR(e,t,r){r===void 0&&(r=!1);const s=Ol(e),n=oy(e),a=ay(n);let o=n==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=qh(o)),[o,qh(o)]}function yR(e){const t=qh(e);return[qg(e),t,qg(t)]}function qg(e){return e.replace(/start|end/g,t=>gR[t])}function vR(e,t,r){const s=["left","right"],n=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?n:s:t?s:n;case"left":case"right":return t?a:o;default:return[]}}function bR(e,t,r,s){const n=Ol(e);let a=vR(Tn(e),r==="start",s);return n&&(a=a.map(o=>o+"-"+n),t&&(a=a.concat(a.map(qg)))),a}function qh(e){return e.replace(/left|right|bottom|top/g,t=>pR[t])}function wR(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ok(e){return typeof e!="number"?wR(e):{top:e,right:e,bottom:e,left:e}}function Gh(e){const{x:t,y:r,width:s,height:n}=e;return{width:s,height:n,top:r,left:t,right:t+s,bottom:r+n,x:t,y:r}}function Ub(e,t,r){let{reference:s,floating:n}=e;const a=Ni(t),o=oy(t),l=ay(o),c=Tn(t),d=a==="y",u=s.x+s.width/2-n.width/2,h=s.y+s.height/2-n.height/2,f=s[l]/2-n[l]/2;let g;switch(c){case"top":g={x:u,y:s.y-n.height};break;case"bottom":g={x:u,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:h};break;case"left":g={x:s.x-n.width,y:h};break;default:g={x:s.x,y:s.y}}switch(Ol(t)){case"start":g[o]-=f*(r&&d?-1:1);break;case"end":g[o]+=f*(r&&d?-1:1);break}return g}const NR=async(e,t,r)=>{const{placement:s="bottom",strategy:n="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:h}=Ub(d,s,c),f=s,g={},y=0;for(let m=0;m<l.length;m++){const{name:b,fn:v}=l[m],{x,y:N,data:j,reset:k}=await v({x:u,y:h,initialPlacement:s,placement:f,strategy:n,middlewareData:g,rects:d,platform:o,elements:{reference:e,floating:t}});u=x??u,h=N??h,g={...g,[b]:{...g[b],...j}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(d=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:n}):k.rects),{x:u,y:h}=Ub(d,f,c)),m=-1)}return{x:u,y:h,placement:f,strategy:n,middlewareData:g}};async function ed(e,t){var r;t===void 0&&(t={});const{x:s,y:n,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=En(t,e),y=Ok(g),b=l[f?h==="floating"?"reference":"floating":h],v=Gh(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=h==="floating"?{x:s,y:n,width:o.floating.width,height:o.floating.height}:o.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},k=Gh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:N,strategy:c}):x);return{top:(v.top-k.top+y.top)/j.y,bottom:(k.bottom-v.bottom+y.bottom)/j.y,left:(v.left-k.left+y.left)/j.x,right:(k.right-v.right+y.right)/j.x}}const jR=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:n,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=En(e,t)||{};if(d==null)return{};const h=Ok(u),f={x:r,y:s},g=oy(n),y=ay(g),m=await o.getDimensions(d),b=g==="y",v=b?"top":"left",x=b?"bottom":"right",N=b?"clientHeight":"clientWidth",j=a.reference[y]+a.reference[g]-f[g]-a.floating[y],k=f[g]-a.reference[g],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=C?C[N]:0;(!S||!await(o.isElement==null?void 0:o.isElement(C)))&&(S=l.floating[N]||a.floating[y]);const E=j/2-k/2,T=S/2-m[y]/2-1,A=wi(h[v],T),L=wi(h[x],T),z=A,q=S-m[y]-L,O=S/2-m[y]/2+E,M=Wg(z,O,q),F=!c.arrow&&Ol(n)!=null&&O!==M&&a.reference[y]/2-(O<z?A:L)-m[y]/2<0,I=F?O<z?O-z:O-q:0;return{[g]:f[g]+I,data:{[g]:M,centerOffset:O-M-I,...F&&{alignmentOffset:I}},reset:F}}}),kR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:n,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...b}=En(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=Tn(n),x=Ni(l),N=Tn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=f||(N||!m?[qh(l)]:yR(l)),C=y!=="none";!f&&C&&k.push(...bR(l,m,y,j));const S=[l,...k],E=await ed(t,b),T=[];let A=((s=a.flip)==null?void 0:s.overflows)||[];if(u&&T.push(E[v]),h){const O=xR(n,o,j);T.push(E[O[0]],E[O[1]])}if(A=[...A,{placement:n,overflows:T}],!T.every(O=>O<=0)){var L,z;const O=(((L=a.flip)==null?void 0:L.index)||0)+1,M=S[O];if(M)return{data:{index:O,overflows:A},reset:{placement:M}};let F=(z=A.filter(I=>I.overflows[0]<=0).sort((I,R)=>I.overflows[1]-R.overflows[1])[0])==null?void 0:z.placement;if(!F)switch(g){case"bestFit":{var q;const I=(q=A.filter(R=>{if(C){const V=Ni(R.placement);return V===x||V==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(V=>V>0).reduce((V,Q)=>V+Q,0)]).sort((R,V)=>R[1]-V[1])[0])==null?void 0:q[0];I&&(F=I);break}case"initialPlacement":F=l;break}if(n!==F)return{reset:{placement:F}}}return{}}}};function zb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bb(e){return mR.some(t=>e[t]>=0)}const SR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...n}=En(e,t);switch(s){case"referenceHidden":{const a=await ed(t,{...n,elementContext:"reference"}),o=zb(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Bb(o)}}}case"escaped":{const a=await ed(t,{...n,altBoundary:!0}),o=zb(a,r.floating);return{data:{escapedOffsets:o,escaped:Bb(o)}}}default:return{}}}}};async function _R(e,t){const{placement:r,platform:s,elements:n}=e,a=await(s.isRTL==null?void 0:s.isRTL(n.floating)),o=Tn(r),l=Ol(r),c=Ni(r)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,h=En(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*u,y:f*d}:{x:f*d,y:g*u}}const CR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:n,y:a,placement:o,middlewareData:l}=t,c=await _R(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:n+c.x,y:a+c.y,data:{...c,placement:o}}}}},ER=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:n}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:v,y:x}=b;return{x:v,y:x}}},...c}=En(e,t),d={x:r,y:s},u=await ed(t,c),h=Ni(Tn(n)),f=iy(h);let g=d[f],y=d[h];if(a){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=g+u[b],N=g-u[v];g=Wg(x,g,N)}if(o){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=y+u[b],N=y-u[v];y=Wg(x,y,N)}const m=l.fn({...t,[f]:g,[h]:y});return{...m,data:{x:m.x-r,y:m.y-s,enabled:{[f]:a,[h]:o}}}}}},TR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:n,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=En(e,t),u={x:r,y:s},h=Ni(n),f=iy(h);let g=u[f],y=u[h];const m=En(l,t),b=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const N=f==="y"?"height":"width",j=a.reference[f]-a.floating[N]+b.mainAxis,k=a.reference[f]+a.reference[N]-b.mainAxis;g<j?g=j:g>k&&(g=k)}if(d){var v,x;const N=f==="y"?"width":"height",j=["top","left"].includes(Tn(n)),k=a.reference[h]-a.floating[N]+(j&&((v=o.offset)==null?void 0:v[h])||0)+(j?0:b.crossAxis),C=a.reference[h]+a.reference[N]+(j?0:((x=o.offset)==null?void 0:x[h])||0)-(j?b.crossAxis:0);y<k?y=k:y>C&&(y=C)}return{[f]:g,[h]:y}}}},PR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:n,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=En(e,t),u=await ed(t,d),h=Tn(n),f=Ol(n),g=Ni(n)==="y",{width:y,height:m}=a.floating;let b,v;h==="top"||h==="bottom"?(b=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,b=f==="end"?"top":"bottom");const x=m-u.top-u.bottom,N=y-u.left-u.right,j=wi(m-u[b],x),k=wi(y-u[v],N),C=!t.middlewareData.shift;let S=j,E=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=N),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(S=x),C&&!f){const A=Cr(u.left,0),L=Cr(u.right,0),z=Cr(u.top,0),q=Cr(u.bottom,0);g?E=y-2*(A!==0||L!==0?A+L:Cr(u.left,u.right)):S=m-2*(z!==0||q!==0?z+q:Cr(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:S});const T=await o.getDimensions(l.floating);return y!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function Xf(){return typeof window<"u"}function Il(e){return Ik(e)?(e.nodeName||"").toLowerCase():"#document"}function Pr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sn(e){var t;return(t=(Ik(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ik(e){return Xf()?e instanceof Node||e instanceof Pr(e).Node:!1}function js(e){return Xf()?e instanceof Element||e instanceof Pr(e).Element:!1}function Js(e){return Xf()?e instanceof HTMLElement||e instanceof Pr(e).HTMLElement:!1}function Vb(e){return!Xf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pr(e).ShadowRoot}function tu(e){const{overflow:t,overflowX:r,overflowY:s,display:n}=ks(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(n)}function AR(e){return["table","td","th"].includes(Il(e))}function Jf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ly(e){const t=cy(),r=js(e)?ks(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function RR(e){let t=ji(e);for(;Js(t)&&!wl(t);){if(ly(t))return t;if(Jf(t))return null;t=ji(t)}return null}function cy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wl(e){return["html","body","#document"].includes(Il(e))}function ks(e){return Pr(e).getComputedStyle(e)}function em(e){return js(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ji(e){if(Il(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vb(e)&&e.host||sn(e);return Vb(t)?t.host:t}function Dk(e){const t=ji(e);return wl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Js(t)&&tu(t)?t:Dk(t)}function td(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const n=Dk(e),a=n===((s=e.ownerDocument)==null?void 0:s.body),o=Pr(n);if(a){const l=Gg(o);return t.concat(o,o.visualViewport||[],tu(n)?n:[],l&&r?td(l):[])}return t.concat(n,td(n,[],r))}function Gg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Lk(e){const t=ks(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const n=Js(e),a=n?e.offsetWidth:r,o=n?e.offsetHeight:s,l=Wh(r)!==a||Wh(s)!==o;return l&&(r=a,s=o),{width:r,height:s,$:l}}function dy(e){return js(e)?e:e.contextElement}function No(e){const t=dy(e);if(!Js(t))return Ys(1);const r=t.getBoundingClientRect(),{width:s,height:n,$:a}=Lk(t);let o=(a?Wh(r.width):r.width)/s,l=(a?Wh(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const MR=Ys(0);function $k(e){const t=Pr(e);return!cy()||!t.visualViewport?MR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function FR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Pr(e)?!1:t}function Na(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=dy(e);let o=Ys(1);t&&(s?js(s)&&(o=No(s)):o=No(e));const l=FR(a,r,s)?$k(a):Ys(0);let c=(n.left+l.x)/o.x,d=(n.top+l.y)/o.y,u=n.width/o.x,h=n.height/o.y;if(a){const f=Pr(a),g=s&&js(s)?Pr(s):s;let y=f,m=Gg(y);for(;m&&s&&g!==y;){const b=No(m),v=m.getBoundingClientRect(),x=ks(m),N=v.left+(m.clientLeft+parseFloat(x.paddingLeft))*b.x,j=v.top+(m.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,d*=b.y,u*=b.x,h*=b.y,c+=N,d+=j,y=Pr(m),m=Gg(y)}}return Gh({width:u,height:h,x:c,y:d})}function uy(e,t){const r=em(e).scrollLeft;return t?t.left+r:Na(sn(e)).left+r}function Uk(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),n=s.left+t.scrollLeft-(r?0:uy(e,s)),a=s.top+t.scrollTop;return{x:n,y:a}}function OR(e){let{elements:t,rect:r,offsetParent:s,strategy:n}=e;const a=n==="fixed",o=sn(s),l=t?Jf(t.floating):!1;if(s===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=Ys(1);const u=Ys(0),h=Js(s);if((h||!h&&!a)&&((Il(s)!=="body"||tu(o))&&(c=em(s)),Js(s))){const g=Na(s);d=No(s),u.x=g.x+s.clientLeft,u.y=g.y+s.clientTop}const f=o&&!h&&!a?Uk(o,c,!0):Ys(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function IR(e){return Array.from(e.getClientRects())}function DR(e){const t=sn(e),r=em(e),s=e.ownerDocument.body,n=Cr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=Cr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+uy(e);const l=-r.scrollTop;return ks(s).direction==="rtl"&&(o+=Cr(t.clientWidth,s.clientWidth)-n),{width:n,height:a,x:o,y:l}}function LR(e,t){const r=Pr(e),s=sn(e),n=r.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(n){a=n.width,o=n.height;const d=cy();(!d||d&&t==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:a,height:o,x:l,y:c}}function $R(e,t){const r=Na(e,!0,t==="fixed"),s=r.top+e.clientTop,n=r.left+e.clientLeft,a=Js(e)?No(e):Ys(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=n*a.x,d=s*a.y;return{width:o,height:l,x:c,y:d}}function Hb(e,t,r){let s;if(t==="viewport")s=LR(e,r);else if(t==="document")s=DR(sn(e));else if(js(t))s=$R(t,r);else{const n=$k(e);s={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Gh(s)}function zk(e,t){const r=ji(e);return r===t||!js(r)||wl(r)?!1:ks(r).position==="fixed"||zk(r,t)}function UR(e,t){const r=t.get(e);if(r)return r;let s=td(e,[],!1).filter(l=>js(l)&&Il(l)!=="body"),n=null;const a=ks(e).position==="fixed";let o=a?ji(e):e;for(;js(o)&&!wl(o);){const l=ks(o),c=ly(o);!c&&l.position==="fixed"&&(n=null),(a?!c&&!n:!c&&l.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||tu(o)&&!c&&zk(e,o))?s=s.filter(u=>u!==o):n=l,o=ji(o)}return t.set(e,s),s}function zR(e){let{element:t,boundary:r,rootBoundary:s,strategy:n}=e;const o=[...r==="clippingAncestors"?Jf(t)?[]:UR(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const h=Hb(t,u,n);return d.top=Cr(h.top,d.top),d.right=wi(h.right,d.right),d.bottom=wi(h.bottom,d.bottom),d.left=Cr(h.left,d.left),d},Hb(t,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BR(e){const{width:t,height:r}=Lk(e);return{width:t,height:r}}function VR(e,t,r){const s=Js(t),n=sn(t),a=r==="fixed",o=Na(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Ys(0);if(s||!s&&!a)if((Il(t)!=="body"||tu(n))&&(l=em(t)),s){const f=Na(t,!0,a,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else n&&(c.x=uy(n));const d=n&&!s&&!a?Uk(n,l):Ys(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function Jm(e){return ks(e).position==="static"}function Wb(e,t){if(!Js(e)||ks(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return sn(e)===r&&(r=r.ownerDocument.body),r}function Bk(e,t){const r=Pr(e);if(Jf(e))return r;if(!Js(e)){let n=ji(e);for(;n&&!wl(n);){if(js(n)&&!Jm(n))return n;n=ji(n)}return r}let s=Wb(e,t);for(;s&&AR(s)&&Jm(s);)s=Wb(s,t);return s&&wl(s)&&Jm(s)&&!ly(s)?r:s||RR(e)||r}const HR=async function(e){const t=this.getOffsetParent||Bk,r=this.getDimensions,s=await r(e.floating);return{reference:VR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function WR(e){return ks(e).direction==="rtl"}const qR={convertOffsetParentRelativeRectToViewportRelativeRect:OR,getDocumentElement:sn,getClippingRect:zR,getOffsetParent:Bk,getElementRects:HR,getClientRects:IR,getDimensions:BR,getScale:No,isElement:js,isRTL:WR};function Vk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function GR(e,t){let r=null,s;const n=sn(e);function a(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:h,width:f,height:g}=d;if(l||t(),!f||!g)return;const y=Au(h),m=Au(n.clientWidth-(u+f)),b=Au(n.clientHeight-(h+g)),v=Au(u),N={rootMargin:-y+"px "+-m+"px "+-b+"px "+-v+"px",threshold:Cr(0,wi(1,c))||1};let j=!0;function k(C){const S=C[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):s=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Vk(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(k,{...N,root:n.ownerDocument})}catch{r=new IntersectionObserver(k,N)}r.observe(e)}return o(!0),a}function KR(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=dy(e),u=n||a?[...d?td(d):[],...td(t)]:[];u.forEach(v=>{n&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const h=d&&l?GR(d,r):null;let f=-1,g=null;o&&(g=new ResizeObserver(v=>{let[x]=v;x&&x.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(t)})),r()}),d&&!c&&g.observe(d),g.observe(t));let y,m=c?Na(e):null;c&&b();function b(){const v=Na(e);m&&!Vk(m,v)&&r(),m=v,y=requestAnimationFrame(b)}return r(),()=>{var v;u.forEach(x=>{n&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),h==null||h(),(v=g)==null||v.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const QR=CR,ZR=ER,YR=kR,XR=PR,JR=SR,qb=jR,e6=TR,t6=(e,t,r)=>{const s=new Map,n={platform:qR,...r},a={...n.platform,_c:s};return NR(e,t,{...n,platform:a})};var ch=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Kh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,n;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Kh(e[s],t[s]))return!1;return!0}if(n=Object.keys(e),r=n.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,n[s]))return!1;for(s=r;s--!==0;){const a=n[s];if(!(a==="_owner"&&e.$$typeof)&&!Kh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Hk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gb(e,t){const r=Hk(e);return Math.round(t*r)/r}function ep(e){const t=p.useRef(e);return ch(()=>{t.current=e}),t}function r6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:n,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=p.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=p.useState(s);Kh(f,s)||g(s);const[y,m]=p.useState(null),[b,v]=p.useState(null),x=p.useCallback(R=>{R!==C.current&&(C.current=R,m(R))},[]),N=p.useCallback(R=>{R!==S.current&&(S.current=R,v(R))},[]),j=a||y,k=o||b,C=p.useRef(null),S=p.useRef(null),E=p.useRef(u),T=c!=null,A=ep(c),L=ep(n),z=ep(d),q=p.useCallback(()=>{if(!C.current||!S.current)return;const R={placement:t,strategy:r,middleware:f};L.current&&(R.platform=L.current),t6(C.current,S.current,R).then(V=>{const Q={...V,isPositioned:z.current!==!1};O.current&&!Kh(E.current,Q)&&(E.current=Q,Ma.flushSync(()=>{h(Q)}))})},[f,t,r,L,z]);ch(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[d]);const O=p.useRef(!1);ch(()=>(O.current=!0,()=>{O.current=!1}),[]),ch(()=>{if(j&&(C.current=j),k&&(S.current=k),j&&k){if(A.current)return A.current(j,k,q);q()}},[j,k,q,A,T]);const M=p.useMemo(()=>({reference:C,floating:S,setReference:x,setFloating:N}),[x,N]),F=p.useMemo(()=>({reference:j,floating:k}),[j,k]),I=p.useMemo(()=>{const R={position:r,left:0,top:0};if(!F.floating)return R;const V=Gb(F.floating,u.x),Q=Gb(F.floating,u.y);return l?{...R,transform:"translate("+V+"px, "+Q+"px)",...Hk(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:Q}},[r,l,F.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:q,refs:M,elements:F,floatingStyles:I}),[u,q,M,F,I])}const s6=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:n}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?qb({element:s.current,padding:n}).fn(r):{}:s?qb({element:s,padding:n}).fn(r):{}}}},n6=(e,t)=>({...QR(e),options:[e,t]}),i6=(e,t)=>({...ZR(e),options:[e,t]}),a6=(e,t)=>({...e6(e),options:[e,t]}),o6=(e,t)=>({...YR(e),options:[e,t]}),l6=(e,t)=>({...XR(e),options:[e,t]}),c6=(e,t)=>({...JR(e),options:[e,t]}),d6=(e,t)=>({...s6(e),options:[e,t]});var u6="Arrow",Wk=p.forwardRef((e,t)=>{const{children:r,width:s=10,height:n=5,...a}=e;return i.jsx(ye.svg,{...a,ref:t,width:s,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wk.displayName=u6;var h6=Wk;function qk(e){const[t,r]=p.useState(void 0);return Dt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const a=n[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var hy="Popper",[Gk,tm]=Mn(hy),[f6,Kk]=Gk(hy),Qk=e=>{const{__scopePopper:t,children:r}=e,[s,n]=p.useState(null);return i.jsx(f6,{scope:t,anchor:s,onAnchorChange:n,children:r})};Qk.displayName=hy;var Zk="PopperAnchor",Yk=p.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...n}=e,a=Kk(Zk,r),o=p.useRef(null),l=Ce(t,o);return p.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:i.jsx(ye.div,{...n,ref:l})});Yk.displayName=Zk;var fy="PopperContent",[m6,p6]=Gk(fy),Xk=p.forwardRef((e,t)=>{var fe,Re,ct,Ue,Me,Oe;const{__scopePopper:r,side:s="bottom",sideOffset:n=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:y,...m}=e,b=Kk(fy,r),[v,x]=p.useState(null),N=Ce(t,Qt=>x(Qt)),[j,k]=p.useState(null),C=qk(j),S=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,T=s+(a!=="center"?"-"+a:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(d)?d:[d],z=L.length>0,q={padding:A,boundary:L.filter(x6),altBoundary:z},{refs:O,floatingStyles:M,placement:F,isPositioned:I,middlewareData:R}=r6({strategy:"fixed",placement:T,whileElementsMounted:(...Qt)=>KR(...Qt,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[n6({mainAxis:n+E,alignmentAxis:o}),c&&i6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?a6():void 0,...q}),c&&o6({...q}),l6({...q,apply:({elements:Qt,rects:Nr,availableWidth:Oi,availableHeight:Fn})=>{const{width:On,height:xm}=Nr.reference,Oa=Qt.floating.style;Oa.setProperty("--radix-popper-available-width",`${Oi}px`),Oa.setProperty("--radix-popper-available-height",`${Fn}px`),Oa.setProperty("--radix-popper-anchor-width",`${On}px`),Oa.setProperty("--radix-popper-anchor-height",`${xm}px`)}}),j&&d6({element:j,padding:l}),y6({arrowWidth:S,arrowHeight:E}),f&&c6({strategy:"referenceHidden",...q})]}),[V,Q]=t5(F),se=mt(y);Dt(()=>{I&&(se==null||se())},[I,se]);const pe=(fe=R.arrow)==null?void 0:fe.x,He=(Re=R.arrow)==null?void 0:Re.y,Ve=((ct=R.arrow)==null?void 0:ct.centerOffset)!==0,[Pt,jt]=p.useState();return Dt(()=>{v&&jt(window.getComputedStyle(v).zIndex)},[v]),i.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:I?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pt,"--radix-popper-transform-origin":[(Ue=R.transformOrigin)==null?void 0:Ue.x,(Me=R.transformOrigin)==null?void 0:Me.y].join(" "),...((Oe=R.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(m6,{scope:r,placedSide:V,onArrowChange:k,arrowX:pe,arrowY:He,shouldHideArrow:Ve,children:i.jsx(ye.div,{"data-side":V,"data-align":Q,...m,ref:N,style:{...m.style,animation:I?void 0:"none"}})})})});Xk.displayName=fy;var Jk="PopperArrow",g6={top:"bottom",right:"left",bottom:"top",left:"right"},e5=p.forwardRef(function(t,r){const{__scopePopper:s,...n}=t,a=p6(Jk,s),o=g6[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(h6,{...n,ref:r,style:{...n.style,display:"block"}})})});e5.displayName=Jk;function x6(e){return e!==null}var y6=e=>({name:"transformOrigin",options:e,fn(t){var b,v,x;const{placement:r,rects:s,middlewareData:n}=t,o=((b=n.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=t5(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((v=n.arrow)==null?void 0:v.x)??0)+l/2,g=(((x=n.arrow)==null?void 0:x.y)??0)+c/2;let y="",m="";return d==="bottom"?(y=o?h:`${f}px`,m=`${-c}px`):d==="top"?(y=o?h:`${f}px`,m=`${s.floating.height+c}px`):d==="right"?(y=`${-c}px`,m=o?h:`${g}px`):d==="left"&&(y=`${s.floating.width+c}px`,m=o?h:`${g}px`),{data:{x:y,y:m}}}});function t5(e){const[t,r="center"]=e.split("-");return[t,r]}var v6=Qk,r5=Yk,s5=Xk,n5=e5,[rm,HV]=Mn("Tooltip",[tm]),my=tm(),i5="TooltipProvider",b6=700,Kb="tooltip.open",[w6,a5]=rm(i5),o5=e=>{const{__scopeTooltip:t,delayDuration:r=b6,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:a}=e,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),i.jsx(w6,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(d=>{l.current=d},[]),disableHoverableContent:n,children:a})};o5.displayName=i5;var l5="Tooltip",[WV,sm]=rm(l5),Kg="TooltipTrigger",N6=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,n=sm(Kg,r),a=a5(Kg,r),o=my(r),l=p.useRef(null),c=Ce(t,l,n.onTriggerChange),d=p.useRef(!1),u=p.useRef(!1),h=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(r5,{asChild:!0,...o,children:i.jsx(ye.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:c,onPointerMove:ue(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:ue(e.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:ue(e.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ue(e.onFocus,()=>{d.current||n.onOpen()}),onBlur:ue(e.onBlur,n.onClose),onClick:ue(e.onClick,n.onClose)})})});N6.displayName=Kg;var j6="TooltipPortal",[qV,k6]=rm(j6,{forceMount:void 0}),Nl="TooltipContent",c5=p.forwardRef((e,t)=>{const r=k6(Nl,e.__scopeTooltip),{forceMount:s=r.forceMount,side:n="top",...a}=e,o=sm(Nl,e.__scopeTooltip);return i.jsx(rn,{present:s||o.open,children:o.disableHoverableContent?i.jsx(d5,{side:n,...a,ref:t}):i.jsx(S6,{side:n,...a,ref:t})})}),S6=p.forwardRef((e,t)=>{const r=sm(Nl,e.__scopeTooltip),s=a5(Nl,e.__scopeTooltip),n=p.useRef(null),a=Ce(t,n),[o,l]=p.useState(null),{trigger:c,onClose:d}=r,u=n.current,{onPointerInTransitChange:h}=s,f=p.useCallback(()=>{l(null),h(!1)},[h]),g=p.useCallback((y,m)=>{const b=y.currentTarget,v={x:y.clientX,y:y.clientY},x=P6(v,b.getBoundingClientRect()),N=A6(v,x),j=R6(m.getBoundingClientRect()),k=F6([...N,...j]);l(k),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&u){const y=b=>g(b,u),m=b=>g(b,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",m)}}},[c,u,g,f]),p.useEffect(()=>{if(o){const y=m=>{const b=m.target,v={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(b))||(u==null?void 0:u.contains(b)),N=!M6(v,o);x?f():N&&(f(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,d,f]),i.jsx(d5,{...e,ref:a})}),[_6,C6]=rm(l5,{isInside:!1}),E6=uP("TooltipContent"),d5=p.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":n,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=sm(Nl,r),d=my(r),{onClose:u}=c;return p.useEffect(()=>(document.addEventListener(Kb,u),()=>document.removeEventListener(Kb,u)),[u]),p.useEffect(()=>{if(c.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),i.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:i.jsxs(s5,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(E6,{children:s}),i.jsx(_6,{scope:r,isInside:!0,children:i.jsx(AP,{id:c.contentId,role:"tooltip",children:n||s})})]})})});c5.displayName=Nl;var u5="TooltipArrow",T6=p.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,n=my(r);return C6(u5,r).isInside?null:i.jsx(n5,{...n,...s,ref:t})});T6.displayName=u5;function P6(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,s,n,a)){case a:return"left";case n:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function A6(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function R6(e){const{top:t,right:r,bottom:s,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:s},{x:n,y:s}]}function M6(e,t){const{x:r,y:s}=e;let n=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(n=!n)}return n}function F6(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),O6(t)}function O6(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const n=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(n.y-o.y)>=(a.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const n=e[s];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(n.y-o.y)>=(a.y-o.y)*(n.x-o.x))r.pop();else break}r.push(n)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var I6=o5,h5=c5;const D6=I6,L6=p.forwardRef(({className:e,sideOffset:t=4,...r},s)=>i.jsx(h5,{ref:s,sideOffset:t,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));L6.displayName=h5.displayName;const f5=p.createContext({user:null,token:null,isAuthenticated:!1,isLoading:!0,login:async()=>{},register:async()=>{},logout:async()=>{},updateProfile:async()=>{},changePassword:async()=>{}});function $6({children:e}){const[t,r]=p.useState(null),[s,n]=p.useState(null),[a,o]=p.useState(!0),{toast:l}=Ri();p.useEffect(()=>{const y=localStorage.getItem("authToken");y?(n(y),c(y)):o(!1)},[]);const c=async y=>{try{const m=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${y}`}});if(m.ok){const b=await m.json();r(b)}else localStorage.removeItem("authToken"),n(null)}catch(m){console.error("Error fetching current user:",m)}finally{o(!1)}},d=async(y,m)=>{try{const b=await at("/api/auth/login",{method:"POST",body:JSON.stringify({email:y,password:m})});r(b.user),n(b.token),localStorage.setItem("authToken",b.token),_c.clear(),l({title:" !",description:`    ${b.user.name}`})}catch(b){throw l({title:" ",description:b.message||" email  ",variant:"destructive"}),b}},u=async y=>{try{const m=await at("/api/auth/register",{method:"POST",body:JSON.stringify(y)});r(m.user),n(m.token),localStorage.setItem("authToken",m.token),_c.clear(),l({title:" !",description:"   EVERLIV HEALTH"})}catch(m){throw l({title:" ",description:m.message||"   ",variant:"destructive"}),m}},h=async()=>{try{s&&await at("/api/auth/logout",{method:"POST"})}catch(y){console.error("Logout error:",y)}finally{r(null),n(null),localStorage.removeItem("authToken"),_c.clear(),l({title:"   ",description:" !"})}},f=async y=>{if(!s)throw new Error("Not authenticated");try{const m=await at("/api/auth/profile",{method:"PATCH",body:JSON.stringify(y)});r(m),l({title:" ",description:"   "})}catch(m){throw l({title:"  ",description:m.message||"   ",variant:"destructive"}),m}},g=async(y,m)=>{if(!s)throw new Error("Not authenticated");try{await at("/api/auth/change-password",{method:"POST",body:JSON.stringify({currentPassword:y,newPassword:m})}),l({title:" ",description:"   "})}catch(b){throw l({title:"  ",description:b.message||"   ",variant:"destructive"}),b}};return i.jsx(f5.Provider,{value:{user:t,token:s,isAuthenticated:!!t&&!!s,isLoading:a,login:d,register:u,logout:h,updateProfile:f,changePassword:g},children:e})}function ru(){const e=p.useContext(f5);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const U6=Yf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=p.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...n},a)=>{const o=s?Hj:"button";return i.jsx(o,{className:ke(U6({variant:t,size:r,className:e})),ref:a,...n})});X.displayName="Button";function z6(){const[,e]=Ir();return i.jsx("div",{className:"eva-page flex items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"w-full max-w-md mx-auto",children:[i.jsxs("div",{className:"eva-card-elevated p-8 text-center eva-fade-in",children:[i.jsx("div",{className:"w-16 h-16 eva-gradient-primary rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(ba,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"404"}),i.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"  "}),i.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:",    . ,     ."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(X,{onClick:()=>e("/"),className:"eva-btn-primary eva-btn-lg w-full",children:[i.jsx(wk,{className:"w-5 h-5 mr-2"})," "]}),i.jsxs(X,{onClick:()=>window.history.back(),variant:"outline",className:"eva-btn-secondary eva-btn-lg w-full",children:[i.jsx(Fa,{className:"w-5 h-5 mr-2"}),""]})]})]}),i.jsx("div",{className:"text-center mt-6 opacity-60",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:"Powered by EVA Health System"})})]})})}const J=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));J.displayName="Card";const yt=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ke("flex flex-col space-y-1.5 p-6",e),...t}));yt.displayName="CardHeader";const St=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));St.displayName="CardTitle";const B6=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));B6.displayName="CardDescription";const me=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ke("p-6 pt-0",e),...t}));me.displayName="CardContent";const V6=p.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:ke("flex items-center p-6 pt-0",e),...t}));V6.displayName="CardFooter";const H6="/assets/AI_blood_analysis_a3b7806b-DcQSz0SJ.png",W6="/assets/Health_monitoring_scene_e2ffcf2b-CBT7ahmn.png",q6="/assets/AI_medical_consultation_211a67ef-CT9ZuJ2j.png",G6="/assets/Personal_health_goals_200a8db1-DM00YaeY.png",K6="/assets/logo_1756364617629-BwNFO1aW.png";function Q6(){const[e,t]=p.useState(null),[r,s]=p.useState(!1),n=p.useRef(null),a=p.useRef(null);p.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&(s(!0),console.log("PWA is already installed"));const f=m=>{console.log("beforeinstallprompt event fired"),m.preventDefault(),t(m)},g=()=>{console.log("PWA was installed"),s(!0),t(null)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",g),(async()=>{const m={serviceWorker:"serviceWorker"in navigator,manifest:document.querySelector('link[rel="manifest"]')!==null,https:location.protocol==="https:"||location.hostname==="localhost"};console.log("PWA requirements check:",m);try{const b=await fetch("/manifest.json");if(b.ok){const v=await b.json();console.log("Manifest loaded successfully:",v.name)}else console.error("Failed to load manifest.json")}catch(b){console.error("Error loading manifest:",b)}})(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(m=>{console.log("Service Worker registered successfully:",m)}).catch(m=>{console.error("Service Worker registration failed:",m)}),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",g)}},[]),p.useEffect(()=>{const f={threshold:.1,rootMargin:"-10px 0px -50px 0px"},g=new IntersectionObserver(m=>{m.forEach(b=>{b.isIntersecting&&(b.target.classList.remove("section-hidden"),b.target.classList.add("section-visible"))})},f),y=[n.current,a.current].filter(Boolean);return y.forEach(m=>{m&&g.observe(m)}),()=>{y.forEach(m=>{m&&g.unobserve(m)})}},[]);const o=async()=>{if(console.log("Install button clicked"),console.log("deferredPrompt available:",!!e),e)try{console.log("Showing install prompt..."),await e.prompt();const{outcome:f}=await e.userChoice;console.log("User choice:",f),f==="accepted"?(console.log("PWA install accepted"),t(null),s(!0)):console.log("PWA install dismissed")}catch(f){console.error("Error during PWA install:",f),l()}else console.log("No deferred prompt available, showing manual instructions"),l()},l=()=>{const f=navigator.userAgent.toLowerCase(),g=/android/.test(f),y=/chrome/.test(f)&&!/edg|opr/.test(f),m=/android|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(f),b=!m;let v="";g&&y?v=`   Android:

1.    (    )
2.  "   "  " "
3.  ""  ""
4.  EVERLIV HEALTH    

    ,  :
   Chrome    
    HTTPS ( )`:b&&y?v=`   :

1.       ()
2.      ""
3.    Chrome   " EVERLIV HEALTH..."

       !`:m?v=`    :

1.   
2.  "   "  "Add to Home Screen"
3.  ""

     Chrome  Safari.`:v=`   :

 Chrome:      
 Firefox:      
 Safari:  "  Dock" (macOS)
 Edge:  "  "  

    -   !`,alert(v)},c=()=>{const f=/iPad|iPhone|iPod/.test(navigator.userAgent),g=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);f?alert(g?`    iOS:

1.   ''   ()
2.     '  '
3.  ''    

  EVERLIV HEALTH     !`:"    iOS     Safari,        ''."):o()},d=[{icon:gt,title:"   ",description:"           ",bgImage:H6,color:"from-blue-600 to-indigo-700"},{icon:ot,title:" ",description:"  ,       ",bgImage:W6,color:"from-emerald-600 to-teal-700"},{icon:wa,title:"  ",description:"         -   ",bgImage:q6,color:"from-purple-600 to-violet-700"},{icon:wr,title:" ",description:"        ,   ",bgImage:G6,color:"from-orange-600 to-amber-700"}],u=[{icon:Mr,title:" ",description:"     "},{icon:yl,title:"",description:"       "},{icon:fr,title:"GDPR ",description:"     "}],h=[{icon:qt,title:"  ",description:"      "},{icon:kk,title:"",description:"      "},{icon:uA,title:"",description:"      "}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[i.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900 via-green-800 to-teal-900"}),i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse delay-1000"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-teal-500/10 rounded-full blur-3xl animate-pulse delay-500"})]}),i.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-20 text-center text-white",children:[i.jsx("div",{className:"flex items-center justify-center mb-8",children:i.jsxs("div",{className:"relative animate-fadeInScale hero-logo",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full blur-xl opacity-70 animate-pulseGlow"}),i.jsx("div",{className:"relative p-6 bg-white/10 backdrop-blur-lg rounded-full border border-white/20 shadow-2xl",children:i.jsx("img",{src:K6,alt:"EVERLIV HEALTH",className:"w-16 h-16 drop-shadow-lg"})}),i.jsx("div",{className:"absolute -top-2 -right-2 animate-smoothFloat",children:i.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full flex items-center justify-center shadow-lg",children:i.jsx(pt,{className:"w-3 h-3 text-white"})})})]})}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-black tracking-tight mb-4 animate-fadeInUp hero-title",children:[i.jsx("span",{className:"bg-gradient-to-r from-white via-emerald-100 to-green-200 bg-clip-text text-transparent drop-shadow-2xl",children:"EVERLIV"}),i.jsx("br",{}),i.jsx("span",{className:"bg-gradient-to-r from-emerald-200 via-green-200 to-teal-200 bg-clip-text text-transparent",children:"HEALTH"})]}),i.jsx("div",{className:"h-1 w-32 bg-gradient-to-r from-emerald-400 to-green-500 mx-auto rounded-full mb-6 animate-fadeInScale hero-title"})]}),i.jsx("p",{className:"text-2xl md:text-3xl text-emerald-100 font-light mb-6 tracking-wide animate-fadeInUp hero-subtitle",children:"  "}),i.jsx("p",{className:"text-lg md:text-xl text-white/80 max-w-3xl mx-auto mb-12 leading-relaxed font-light animate-fadeInUp hero-subtitle",children:"       .        ."}),i.jsxs("div",{className:"animate-fadeInUp hero-buttons space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"inline-flex items-center bg-white/10 backdrop-blur-lg border border-white/20 text-white px-6 py-3 rounded-full font-semibold shadow-lg",children:[i.jsx(bA,{className:"w-5 h-5 mr-2 text-emerald-300"}),i.jsx("span",{className:"mr-2",children:"   "}),i.jsx(Nn,{className:"w-4 h-4 text-emerald-300"})]})}),!r&&i.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[i.jsxs(X,{onClick:o,size:"lg",className:"group bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white font-bold h-16 px-10 rounded-2xl shadow-2xl border-0 min-w-[280px] transform hover:scale-105 transition-all duration-300 relative","data-testid":"button-install-android",children:[e&&i.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-yellow-400 rounded-full animate-pulse"}),i.jsx(Ug,{className:"w-6 h-6 mr-4 group-hover:translate-y-1 transition-transform duration-300"}),e?" ":"  ",i.jsx(lh,{className:"w-5 h-5 ml-3 group-hover:translate-x-1 transition-transform duration-300"})]}),i.jsxs(X,{onClick:c,size:"lg",className:"group bg-white/10 text-white border-2 border-white/30 hover:bg-white/20 font-bold h-16 px-10 rounded-2xl backdrop-blur-lg min-w-[280px] transform hover:scale-105 transition-all duration-300","data-testid":"button-install-ios",children:[i.jsx(Ug,{className:"w-6 h-6 mr-4 group-hover:translate-y-1 transition-transform duration-300"}),"  iOS",i.jsx(lh,{className:"w-5 h-5 ml-3 group-hover:translate-x-1 transition-transform duration-300"})]})]}),r&&i.jsxs("div",{className:"text-center animate-in fade-in-50 duration-1000",children:[i.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-500 to-green-600 text-white px-8 py-4 rounded-2xl font-bold text-lg shadow-2xl mb-4",children:[i.jsx(fr,{className:"w-6 h-6 mr-3"}),"  "]}),i.jsx("p",{className:"text-white/70 text-base",children:" EVERLIV HEALTH     "})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center text-white/80 text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(fr,{className:"w-4 h-4 mr-2 text-emerald-300"}),"  "]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(fr,{className:"w-4 h-4 mr-2 text-emerald-300"}),"   "]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(fr,{className:"w-4 h-4 mr-2 text-emerald-300"}),"  "]})]})]})]})]}),i.jsx("section",{ref:n,className:"py-24 bg-gradient-to-br from-slate-50 via-gray-100 to-blue-50 section-hidden",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-20",children:[i.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-500 to-green-600 text-white px-6 py-2 rounded-full text-sm font-bold mb-6 shadow-lg animate-fadeInDown",children:[i.jsx(bl,{className:"w-4 h-4 mr-2"})," "]}),i.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-slate-900 mb-6 tracking-tight animate-fadeInUp",children:["",i.jsx("span",{className:"bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent",children:" "})]}),i.jsx("p",{className:"text-xl text-slate-600 max-w-4xl mx-auto leading-relaxed animate-fadeInUp",children:"  ,         "})]}),i.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:d.map((f,g)=>{const y=f.icon;return i.jsxs("div",{className:`group relative overflow-hidden rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 hover:-translate-y-2 h-[400px] animate-fadeInScale stagger-${g+1}`,children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-transform duration-700 group-hover:scale-110",style:{backgroundImage:`url(${f.bgImage})`}}),i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${f.color} opacity-85 group-hover:opacity-90 transition-opacity duration-500`}),i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("div",{className:"absolute top-6 right-6 w-24 h-24 bg-white/10 rounded-full blur-2xl opacity-50 group-hover:opacity-70 transition-opacity duration-500"}),i.jsx("div",{className:"absolute bottom-8 left-8 w-32 h-32 bg-white/5 rounded-full blur-3xl opacity-30 group-hover:opacity-50 transition-opacity duration-500"})]}),i.jsxs("div",{className:"relative z-10 p-8 h-full flex flex-col justify-between text-white",children:[i.jsxs("div",{children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 backdrop-blur-lg rounded-2xl mb-6 shadow-lg group-hover:scale-110 group-hover:bg-white/30 transition-all duration-300",children:i.jsx(y,{className:"w-8 h-8 text-white drop-shadow-lg"})}),i.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4 leading-tight",children:f.title})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white/90 text-lg leading-relaxed mb-6 group-hover:text-white transition-colors duration-300",children:f.description}),i.jsxs("div",{className:"flex items-center text-white/80 group-hover:text-white font-semibold transition-all duration-300",children:[i.jsx("span",{className:"mr-2",children:" "}),i.jsx(lh,{className:"w-5 h-5 group-hover:translate-x-2 transition-transform duration-300"})]})]})]}),i.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},g)})}),i.jsx("div",{className:"text-center mt-16",children:i.jsxs("div",{className:"inline-flex items-center bg-white rounded-2xl p-2 shadow-xl",children:[i.jsxs("div",{className:"flex items-center bg-gradient-to-r from-emerald-500 to-green-600 text-white px-6 py-3 rounded-xl font-bold",children:[i.jsx(oA,{className:"w-5 h-5 mr-2"})," "]}),i.jsx("span",{className:"px-6 py-3 text-slate-700 font-semibold",children:"  "})]})})]})}),i.jsxs("section",{ref:a,className:"py-24 bg-gradient-to-br from-emerald-900 via-teal-900 to-cyan-900 relative overflow-hidden section-hidden",children:[i.jsxs("div",{className:"absolute inset-0",children:[i.jsx("div",{className:"absolute top-1/4 left-1/3 w-96 h-96 bg-emerald-500/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-80 h-80 bg-teal-400/20 rounded-full blur-3xl"})]}),i.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-20",children:[i.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-400 to-teal-500 text-white px-6 py-3 rounded-full text-sm font-bold mb-8 shadow-lg animate-fadeInDown",children:[i.jsx(Mr,{className:"w-4 h-4 mr-2"})," "]}),i.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-white mb-6 tracking-tight animate-fadeInUp",children:["",i.jsx("span",{className:"bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent",children:" "})]}),i.jsx("p",{className:"text-xl text-emerald-100 max-w-4xl mx-auto leading-relaxed animate-fadeInUp",children:"          "})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:u.map((f,g)=>{const y=f.icon;return i.jsx("div",{className:"group relative",children:i.jsxs(J,{className:`relative p-8 text-center border-0 bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl hover:shadow-3xl transition-all duration-500 hover:-translate-y-2 group animate-fadeInScale stagger-${g+1}`,children:[i.jsx("div",{className:"relative mb-8",children:i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-emerald-500 to-teal-600 flex items-center justify-center mx-auto shadow-lg group-hover:scale-110 transition-transform duration-300",children:i.jsx(y,{className:"w-10 h-10 text-white"})})}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-4 group-hover:text-emerald-100 transition-colors duration-300",children:f.title}),i.jsx("p",{className:"text-emerald-100/80 text-lg leading-relaxed group-hover:text-emerald-100 transition-colors duration-300",children:f.description})]})},g)})}),i.jsx("div",{className:"text-center mt-16",children:i.jsxs("div",{className:"inline-flex items-center bg-white/10 backdrop-blur-lg border border-white/20 rounded-2xl p-4 shadow-xl",children:[i.jsx(fr,{className:"w-8 h-8 text-emerald-400 mr-4"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-white font-bold text-lg",children:"100% "}),i.jsx("p",{className:"text-emerald-200 text-sm",children:"      "})]})]})})]})]}),i.jsx("section",{className:"py-20 bg-white dark:bg-slate-900",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsx("div",{className:"p-4 bg-gradient-to-r from-medical-blue to-trust-green rounded-2xl shadow-lg",children:i.jsx(Gt,{className:"w-10 h-10 text-white"})})}),i.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-foreground mb-6",children:" "}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"      "})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:h.map((f,g)=>{const y=f.icon;return i.jsxs(J,{className:"p-8 text-center border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-white to-gray-50/50 dark:from-slate-800 dark:to-slate-900",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-medical-blue to-trust-green flex items-center justify-center mx-auto mb-6 shadow-lg",children:i.jsx(y,{className:"w-10 h-10 text-white"})}),i.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:f.title}),i.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed",children:f.description})]},g)})})]})}),i.jsx("section",{className:"py-20 bg-gradient-to-r from-medical-blue via-blue-600 to-trust-green",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4",children:i.jsxs("div",{className:"grid md:grid-cols-4 gap-8 text-center text-white",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"95%"}),i.jsx("div",{className:"text-white/80 text-lg",children:"  "})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"24/7"}),i.jsx("div",{className:"text-white/80 text-lg",children:""})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"50+"}),i.jsx("div",{className:"text-white/80 text-lg",children:" "})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2",children:"100%"}),i.jsx("div",{className:"text-white/80 text-lg",children:""})]})]})})}),i.jsx("footer",{className:"py-12 bg-slate-900 text-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsx("div",{className:"p-3 bg-gradient-to-r from-medical-blue to-trust-green rounded-2xl",children:i.jsx(yA,{className:"w-8 h-8"})})}),i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"EVERLIV HEALTH"}),i.jsx("p",{className:"text-slate-400 mb-6",children:"     "}),i.jsx("div",{className:"text-sm text-slate-500",children:" 2025 EVERLIV HEALTH.   ."})]})})]})}const Z6="/assets/logo_1756364617629-BwNFO1aW.png";function bs(){return i.jsx("nav",{className:"bg-card shadow-sm border-b border-border sticky top-0 z-50",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",children:i.jsx("img",{src:Z6,alt:"EVERLIV HEALTH",className:"w-8 h-8 object-contain"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-card-foreground tracking-wide",children:"EVERLIV HEALTH"}),i.jsx("div",{className:"text-xs text-muted-foreground font-medium",children:"    "})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(X,{"data-testid":"button-notifications",variant:"ghost",size:"sm",className:"p-2 rounded-lg hover:bg-accent",children:i.jsx(tA,{className:"w-5 h-5 text-muted-foreground"})}),i.jsx(Ze,{href:"/app/user-settings",children:i.jsx(X,{"data-testid":"button-user-menu",variant:"ghost",size:"sm",className:"p-2 rounded-lg hover:bg-accent",children:i.jsx(lA,{className:"w-5 h-5 text-muted-foreground"})})})]})]})})})}const Y6=[{path:"/app/dashboard",icon:wk,label:""},{path:"/app/blood-analyses",icon:sA,label:""},{path:"/app/recommendations",icon:gt,label:""},{path:"/app/profile",icon:Kr,label:""}];function ar(){const[e]=Ir();return i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50",children:i.jsx("div",{className:"max-w-md mx-auto px-4",children:i.jsx("div",{className:"flex justify-around py-2",children:Y6.map(t=>{const r=e===t.path,s=t.icon;return i.jsx(Ze,{href:t.path,children:i.jsxs("button",{"data-testid":`nav-${t.label.toLowerCase()}`,className:ke("flex flex-col items-center py-2 px-3 transition-colors",r?"text-medical-blue":"text-muted-foreground hover:text-foreground"),children:[i.jsx(s,{className:"w-5 h-5 mb-1"}),i.jsx("span",{className:"text-xs",children:t.label})]})},t.path)})})})})}const X6=Yf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function de({className:e,variant:t,...r}){return i.jsx("div",{className:ke(X6({variant:t}),e),...r})}function Se({children:e,size:t="md",variant:r="neutral",className:s}){const n={xs:"w-6 h-6 p-1",sm:"w-8 h-8 p-2",md:"w-10 h-10 p-2",lg:"w-12 h-12 p-3",xl:"w-16 h-16 p-4"},a={primary:"bg-medical-blue text-white border border-medical-blue/20 shadow-sm",secondary:"bg-trust-green text-white border border-trust-green/20 shadow-sm",success:"bg-emerald-500 text-white border border-emerald-600/20 shadow-sm",warning:"bg-amber-500 text-white border border-amber-600/20 shadow-sm",danger:"bg-red-500 text-white border border-red-600/20 shadow-sm",info:"bg-blue-500 text-white border border-blue-600/20 shadow-sm",neutral:"bg-gray-500 text-white border border-gray-600/20 shadow-sm","soft-primary":"bg-medical-blue/10 text-medical-blue border border-medical-blue/20","soft-success":"bg-emerald-50 text-emerald-700 border border-emerald-200","soft-info":"bg-blue-50 text-blue-700 border border-blue-200","soft-warning":"bg-amber-50 text-amber-700 border border-amber-200","soft-danger":"bg-red-50 text-red-700 border border-red-200","soft-neutral":"bg-gray-50 text-gray-700 border border-gray-200"};return i.jsx("div",{className:ke("rounded-2xl flex items-center justify-center shadow-sm","flex-shrink-0 overflow-hidden","hover:scale-[1.05] max-w-full max-h-full",n[t],a[r],s),children:e})}const le={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"},Qg={1:{id:"1",title:"5     ",description:"      ",readTime:"3 ",category:"heart-health",goals:["heart-health","nutrition"],relevanceScore:95,icon:i.jsx(qt,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1490645935967-10de6ba17061?w=800&h=400&fit=crop",content:`   -     .       .

 ,        ""  ()  10-20%  3 .`,sections:[{title:"1.   ",content:`           . 

  - 25-35    .  :
  (4  )
  (4   )
  (5  )
  (8  )`},{title:"2. -3  ",content:`   -3,      ""  ().

  :
 ,  - 2   
  100-150
 :  ,  `},{title:"3.   ",content:`       .

  :
 30    ()
   3-4   
   `},{title:"4.  ",content:`      .

 :
 150     
  75   
  30  5   `},{title:"5.  ",content:`      .

 :
 2-3     
   
     `}],tips:["       ","     2   ","      ","    ","   "],warnings:["        ","      ","     "],author:"-  .., ",publishDate:"2024-01-15",relatedArticles:["2","3","6"],trending:!0},2:{id:"2",title:"      ",description:"      ",readTime:"5 ",category:"energy",goals:["energy","sleep"],relevanceScore:88,icon:i.jsx(bl,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1541781774459-bb2af2f05b55?w=800&h=400&fit=crop",content:`        16 .      .

 ,        30%       .`,sections:[{title:"1.    ",content:`         .

  :
   7   
    30   
     `},{title:"2.     10 ",content:`       .

   :
     
     
 10-15    
   `},{title:"3.    ",content:`     500     .

  :
   
     14%
  
    C   `},{title:"4.    ",content:`5-10        .

 :
    
    
   
    `},{title:"5.  ",content:`2-3        .

 :
  3  
  
   
     `}],tips:["  1-2 ,   ","    ","       ","     30 ","  : , "],warnings:["    30   ","    -  90-120 ","      "],author:" EVERLIV HEALTH",publishDate:"2024-01-20",new:!0,relatedArticles:["5","8"]},3:{id:"3",title:" :  ",description:"      16:8",readTime:"7 ",category:"weight-loss",goals:["weight-loss","nutrition"],relevanceScore:92,icon:i.jsx(Jc,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1563865436874-9aef32095fad?w=800&h=400&fit=crop",content:`  (IF) -   ,   ,        .

 16:8 -               .`,sections:[{title:"1.   16:8",content:` 16:8  16-   8-    .

 :
 12:00-20:00 ( )
 14:00-22:00 ( )
 10:00-18:00 ( )

   :
 
    
  
  `},{title:"2.  ",content:`     :

 :
     3-31%
     
    4-14%
   

 :
   ( )
    
   `},{title:"3.   ",content:`        .

 :
  1-2: 12:12 ( )
  3-4: 14:10 ( )
  5+: 16:8 ( )

 :
    ,     
   ,   
    `},{title:"4.   ",content:`     -    .

 :
   -    
   
   
   

 :
   (, , )
   (, ,  )
   (, ,  )
    (!)`},{title:"5.   ",content:`    .   :

:
    
   1 
   
   ( )
  

 :
   
   
  
     ()`}],tips:["  12:12,    ","  2-3    ","     -   ","   ,   ","   -    ","      "],warnings:["        ","    ","      "],author:" EVERLIV HEALTH",publishDate:"2024-01-22",trending:!0,relatedArticles:["1","6"]},4:{id:"4",title:" D  ",description:"    ",readTime:"4 ",category:"immunity",goals:["immunity"],relevanceScore:85,icon:i.jsx(Mr,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1542736667-069246bdbc6d?w=800&h=400&fit=crop",content:` D   ,    -         .

       D  - ,    .`,sections:[{title:"1.   D  ",content:` D     ,    .

 :
    (T-)
    
    
   

 :
      D    2  
       42%`},{title:"2.   ",content:`   90%      D   .

 :
    (UVB-)
   
   
    
    ( 30)

 :
  
  
  
  `},{title:"3.  ",content:`    D -  .

   :
 : 10-30    
  : 11:00-16:00
  : , , 

 :
   (, , )
  ( )
   (, )
  (, )`},{title:"4.   ",content:`      .

 :
 : 1000-2000   
  : 4000-10000  (  )
 : 1000   

  D:
  (D3) - 
  (D2) -  

 :
   
      K2`}],tips:["  25()D    6 ","    15-30   ","   1000-2000   ","   2-3   ","   K2  "],warnings:["   10000      ","   ","      "],author:"-  .., ",publishDate:"2024-01-25",new:!0,relatedArticles:["7"]},5:{id:"5",title:"  : 5   ",description:"   ",readTime:"3 ",category:"stress",goals:["stress","mental"],relevanceScore:83,icon:i.jsx(gt,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1545205597-3d9d02c29597?w=800&h=400&fit=crop",content:` -         .   :  5        23%     40%.

        -          .`,sections:[{title:"1.   ",content:`        .

  :
      
    ( )
    
   (  )

 :
    15-25%
    
   
    `},{title:"2.  4-7-8:  ",content:`         .

 :
1.    
2.    4 
3.    7 
4.    8  ( )
5.  4 

 :
        
     
 : 2-3    `},{title:"3. 5-  ",content:`       .

:
   
     
      
  

:
1.  1:    
2.  2-3:      
3.  4-5:      

  :
     
   
      `},{title:"4.   ",content:`  ,     .

 :
      
     
      
 5-10    

-  :
 30   
 1    
 2    
    1-2 `}],tips:["  2   ,   ","         "," -   ","   -   ,   ","  :  ,   "],warnings:["       ","      ","        "],author:"  ..",publishDate:"2024-01-18",relatedArticles:["2","8"]},6:{id:"6",title:"    ",description:"    ",readTime:"8 ",category:"weight-loss",goals:["weight-loss","nutrition"],relevanceScore:90,icon:i.jsx(Gt,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1490818387583-1baba5e638af?w=800&h=400&fit=crop",content:`   -    ,     .    -        .

     0.5-1       .`,sections:[{title:"1.  ",content:`    :   ,  .

 :
 300-500      
 500-750     
   1000    

   :
 : 10   + 6.25   - 5   + 5
 : 10   + 6.25   - 5   - 161
     (1.2-1.9)`},{title:"2. :  ",content:`  ,          .

 :
 : 25-30%   
 : 25-35%   
 : 35-45%   

  :
    20-30%
   
   
 : 1.5-2     `},{title:"3.    ",content:` 1-3:  
 (400-500 ):
      + 1 
     2  + 
  5% +  + 

 (500-600 ):
   150 +  + 
  +   +  
    +  

 ( 200 ):
  30
    
  1/2

 (400-500 ):
  +  +  
   +   + 
  +  `},{title:"4.   ",content:`       .

 (3-5   ):
   (HIIT): 20-30 
  : 45-60 
  : 8000-10000   

  (2-3   ):
 , , 
  
 40-60   
 12-15   3-4 

  (30 ):
 : 3   10 
   : 3   30 
 : 3   
 : 3   30-60 `},{title:"5.  ",content:` ,    .

 :
   -     
    -     
    -   

 :
   - 
   -  
   -  
     
     `}],tips:["   200-300   ","    2 ","      ","  -  "," ,     -   ","   7-8  -   "],warnings:["    1200    ","    -      ","       "],author:"  ",publishDate:"2024-01-12",trending:!0,relatedArticles:["3","1"]},7:{id:"7",title:"  ",description:"-10    ",readTime:"5 ",category:"immunity",goals:["immunity","nutrition"],relevanceScore:87,icon:i.jsx(Mr,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&h=400&fit=crop",content:`  -   .     ,        .

  : ,      ,    40% .`,sections:[{title:"1.  ",content:`, ,  -     C.

  :
  C     
     
    

 :
 1   2   
   ,   
       `},{title:"2.   ",content:`       .

:
  -   
    
   
       

:
   
    
  :    `},{title:"3. ",content:`      .

 :
   
  
     
  

 :
 : 10-15   ( 2-3 )
 : 1-3  
     
    , , `},{title:"4.    ",content:`,  ,  -    .

  :
  -  
  C, E, K  
    
    

 :
 : 100-150  
    
    , , `},{title:"5.  ",content:`, ,  -     .

 :
      
    
    
     

   :
  100-150  
    
    , `}],tips:[" :   ,     ","    C     ","        ","   -      ","   -    ,    "],warnings:["        ","    -    ","        "],author:"  ",publishDate:"2024-01-28",new:!0,relatedArticles:["4"]},8:{id:"8",title:"  ",description:"   ",readTime:"6 ",category:"sleep",goals:["sleep","recovery"],relevanceScore:89,icon:i.jsx(bi,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1515894203077-9cd36032142f?w=800&h=400&fit=crop",content:`  -  ,    .     -       .

  : ,  7-9   ,   30%    .`,sections:[{title:"1.    ",content:`      .

  :
   (N1): 5%   
   (N2): 45-55% -  
   (N3): 15-20% -  
 REM-: 20-25% -    

 : 90-120 
: 5-6    

  :
   ( )
     `},{title:"2.  ",content:`      .

 :
 : 16-19C ()
 : 40-60%
   (- ,   )
    

  :
    7-10 
      
   (, )

:
    1-2   
        
   `},{title:"3.  ",content:`        .

   (60-90   ):

1.   (18:00-19:00):
    
         

2.   (19:00-20:00):
     3   
    
  , ,  

3.   (20:30-21:30):
     15-20 
    
   
    `},{title:"4.    ",content:` -  ,     .

   :
    
    
     
   

  :
    
    
   
    ( , )

 :
 0.5-3  30-60   
    
      `},{title:"5.     ",content:`  -      .

  :
   
   10-15 
   
    

  :
     
    
    3-4   
    

 :
     
   
      `}],tips:["      ,   ","    14:00","    -    20 ,   ","      -      ","      "],warnings:["    -   ","     ","     -    "],author:"  ",publishDate:"2024-01-30",relatedArticles:["2","5"]},9:{id:"9",title:"  ",description:"15-  ",readTime:"4 ",category:"fitness",goals:["fitness","mental","stress"],relevanceScore:82,icon:i.jsx(Vg,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=800&h=400&fit=crop",content:` -  ,    ,    .   :     , ,    .

 15-                .`,sections:[{title:"1.   ",content:`  -      .

:
    ()
    ()
    ()
 : ,   

 :
    
   
  -   
   

 :
    
  2-3    
     2   `},{title:"2.   (5 )",content:`    .

1.   () - 2 :
   ,  
  ,   
      
    

2. - - 2 :
   
 :  ,  
 :  ,  
    

3.    - 1 :
    
      `},{title:"3.   (8 )",content:`    .

1.   () - 1 :
  ,  
  ,  
  ,   
     

2.   () - 2 :
     
        
    
    

3.   II () - 2 :
  ,   
     
    
     
    

4.     - 2 :
    
     
    
    

5.   () - 1 :
   ,   
   
     `},{title:"4.   (2 )",content:`     .

1.    - 1 :
    
   
   , 
  

2.   () - 1 :
   ,   
   
  ,  
      
    `}],tips:["  3-5       ","  :   ,   ","     ","      "," ,   -    ,    ","   2-3    "],warnings:["    -     ","      ","       "],author:"   ",publishDate:"2024-02-01",relatedArticles:["5","12"]},10:{id:"10",title:"  ",description:"    ",readTime:"7 ",category:"nutrition",goals:["nutrition","immunity"],relevanceScore:86,icon:i.jsx(yk,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1610348725531-843dff563d2c?w=800&h=400&fit=crop",content:"          ."},11:{id:"11",title:"HIIT  ",description:"20    ",readTime:"5 ",category:"fitness",goals:["fitness","weight-loss","energy"],relevanceScore:91,icon:i.jsx(Xx,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1517963879433-6ad2b056d712?w=800&h=400&fit=crop",content:"        .",trending:!0},12:{id:"12",title:"   ",description:"   ",readTime:"3 ",category:"energy",goals:["energy","stress"],relevanceScore:84,icon:i.jsx(Vg,{className:le.sm}),imageUrl:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=800&h=400&fit=crop",content:"         ."}},J6=Object.values(Qg),eM={"weight-loss":i.jsx(Gt,{className:le.sm}),"heart-health":i.jsx(qt,{className:le.sm}),energy:i.jsx(bl,{className:le.sm}),immunity:i.jsx(Mr,{className:le.sm}),sleep:i.jsx(bi,{className:le.sm}),stress:i.jsx(gt,{className:le.sm}),nutrition:i.jsx(yk,{className:le.sm}),fitness:i.jsx(Xx,{className:le.sm}),mental:i.jsx(kA,{className:le.sm}),recovery:i.jsx(Vg,{className:le.sm})},tp={"weight-loss":" ","heart-health":" ",energy:"",immunity:"",sleep:"",stress:"",nutrition:"",fitness:"",mental:"",recovery:""};function tM({userGoals:e=[],userBiomarkers:t=[]}){const[r,s]=p.useState("all"),[n,a]=p.useState(!1),o=p.useMemo(()=>{let c=[...J6];return c.sort((d,u)=>{const h=d.goals.some(m=>e.includes(m))?20:0,f=u.goals.some(m=>e.includes(m))?20:0,g=d.relevanceScore+h;return u.relevanceScore+f-g}),r!=="all"&&(c=c.filter(d=>d.category===r)),c},[e,t,r]),l=p.useMemo(()=>{const c=["all",...Object.keys(tp)];return e.length>0?c.sort((d,u)=>{if(d==="all")return-1;if(u==="all")return 1;const h=e.includes(d)?1:0;return(e.includes(u)?1:0)-h}):c},[e]);return i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-medical-blue/5 to-trust-green/5 rounded-2xl p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(Lg,{className:"w-5 h-5 text-white"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:" "})]}),e.length>0&&i.jsxs(de,{className:"bg-gradient-to-r from-medical-blue to-trust-green text-white border-0 px-3 py-1 shadow-lg",children:[i.jsx(pt,{className:"w-3 h-3 mr-1.5 animate-pulse"})," "]})]}),e.length>0&&i.jsxs("div",{className:"flex items-center gap-2 pl-13",children:[i.jsx("div",{className:"w-2 h-2 bg-trust-green rounded-full animate-pulse"}),i.jsxs("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:[o.filter(c=>e.some(d=>c.goals.includes(d))).length,"  "]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:l.slice(0,n?void 0:6).map((c,d)=>{const u=r===c,h=["from-rose-400 to-pink-600","from-violet-400 to-purple-600","from-sky-400 to-blue-600","from-emerald-400 to-green-600","from-amber-400 to-orange-600","from-indigo-400 to-blue-600"],f=h[d%h.length];return i.jsxs("button",{onClick:()=>s(c),className:`
                  relative w-full h-14 overflow-hidden rounded-xl transition-all duration-200
                  ${u?"scale-[1.02] shadow-lg ring-2 ring-white/40":"hover:scale-[1.02] hover:shadow-md shadow-sm"}
                `,children:[i.jsx("div",{className:`
                  absolute inset-0 bg-gradient-to-r ${u?"from-medical-blue to-trust-green":f} 
                  ${u?"opacity-100":"opacity-90"}
                `}),i.jsxs("div",{className:"relative h-full px-3 py-2 flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-white/25 backdrop-blur-sm rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",children:c==="all"?i.jsx(Lg,{className:"w-4 h-4 text-white"}):i.jsx("div",{className:"text-white",children:eM[c]})}),i.jsx("div",{className:"flex-1 text-left min-w-0",children:i.jsx("p",{className:"text-white font-medium text-sm leading-tight truncate",children:c==="all"?" ":tp[c]})}),e.includes(c)&&i.jsx("div",{className:"w-4 h-4 bg-white/40 backdrop-blur-sm rounded-full flex items-center justify-center animate-pulse flex-shrink-0",children:i.jsx(pt,{className:"w-2.5 h-2.5 text-white"})}),u&&i.jsx("div",{className:"w-1 h-6 bg-white/50 rounded-full flex-shrink-0"})]})]},c)})}),l.length>6&&i.jsxs("button",{onClick:()=>a(!n),className:"w-full mt-3 py-3 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 rounded-xl text-gray-700 dark:text-gray-300 font-medium text-sm hover:shadow-md transition-all duration-200 flex items-center justify-center gap-2",children:[i.jsx(vi,{className:"w-4 h-4"}),n?"":`  ${l.length-6} `]})]}),i.jsx("div",{className:"space-y-8",children:o.slice(0,4).map(c=>i.jsx(Ze,{href:`/app/article/${c.id}`,children:i.jsx(J,{className:"border-0 shadow-xl bg-white dark:bg-slate-800 hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden group",children:i.jsxs("div",{className:"relative",children:[c.imageUrl&&i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"h-52 bg-cover bg-center relative group-hover:scale-105 transition-transform duration-500",style:{backgroundImage:`url(${c.imageUrl})`},children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"})}),i.jsxs("div",{className:"absolute inset-0",children:[i.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[c.trending&&i.jsxs(de,{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white border-0 text-xs px-3 py-1 shadow-lg backdrop-blur-sm",children:[i.jsx(wr,{className:"w-3.5 h-3.5 mr-1.5"}),""]}),c.new&&i.jsxs(de,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 text-xs px-3 py-1 shadow-lg backdrop-blur-sm",children:[i.jsx(pt,{className:"w-3.5 h-3.5 mr-1.5"}),""]})]}),i.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:i.jsxs("div",{className:"flex items-center gap-3 text-white",children:[i.jsx(de,{className:"bg-white/20 backdrop-blur-md text-white border-0 text-xs px-3 py-1",children:tp[c.category]}),i.jsxs("span",{className:"text-xs flex items-center gap-1 text-white/90",children:[i.jsx(Jc,{className:"w-3.5 h-3.5"}),c.readTime]})]})})]})]}),i.jsx(me,{className:"p-5",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2 group-hover:text-medical-blue transition-colors",children:c.title}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:c.description})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[e.some(d=>c.goals.includes(d))&&i.jsxs(de,{className:"bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 border-green-200 text-xs px-3 py-1",children:[i.jsx(Gt,{className:"w-3.5 h-3.5 mr-1.5"}),""]}),c.author&&i.jsx("span",{className:"text-xs text-muted-foreground",children:c.author})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-medical-blue font-medium",children:[i.jsx("span",{children:""}),i.jsx(oo,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})})]})})},c.id))}),o.length>4&&i.jsx("div",{className:"mt-4",children:i.jsxs("button",{className:"w-full py-3 bg-gradient-to-r from-medical-blue/5 to-trust-green/5 hover:from-medical-blue/10 hover:to-trust-green/10 rounded-xl text-medical-blue font-medium text-sm transition-all duration-200 flex items-center justify-center gap-2",children:[i.jsx(vi,{className:"w-4 h-4"}),"  ",o.length-4," "]})})]})}var rp="focusScope.autoFocusOnMount",sp="focusScope.autoFocusOnUnmount",Qb={bubbles:!1,cancelable:!0},rM="FocusScope",py=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:n,onUnmountAutoFocus:a,...o}=e,[l,c]=p.useState(null),d=mt(n),u=mt(a),h=p.useRef(null),f=Ce(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let m=function(N){if(g.paused||!l)return;const j=N.target;l.contains(j)?h.current=j:zn(h.current,{select:!0})},b=function(N){if(g.paused||!l)return;const j=N.relatedTarget;j!==null&&(l.contains(j)||zn(h.current,{select:!0}))},v=function(N){if(document.activeElement===document.body)for(const k of N)k.removedNodes.length>0&&zn(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),x.disconnect()}}},[s,l,g.paused]),p.useEffect(()=>{if(l){Yb.add(g);const m=document.activeElement;if(!l.contains(m)){const v=new CustomEvent(rp,Qb);l.addEventListener(rp,d),l.dispatchEvent(v),v.defaultPrevented||(sM(lM(m5(l)),{select:!0}),document.activeElement===m&&zn(l))}return()=>{l.removeEventListener(rp,d),setTimeout(()=>{const v=new CustomEvent(sp,Qb);l.addEventListener(sp,u),l.dispatchEvent(v),v.defaultPrevented||zn(m??document.body,{select:!0}),l.removeEventListener(sp,u),Yb.remove(g)},0)}}},[l,d,u,g]);const y=p.useCallback(m=>{if(!r&&!s||g.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(b&&v){const x=m.currentTarget,[N,j]=nM(x);N&&j?!m.shiftKey&&v===j?(m.preventDefault(),r&&zn(N,{select:!0})):m.shiftKey&&v===N&&(m.preventDefault(),r&&zn(j,{select:!0})):v===x&&m.preventDefault()}},[r,s,g.paused]);return i.jsx(ye.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});py.displayName=rM;function sM(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(zn(s,{select:t}),document.activeElement!==r)return}function nM(e){const t=m5(e),r=Zb(t,e),s=Zb(t.reverse(),e);return[r,s]}function m5(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Zb(e,t){for(const r of e)if(!iM(r,{upTo:t}))return r}function iM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aM(e){return e instanceof HTMLInputElement&&"select"in e}function zn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&aM(e)&&t&&e.select()}}var Yb=oM();function oM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Xb(e,t),e.unshift(t)},remove(t){var r;e=Xb(e,t),(r=e[0])==null||r.resume()}}}function Xb(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function lM(e){return e.filter(t=>t.tagName!=="A")}var np=0;function p5(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jb()),document.body.insertAdjacentElement("beforeend",e[1]??Jb()),np++,()=>{np===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),np--}},[])}function Jb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vs=function(){return Vs=Object.assign||function(t){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Vs.apply(this,arguments)};function g5(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function cM(e,t,r){if(r||arguments.length===2)for(var s=0,n=t.length,a;s<n;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var dh="right-scroll-bar-position",uh="width-before-scroll-bar",dM="with-scroll-bars-hidden",uM="--removed-body-scroll-bar-size";function ip(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hM(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var n=r.value;n!==s&&(r.value=s,r.callback(s,n))}}}})[0];return r.callback=t,r.facade}var fM=typeof window<"u"?p.useLayoutEffect:p.useEffect,e1=new WeakMap;function mM(e,t){var r=hM(null,function(s){return e.forEach(function(n){return ip(n,s)})});return fM(function(){var s=e1.get(r);if(s){var n=new Set(s),a=new Set(e),o=r.current;n.forEach(function(l){a.has(l)||ip(l,null)}),a.forEach(function(l){n.has(l)||ip(l,o)})}e1.set(r,e)},[e]),r}function pM(e){return e}function gM(e,t){t===void 0&&(t=pM);var r=[],s=!1,n={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return n}function xM(e){e===void 0&&(e={});var t=gM(null);return t.options=Vs({async:!0,ssr:!1},e),t}var x5=function(e){var t=e.sideCar,r=g5(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,Vs({},r))};x5.isSideCarExport=!0;function yM(e,t){return e.useMedium(t),x5}var y5=xM(),ap=function(){},nm=p.forwardRef(function(e,t){var r=p.useRef(null),s=p.useState({onScrollCapture:ap,onWheelCapture:ap,onTouchMoveCapture:ap}),n=s[0],a=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,g=e.noIsolation,y=e.inert,m=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,x=e.gapMode,N=g5(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,k=mM([r,t]),C=Vs(Vs({},N),n);return p.createElement(p.Fragment,null,u&&p.createElement(j,{sideCar:y5,removeScrollBar:d,shards:h,noIsolation:g,inert:y,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:x}),o?p.cloneElement(p.Children.only(l),Vs(Vs({},C),{ref:k})):p.createElement(v,Vs({},C,{className:c,ref:k}),l))});nm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nm.classNames={fullWidth:uh,zeroRight:dh};var vM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vM();return t&&e.setAttribute("nonce",t),e}function wM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function NM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=bM())&&(wM(t,r),NM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kM=function(){var e=jM();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},v5=function(){var e=kM(),t=function(r){var s=r.styles,n=r.dynamic;return e(s,n),null};return t},SM={left:0,top:0,right:0,gap:0},op=function(e){return parseInt(e||"",10)||0},_M=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[op(r),op(s),op(n)]},CM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SM;var t=_M(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},EM=v5(),jo="data-scroll-locked",TM=function(e,t,r,s){var n=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(dM,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(jo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dh,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(uh,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(dh," .").concat(dh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(uh," .").concat(uh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(jo,`] {
    `).concat(uM,": ").concat(l,`px;
  }
`)},t1=function(){var e=parseInt(document.body.getAttribute(jo)||"0",10);return isFinite(e)?e:0},PM=function(){p.useEffect(function(){return document.body.setAttribute(jo,(t1()+1).toString()),function(){var e=t1()-1;e<=0?document.body.removeAttribute(jo):document.body.setAttribute(jo,e.toString())}},[])},AM=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,n=s===void 0?"margin":s;PM();var a=p.useMemo(function(){return CM(n)},[n]);return p.createElement(EM,{styles:TM(a,!t,n,r?"":"!important")})},Zg=!1;if(typeof window<"u")try{var Ru=Object.defineProperty({},"passive",{get:function(){return Zg=!0,!0}});window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{Zg=!1}var Da=Zg?{passive:!1}:!1,RM=function(e){return e.tagName==="TEXTAREA"},b5=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!RM(e)&&r[t]==="visible")},MM=function(e){return b5(e,"overflowY")},FM=function(e){return b5(e,"overflowX")},r1=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var n=w5(e,s);if(n){var a=N5(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},OM=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},IM=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},w5=function(e,t){return e==="v"?MM(t):FM(t)},N5=function(e,t){return e==="v"?OM(t):IM(t)},DM=function(e,t){return e==="h"&&t==="rtl"?-1:1},LM=function(e,t,r,s,n){var a=DM(e,window.getComputedStyle(t).direction),o=a*s,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{var g=N5(e,l),y=g[0],m=g[1],b=g[2],v=m-b-a*y;(y||v)&&w5(e,l)&&(h+=v,f+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!n)||!u&&(Math.abs(f)<1||!n))&&(d=!0),d},Mu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},s1=function(e){return[e.deltaX,e.deltaY]},n1=function(e){return e&&"current"in e?e.current:e},$M=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zM=0,La=[];function BM(e){var t=p.useRef([]),r=p.useRef([0,0]),s=p.useRef(),n=p.useState(zM++)[0],a=p.useState(v5)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var m=cM([e.lockRef.current],(e.shards||[]).map(n1),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=Mu(m),x=r.current,N="deltaX"in m?m.deltaX:x[0]-v[0],j="deltaY"in m?m.deltaY:x[1]-v[1],k,C=m.target,S=Math.abs(N)>Math.abs(j)?"h":"v";if("touches"in m&&S==="h"&&C.type==="range")return!1;var E=r1(S,C);if(!E)return!0;if(E?k=S:(k=S==="v"?"h":"v",E=r1(S,C)),!E)return!1;if(!s.current&&"changedTouches"in m&&(N||j)&&(s.current=k),!k)return!0;var T=s.current||k;return LM(T,b,m,T==="h"?N:j,!0)},[]),c=p.useCallback(function(m){var b=m;if(!(!La.length||La[La.length-1]!==a)){var v="deltaY"in b?s1(b):Mu(b),x=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&$M(k.delta,v)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var N=(o.current.shards||[]).map(n1).filter(Boolean).filter(function(k){return k.contains(b.target)}),j=N.length>0?l(b,N[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),d=p.useCallback(function(m,b,v,x){var N={name:m,delta:b,target:v,should:x,shadowParent:VM(v)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(j){return j!==N})},1)},[]),u=p.useCallback(function(m){r.current=Mu(m),s.current=void 0},[]),h=p.useCallback(function(m){d(m.type,s1(m),m.target,l(m,e.lockRef.current))},[]),f=p.useCallback(function(m){d(m.type,Mu(m),m.target,l(m,e.lockRef.current))},[]);p.useEffect(function(){return La.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Da),document.addEventListener("touchmove",c,Da),document.addEventListener("touchstart",u,Da),function(){La=La.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Da),document.removeEventListener("touchmove",c,Da),document.removeEventListener("touchstart",u,Da)}},[]);var g=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(a,{styles:UM(n)}):null,g?p.createElement(AM,{gapMode:e.gapMode}):null)}function VM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const HM=yM(y5,BM);var gy=p.forwardRef(function(e,t){return p.createElement(nm,Vs({},e,{ref:t,sideCar:HM}))});gy.classNames=nm.classNames;var WM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$a=new WeakMap,Fu=new WeakMap,Ou={},lp=0,j5=function(e){return e&&(e.host||j5(e.parentNode))},qM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=j5(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},GM=function(e,t,r,s){var n=qM(t,Array.isArray(e)?e:[e]);Ou[r]||(Ou[r]=new WeakMap);var a=Ou[r],o=[],l=new Set,c=new Set(n),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};n.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var g=f.getAttribute(s),y=g!==null&&g!=="false",m=($a.get(f)||0)+1,b=(a.get(f)||0)+1;$a.set(f,m),a.set(f,b),o.push(f),m===1&&y&&Fu.set(f,!0),b===1&&f.setAttribute(r,"true"),y||f.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),l.clear(),lp++,function(){o.forEach(function(h){var f=$a.get(h)-1,g=a.get(h)-1;$a.set(h,f),a.set(h,g),f||(Fu.has(h)||h.removeAttribute(s),Fu.delete(h)),g||h.removeAttribute(r)}),lp--,lp||($a=new WeakMap,$a=new WeakMap,Fu=new WeakMap,Ou={})}},k5=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),n=WM(e);return n?(s.push.apply(s,Array.from(n.querySelectorAll("[aria-live]"))),GM(s,n,r,"aria-hidden")):function(){return null}},xy="Dialog",[S5,GV]=Mn(xy),[KM,Es]=S5(xy),_5=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:n,onOpenChange:a,modal:o=!0}=e,l=p.useRef(null),c=p.useRef(null),[d=!1,u]=Xc({prop:s,defaultProp:n,onChange:a});return i.jsx(KM,{scope:t,triggerRef:l,contentRef:c,contentId:wo(),titleId:wo(),descriptionId:wo(),open:d,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};_5.displayName=xy;var C5="DialogTrigger",QM=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=Es(C5,r),a=Ce(t,n.triggerRef);return i.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":by(n.open),...s,ref:a,onClick:ue(e.onClick,n.onOpenToggle)})});QM.displayName=C5;var yy="DialogPortal",[ZM,E5]=S5(yy,{forceMount:void 0}),T5=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:n}=e,a=Es(yy,t);return i.jsx(ZM,{scope:t,forceMount:r,children:p.Children.map(s,o=>i.jsx(rn,{present:r||a.open,children:i.jsx(Kf,{asChild:!0,container:n,children:o})}))})};T5.displayName=yy;var Qh="DialogOverlay",P5=p.forwardRef((e,t)=>{const r=E5(Qh,e.__scopeDialog),{forceMount:s=r.forceMount,...n}=e,a=Es(Qh,e.__scopeDialog);return a.modal?i.jsx(rn,{present:s||a.open,children:i.jsx(XM,{...n,ref:t})}):null});P5.displayName=Qh;var YM=fl("DialogOverlay.RemoveScroll"),XM=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=Es(Qh,r);return i.jsx(gy,{as:YM,allowPinchZoom:!0,shards:[n.contentRef],children:i.jsx(ye.div,{"data-state":by(n.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ja="DialogContent",A5=p.forwardRef((e,t)=>{const r=E5(ja,e.__scopeDialog),{forceMount:s=r.forceMount,...n}=e,a=Es(ja,e.__scopeDialog);return i.jsx(rn,{present:s||a.open,children:a.modal?i.jsx(JM,{...n,ref:t}):i.jsx(eF,{...n,ref:t})})});A5.displayName=ja;var JM=p.forwardRef((e,t)=>{const r=Es(ja,e.__scopeDialog),s=p.useRef(null),n=Ce(t,r.contentRef,s);return p.useEffect(()=>{const a=s.current;if(a)return k5(a)},[]),i.jsx(R5,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,a=>a.preventDefault())})}),eF=p.forwardRef((e,t)=>{const r=Es(ja,e.__scopeDialog),s=p.useRef(!1),n=p.useRef(!1);return i.jsx(R5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&n.current&&a.preventDefault()}})}),R5=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:a,...o}=e,l=Es(ja,r),c=p.useRef(null),d=Ce(t,c);return p5(),i.jsxs(i.Fragment,{children:[i.jsx(py,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:a,children:i.jsx(Jd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":by(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(tF,{titleId:l.titleId}),i.jsx(sF,{contentRef:c,descriptionId:l.descriptionId})]})]})}),vy="DialogTitle",M5=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=Es(vy,r);return i.jsx(ye.h2,{id:n.titleId,...s,ref:t})});M5.displayName=vy;var F5="DialogDescription",O5=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=Es(F5,r);return i.jsx(ye.p,{id:n.descriptionId,...s,ref:t})});O5.displayName=F5;var I5="DialogClose",D5=p.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=Es(I5,r);return i.jsx(ye.button,{type:"button",...s,ref:t,onClick:ue(e.onClick,()=>n.onOpenChange(!1))})});D5.displayName=I5;function by(e){return e?"open":"closed"}var L5="DialogTitleWarning",[KV,$5]=lP(L5,{contentName:ja,titleName:vy,docsSlug:"dialog"}),tF=({titleId:e})=>{const t=$5(L5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},rF="DialogDescriptionWarning",sF=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$5(rF).contentName}}.`;return p.useEffect(()=>{var a;const n=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},nF=_5,iF=T5,U5=P5,z5=A5,B5=M5,V5=O5,aF=D5;const H5=nF,oF=iF,W5=p.forwardRef(({className:e,...t},r)=>i.jsx(U5,{ref:r,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));W5.displayName=U5.displayName;const wy=p.forwardRef(({className:e,children:t,...r},s)=>i.jsxs(oF,{children:[i.jsx(W5,{}),i.jsxs(z5,{ref:s,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(aF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Wr,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wy.displayName=z5.displayName;const q5=p.forwardRef(({className:e,...t},r)=>i.jsx(B5,{ref:r,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t}));q5.displayName=B5.displayName;const G5=p.forwardRef(({className:e,...t},r)=>i.jsx(V5,{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));G5.displayName=V5.displayName;var lF=p.createContext(void 0);function Ny(e){const t=p.useContext(lF);return e||t||"ltr"}function rd(e,[t,r]){return Math.min(r,Math.max(t,e))}function cF(e,t){return p.useReducer((r,s)=>t[r][s]??r,e)}var jy="ScrollArea",[K5,QV]=Mn(jy),[dF,Zr]=K5(jy),Q5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:n,scrollHideDelay:a=600,...o}=e,[l,c]=p.useState(null),[d,u]=p.useState(null),[h,f]=p.useState(null),[g,y]=p.useState(null),[m,b]=p.useState(null),[v,x]=p.useState(0),[N,j]=p.useState(0),[k,C]=p.useState(!1),[S,E]=p.useState(!1),T=Ce(t,L=>c(L)),A=Ny(n);return i.jsx(dF,{scope:r,type:s,dir:A,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:g,onScrollbarXChange:y,scrollbarXEnabled:k,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:b,scrollbarYEnabled:S,onScrollbarYEnabledChange:E,onCornerWidthChange:x,onCornerHeightChange:j,children:i.jsx(ye.div,{dir:A,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});Q5.displayName=jy;var Z5="ScrollAreaViewport",Y5=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:n,...a}=e,o=Zr(Z5,r),l=p.useRef(null),c=Ce(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(ye.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Y5.displayName=Z5;var nn="ScrollAreaScrollbar",ky=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=Zr(nn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=n,l=e.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),n.type==="hover"?i.jsx(uF,{...s,ref:t,forceMount:r}):n.type==="scroll"?i.jsx(hF,{...s,ref:t,forceMount:r}):n.type==="auto"?i.jsx(X5,{...s,ref:t,forceMount:r}):n.type==="always"?i.jsx(Sy,{...s,ref:t}):null});ky.displayName=nn;var uF=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=Zr(nn,e.__scopeScrollArea),[a,o]=p.useState(!1);return p.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),i.jsx(rn,{present:r||a,children:i.jsx(X5,{"data-state":a?"visible":"hidden",...s,ref:t})})}),hF=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=Zr(nn,e.__scopeScrollArea),a=e.orientation==="horizontal",o=am(()=>c("SCROLL_END"),100),[l,c]=cF("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,n.scrollHideDelay,c]),p.useEffect(()=>{const d=n.viewport,u=a?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const g=d[u];h!==g&&(c("SCROLL"),o()),h=g};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[n.viewport,a,c,o]),i.jsx(rn,{present:r||l!=="hidden",children:i.jsx(Sy,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:ue(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ue(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),X5=p.forwardRef((e,t)=>{const r=Zr(nn,e.__scopeScrollArea),{forceMount:s,...n}=e,[a,o]=p.useState(!1),l=e.orientation==="horizontal",c=am(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return jl(r.viewport,c),jl(r.content,c),i.jsx(rn,{present:s||a,children:i.jsx(Sy,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Sy=p.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,n=Zr(nn,e.__scopeScrollArea),a=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=sS(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,g){return yF(f,o.current,l,g)}return r==="horizontal"?i.jsx(fF,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&a.current){const f=n.viewport.scrollLeft,g=i1(f,l,n.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollLeft=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollLeft=h(f,n.dir))}}):r==="vertical"?i.jsx(mF,{...u,ref:t,onThumbPositionChange:()=>{if(n.viewport&&a.current){const f=n.viewport.scrollTop,g=i1(f,l);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{n.viewport&&(n.viewport.scrollTop=f)},onDragScroll:f=>{n.viewport&&(n.viewport.scrollTop=h(f))}}):null}),fF=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...n}=e,a=Zr(nn,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),d=Ce(t,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(eS,{"data-orientation":"horizontal",...n,ref:d,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":im(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),iS(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Yh(o.paddingLeft),paddingEnd:Yh(o.paddingRight)}})}})}),mF=p.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...n}=e,a=Zr(nn,e.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),d=Ce(t,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(eS,{"data-orientation":"vertical",...n,ref:d,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":im(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const f=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),iS(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Yh(o.paddingTop),paddingEnd:Yh(o.paddingBottom)}})}})}),[pF,J5]=K5(nn),eS=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:n,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=e,g=Zr(nn,r),[y,m]=p.useState(null),b=Ce(t,T=>m(T)),v=p.useRef(null),x=p.useRef(""),N=g.viewport,j=s.content-s.viewport,k=mt(u),C=mt(c),S=am(h,10);function E(T){if(v.current){const A=T.clientX-v.current.left,L=T.clientY-v.current.top;d({x:A,y:L})}}return p.useEffect(()=>{const T=A=>{const L=A.target;(y==null?void 0:y.contains(L))&&k(A,j)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[N,y,j,k]),p.useEffect(C,[s,C]),jl(y,S),jl(g.content,S),i.jsx(pF,{scope:r,scrollbar:y,hasThumb:n,onThumbChange:mt(a),onThumbPointerUp:mt(o),onThumbPositionChange:C,onThumbPointerDown:mt(l),children:i.jsx(ye.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:ue(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),v.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),E(T))}),onPointerMove:ue(e.onPointerMove,E),onPointerUp:ue(e.onPointerUp,T=>{const A=T.target;A.hasPointerCapture(T.pointerId)&&A.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,g.viewport&&(g.viewport.style.scrollBehavior=""),v.current=null})})})}),Zh="ScrollAreaThumb",tS=p.forwardRef((e,t)=>{const{forceMount:r,...s}=e,n=J5(Zh,e.__scopeScrollArea);return i.jsx(rn,{present:r||n.hasThumb,children:i.jsx(gF,{ref:t,...s})})}),gF=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...n}=e,a=Zr(Zh,r),o=J5(Zh,r),{onThumbPositionChange:l}=o,c=Ce(t,h=>o.onThumbChange(h)),d=p.useRef(void 0),u=am(()=>{d.current&&(d.current(),d.current=void 0)},100);return p.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(u(),!d.current){const g=vF(h,l);d.current=g,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,u,l]),i.jsx(ye.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ue(e.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),y=h.clientX-g.left,m=h.clientY-g.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:ue(e.onPointerUp,o.onThumbPointerUp)})});tS.displayName=Zh;var _y="ScrollAreaCorner",rS=p.forwardRef((e,t)=>{const r=Zr(_y,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?i.jsx(xF,{...e,ref:t}):null});rS.displayName=_y;var xF=p.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,n=Zr(_y,r),[a,o]=p.useState(0),[l,c]=p.useState(0),d=!!(a&&l);return jl(n.scrollbarX,()=>{var h;const u=((h=n.scrollbarX)==null?void 0:h.offsetHeight)||0;n.onCornerHeightChange(u),c(u)}),jl(n.scrollbarY,()=>{var h;const u=((h=n.scrollbarY)==null?void 0:h.offsetWidth)||0;n.onCornerWidthChange(u),o(u)}),d?i.jsx(ye.div,{...s,ref:t,style:{width:a,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Yh(e){return e?parseInt(e,10):0}function sS(e,t){const r=e/t;return isNaN(r)?0:r}function im(e){const t=sS(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function yF(e,t,r,s="ltr"){const n=im(r),a=n/2,o=t||a,l=n-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=s==="ltr"?[0,u]:[u*-1,0];return nS([c,d],h)(e)}function i1(e,t,r="ltr"){const s=im(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-n,o=t.content-t.viewport,l=a-s,c=r==="ltr"?[0,o]:[o*-1,0],d=rd(e,c);return nS([0,o],[0,l])(d)}function nS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function iS(e,t){return e>0&&e<t}var vF=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function n(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,s=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(s)};function am(e,t){const r=mt(e),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function jl(e,t){const r=mt(t);Dt(()=>{let s=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(s),n.unobserve(e)}}},[e,r])}var aS=Q5,bF=Y5,wF=rS;const om=p.forwardRef(({className:e,children:t,...r},s)=>i.jsxs(aS,{ref:s,className:ke("relative overflow-hidden",e),...r,children:[i.jsx(bF,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(oS,{}),i.jsx(wF,{})]}));om.displayName=aS.displayName;const oS=p.forwardRef(({className:e,orientation:t="vertical",...r},s)=>i.jsx(ky,{ref:s,orientation:t,className:ke("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(tS,{className:"relative flex-1 rounded-full bg-border"})}));oS.displayName=ky.displayName;function NF({open:e,onOpenChange:t,analysis:r}){const{data:s}=Ot({queryKey:["/api/blood-analyses",r==null?void 0:r.id,"biomarker-results"],enabled:!!(r!=null&&r.id)&&e});if(!r)return null;const n=r.results&&r.results.markers&&r.results.markers.length>0,a=u=>(typeof u=="string"?new Date(u):u).toLocaleDateString("ru-RU"),o=u=>{switch(u){case"normal":return"bg-trust-green text-white";case"high":case"low":return"bg-warning-amber text-white";case"critical":return"bg-error-red text-white";default:return"bg-muted text-muted-foreground"}},l=u=>{switch(u){case"normal":return"";case"high":return"";case"low":return"";case"critical":return"";default:return""}},c=s==null?void 0:s.some(u=>u.status!=="normal"),d=c?"attention":"normal";return i.jsx(H5,{open:e,onOpenChange:t,children:i.jsxs(wy,{className:"max-w-md mx-auto h-[90vh] p-0 gap-0 bg-white dark:bg-slate-900 border-0 shadow-2xl rounded-3xl overflow-hidden",children:[i.jsx(q5,{className:"sr-only",children:"  "}),i.jsx(G5,{className:"sr-only",children:"      "}),i.jsxs("div",{className:"eva-gradient-primary relative overflow-hidden",children:[i.jsxs("div",{className:"p-6 text-white relative z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Se,{size:"sm",variant:"secondary",className:"bg-white/20 text-white border-white/30 backdrop-blur-sm",children:i.jsx(gt,{className:le.sm})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold",children:" "}),i.jsx("p",{className:"text-white/90 text-sm",children:" "})]})]}),i.jsx(X,{"data-testid":"button-close-analysis",variant:"ghost",size:"sm",onClick:()=>t(!1),className:"h-8 w-8 rounded-full bg-white/10 hover:bg-white/20 text-white border-0",children:i.jsx(Wr,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"bg-white/15 rounded-2xl p-3 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${d==="normal"?"bg-green-400":"bg-amber-400"} animate-pulse`}),i.jsx("span",{className:"text-sm font-medium",children:d==="normal"?"  ":" "})]}),n&&i.jsxs(de,{className:"bg-white/20 text-white border-white/30 text-xs",children:[r.results.markers.length," "]})]})})]}),i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -translate-y-16 translate-x-16"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full translate-y-12 -translate-x-12"})]}),i.jsx(om,{className:"flex-1 p-4 max-h-96",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"eva-mobile-spacing bg-slate-50 dark:bg-slate-800 rounded-2xl",children:i.jsxs("p",{className:"text-sm text-muted-foreground eva-mobile-text","data-testid":"text-analysis-date",children:[" : ",r.analyzedAt?a(r.analyzedAt):a(r.createdAt)]})}),n&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx(Se,{size:"sm",variant:"soft-primary",children:i.jsx(pt,{className:le.sm})}),i.jsx("h4",{className:"font-bold text-card-foreground",children:"  "})]}),i.jsx("div",{className:"space-y-3",children:r.results.markers.map((u,h)=>{const f=m=>{switch(m){case"normal":return mr;case"high":case"low":return gr;case"critical":return gr;default:return ot}},g=m=>{switch(m){case"normal":return"soft-success";case"high":case"low":return"soft-warning";case"critical":return"soft-danger";default:return"soft-neutral"}},y=f(u.status);return i.jsx("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl p-4 shadow-sm hover:shadow-md transition-all duration-200","data-testid":`ai-marker-${u.name.toLowerCase().replace(/\s+/g,"-")}`,children:i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx(Se,{size:"xs",variant:g(u.status),children:i.jsx(y,{className:le.xs})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h5",{className:"font-semibold text-card-foreground text-sm truncate",children:u.name}),i.jsx(de,{className:`eva-mobile-text ${o(u.status)} ml-2 flex-shrink-0`,"data-testid":`ai-badge-${u.status}`,children:l(u.status)})]}),i.jsxs("div",{className:`text-xl font-bold mb-2 ${u.status==="normal"?"text-emerald-600":u.status==="critical"?"text-red-600":"text-amber-600"}`,children:[u.value," ",u.unit]}),u.referenceRange&&i.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-2 mb-2",children:i.jsxs("p",{className:"text-xs text-muted-foreground font-medium",children:[" : ",u.referenceRange]})})]})]})},h)})}),r.results.summary&&i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-2xl p-4 mt-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Se,{size:"sm",variant:"soft-info",children:i.jsx(gt,{className:le.sm})}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold text-card-foreground mb-2",children:" "}),i.jsx("p",{className:"text-sm text-card-foreground leading-relaxed",children:r.results.summary})]})]})}),r.results.recommendations&&r.results.recommendations.length>0&&i.jsx("div",{className:"eva-gradient-success rounded-2xl p-4 text-white",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Se,{size:"sm",className:"bg-white/20 text-white border-white/30",children:i.jsx(Ec,{className:le.sm})}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3",children:" "}),i.jsx("ul",{className:"space-y-2",children:r.results.recommendations.map((u,h)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/60 mt-2 flex-shrink-0"}),i.jsx("span",{className:"leading-relaxed",children:u})]},h))})]})]})})]}),s&&s.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Se,{size:"sm",variant:"soft-info",children:i.jsx(ot,{className:le.sm})}),i.jsx("h4",{className:"font-bold text-card-foreground",children:" "})]}),i.jsx("div",{className:"space-y-3",children:s.map(u=>{var h,f,g,y,m,b;return i.jsx("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl p-4 shadow-sm","data-testid":`biomarker-result-${(h=u.biomarker)==null?void 0:h.name.toLowerCase().replace(/\s+/g,"-")}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Se,{size:"xs",variant:u.status==="normal"?"soft-success":u.status==="critical"?"soft-danger":"soft-warning",children:u.status==="normal"?i.jsx(mr,{className:le.xs}):i.jsx(gr,{className:le.xs})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h5",{className:"font-semibold text-card-foreground text-sm",children:(f=u.biomarker)==null?void 0:f.name}),i.jsx(de,{className:`eva-mobile-text ${o(u.status)} flex-shrink-0`,"data-testid":`badge-status-${u.status}`,children:l(u.status)})]}),i.jsxs("div",{className:`text-xl font-bold mb-2 ${u.status==="normal"?"text-emerald-600":u.status==="critical"?"text-red-600":"text-amber-600"}`,"data-testid":`value-${(g=u.biomarker)==null?void 0:g.name.toLowerCase().replace(/\s+/g,"-")}`,children:[u.value," ",u.unit]}),((y=u.biomarker)==null?void 0:y.normalRange)&&i.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-2 mb-2",children:i.jsxs("p",{className:"text-xs text-muted-foreground font-medium","data-testid":`range-${(m=u.biomarker)==null?void 0:m.name.toLowerCase().replace(/\s+/g,"-")}`,children:[": ",u.biomarker.normalRange.min," - ",u.biomarker.normalRange.max," ",u.biomarker.normalRange.unit]})}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:(b=u.biomarker)==null?void 0:b.description})]})]})},u.id)})})]}),c&&i.jsx("div",{className:"eva-gradient-wellness rounded-2xl p-4 text-white",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Se,{size:"sm",className:"bg-white/20 text-white border-white/30",children:i.jsx(qt,{className:le.sm})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold mb-3",children:" "}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-white/15 rounded-xl p-3",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:"  "}),i.jsx("p",{className:"text-sm text-white/90",children:"    150 /"})]}),i.jsxs("div",{className:"bg-white/15 rounded-xl p-3",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:" "}),i.jsx("p",{className:"text-sm text-white/90",children:"   "})]}),i.jsxs("div",{className:"bg-white/15 rounded-xl p-3",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:" "}),i.jsx("p",{className:"text-sm text-white/90",children:"    2 "})]})]})]})]})})]})}),i.jsx("div",{className:"p-4 bg-gradient-to-r from-slate-50 to-white dark:from-slate-800 dark:to-slate-900 border-t border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(X,{"data-testid":"button-download-report",variant:"outline",className:"eva-mobile-touch flex items-center gap-2 rounded-xl border-2 border-slate-200 dark:border-slate-600 hover:border-medical-blue hover:text-medical-blue transition-all duration-200",children:[i.jsx(Se,{size:"xs",variant:"soft-primary",children:i.jsx(Ug,{className:le.xs})}),i.jsx("span",{className:"eva-mobile-text font-medium",children:""})]}),i.jsxs(X,{"data-testid":"button-share-with-doctor",className:"eva-mobile-touch eva-gradient-primary text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2 border-0",children:[i.jsx(Se,{size:"xs",className:"bg-white/20 text-white border-white/30",children:i.jsx(jA,{className:le.xs})}),i.jsx("span",{className:"eva-mobile-text font-medium",children:""})]})]})})]})})}const jF="/assets/ai-doctor-bg-g8p1btt5.png",kF="/assets/blood-analysis-bg-BfR95624.png",SF="/assets/Medical_biomarkers_dashboard_background_70006ade-Dxh08r2v.png",_F="/assets/Health_profile_medical_background_02e78c15-BFKECW33.png";function CF(){const[,e]=Ir(),[t,r]=p.useState(!1),{user:s}=ru(),{data:n}=Ot({queryKey:["/api/health-profile"]});Ot({queryKey:["/api/health-metrics/latest"]});const{data:a}=Ot({queryKey:["/api/blood-analyses"]}),o=a&&Array.isArray(a)?a[0]:null,l=n&&((n==null?void 0:n.profileData)||(n==null?void 0:n.completionPercentage)>0);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[i.jsx(bs,{}),i.jsxs("main",{className:"p-4 pb-24",children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"bg-gradient-to-r from-medical-blue via-blue-500 to-trust-green relative overflow-hidden rounded-2xl",children:[i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,white_1px,transparent_0)] bg-[length:20px_20px]"})}),i.jsxs("div",{className:"relative p-4 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-xl font-bold mb-1",children:[", ",i.jsx("span",{"data-testid":"user-name",className:"text-white/95",children:(s==null?void 0:s.name)||(s==null?void 0:s.username)||""})]}),i.jsx("p",{className:"text-white/90 text-sm font-medium",children:"   EVERLIV HEALTH "})]}),i.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm shadow-lg border border-white/30",children:i.jsx(wa,{className:"w-6 h-6 text-white"})})]}),!l&&i.jsx("div",{className:"mt-3 p-3 bg-white/15 rounded-xl backdrop-blur-sm border border-white/20",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white text-sm font-semibold",children:"  "}),i.jsx("p",{className:"text-white/80 text-xs",children:" "})]}),i.jsx(X,{size:"sm",onClick:()=>e("/app/health-profile"),className:"bg-white hover:bg-white/90 rounded-xl px-3 py-1.5 text-xs font-bold shadow-lg text-[#121111]","data-testid":"button-create-profile",children:""})]})})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[i.jsx(Ze,{href:"/app/chat",children:i.jsxs("button",{"data-testid":"button-ai-chat",className:"p-4 flex flex-col items-center justify-center gap-3 text-center text-white h-[160px] hover:scale-[1.02] transition-all duration-300 relative overflow-hidden w-full rounded-2xl shadow-xl hover:shadow-2xl",style:{backgroundImage:`url(${jF})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-black/30"}),i.jsx("div",{className:"w-12 h-12 bg-medical-blue/20 rounded-xl flex items-center justify-center backdrop-blur-md shadow-lg",children:i.jsx(ey,{className:"w-6 h-6 text-white drop-shadow-lg"})}),i.jsxs("div",{className:"relative z-10 text-center",children:[i.jsx("div",{className:"font-bold text-lg leading-tight text-white mb-0.5",style:{textShadow:"0 2px 12px rgba(0,0,0,0.8)"},children:"EVERLIV "}),i.jsx("div",{className:"text-xs font-medium text-white/90",style:{textShadow:"0 2px 8px rgba(0,0,0,0.7)"},children:" -"})]})]})}),i.jsx(Ze,{href:"/app/blood-analysis",children:i.jsxs("button",{"data-testid":"button-blood-upload",className:"p-4 flex flex-col items-center justify-center gap-3 text-center text-white h-[160px] hover:scale-[1.02] transition-all duration-300 relative overflow-hidden w-full rounded-2xl shadow-xl hover:shadow-2xl",style:{backgroundImage:`url(${kF})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-black/30"}),i.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center backdrop-blur-md shadow-lg",children:i.jsx(vo,{className:"w-6 h-6 text-white drop-shadow-lg"})}),i.jsxs("div",{className:"relative z-10 text-center",children:[i.jsx("div",{className:"font-bold text-lg leading-tight text-white mb-0.5",style:{textShadow:"0 2px 12px rgba(0,0,0,0.8)"},children:" "}),i.jsx("div",{className:"text-xs font-medium text-white/90",style:{textShadow:"0 2px 8px rgba(0,0,0,0.7)"},children:" "})]})]})}),i.jsx(Ze,{href:"/app/biomarkers",children:i.jsxs("button",{"data-testid":"button-biomarkers",className:"p-4 flex flex-col items-center justify-center gap-3 text-center text-white h-[160px] hover:scale-[1.02] transition-all duration-300 relative overflow-hidden w-full rounded-2xl shadow-xl hover:shadow-2xl",style:{backgroundImage:`url(${SF})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-900/80 via-purple-700/60 to-purple-500/40"}),i.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center backdrop-blur-md shadow-lg",children:i.jsx(pl,{className:"w-6 h-6 text-white drop-shadow-lg"})}),i.jsxs("div",{className:"relative z-10 text-center",children:[i.jsx("div",{className:"font-bold text-lg leading-tight text-white mb-0.5",style:{textShadow:"0 2px 12px rgba(0,0,0,0.8)"},children:""}),i.jsx("div",{className:"text-xs font-medium text-white/90",style:{textShadow:"0 2px 8px rgba(0,0,0,0.7)"},children:" "})]})]})}),i.jsx(Ze,{href:"/app/profile",children:i.jsxs("button",{"data-testid":"button-health-profile",className:"p-4 flex flex-col items-center justify-center gap-3 text-center text-white h-[160px] hover:scale-[1.02] transition-all duration-300 relative overflow-hidden w-full rounded-2xl shadow-xl hover:shadow-2xl",style:{backgroundImage:`url(${_F})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-emerald-900/80 via-emerald-700/60 to-emerald-500/40"}),l&&i.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-white rounded-full shadow-lg animate-pulse"}),i.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center backdrop-blur-md shadow-lg",children:i.jsx(Mr,{className:"w-6 h-6 text-white drop-shadow-lg"})}),i.jsxs("div",{className:"relative z-10 text-center",children:[i.jsx("div",{className:"font-bold text-lg leading-tight text-white mb-0.5",style:{textShadow:"0 2px 12px rgba(0,0,0,0.8)"},children:" "}),i.jsx("div",{className:"text-xs font-medium text-white/90",style:{textShadow:"0 2px 8px rgba(0,0,0,0.7)"},children:l?" ":""})]})]})})]}),i.jsx("div",{className:"mb-6",children:i.jsx(J,{className:"border-0 shadow-xl bg-gradient-to-br from-orange-50 via-white to-yellow-50/30 dark:from-orange-950/20 dark:via-slate-800 dark:to-yellow-900/20",children:i.jsx(me,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(pt,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[" ",i.jsx(de,{className:"bg-orange-100 text-orange-700 text-xs px-2 py-0.5",children:"AI"})]}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mb-3",children:"   !  8-10        ."}),i.jsx(Ze,{href:"/app/recommendations",children:i.jsxs(X,{size:"sm",className:"bg-gradient-to-r from-orange-500 to-yellow-500 hover:opacity-90 text-white rounded-xl",children:[i.jsx(Gt,{className:"w-4 h-4 mr-1"})," "]})})]})]})})})}),i.jsx(tM,{userGoals:l?["heart-health","weight-loss","energy"]:[],userBiomarkers:(o==null?void 0:o.biomarkerResults)||[]})]}),i.jsx(ar,{}),i.jsx(NF,{open:t,onOpenChange:r,analysis:o})]})}const Ie=p.forwardRef(({className:e,type:t,...r},s)=>i.jsx("input",{type:t,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));Ie.displayName="Input";function lS(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var EF=[" ","Enter","ArrowUp","ArrowDown"],TF=[" ","Enter"],su="Select",[lm,cm,PF]=Kx(su),[Dl,ZV]=Mn(su,[PF,tm]),dm=tm(),[AF,Mi]=Dl(su),[RF,MF]=Dl(su),cS=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:n,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:g,form:y}=e,m=dm(t),[b,v]=p.useState(null),[x,N]=p.useState(null),[j,k]=p.useState(!1),C=Ny(d),[S=!1,E]=Xc({prop:s,defaultProp:n,onChange:a}),[T,A]=Xc({prop:o,defaultProp:l,onChange:c}),L=p.useRef(null),z=b?y||!!b.closest("form"):!0,[q,O]=p.useState(new Set),M=Array.from(q).map(F=>F.props.value).join(";");return i.jsx(v6,{...m,children:i.jsxs(AF,{required:g,scope:t,trigger:b,onTriggerChange:v,valueNode:x,onValueNodeChange:N,valueNodeHasChildren:j,onValueNodeHasChildrenChange:k,contentId:wo(),value:T,onValueChange:A,open:S,onOpenChange:E,dir:C,triggerPointerDownPosRef:L,disabled:f,children:[i.jsx(lm.Provider,{scope:t,children:i.jsx(RF,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(F=>{O(I=>new Set(I).add(F))},[]),onNativeOptionRemove:p.useCallback(F=>{O(I=>{const R=new Set(I);return R.delete(F),R})},[]),children:r})}),z?i.jsxs(FS,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:T,onChange:F=>A(F.target.value),disabled:f,form:y,children:[T===void 0?i.jsx("option",{value:""}):null,Array.from(q)]},M):null]})})};cS.displayName=su;var dS="SelectTrigger",uS=p.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...n}=e,a=dm(r),o=Mi(dS,r),l=o.disabled||s,c=Ce(t,o.onTriggerChange),d=cm(r),u=p.useRef("touch"),[h,f,g]=OS(m=>{const b=d().filter(N=>!N.disabled),v=b.find(N=>N.value===o.value),x=IS(b,m,v);x!==void 0&&o.onValueChange(x.value)}),y=m=>{l||(o.onOpenChange(!0),g()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(r5,{asChild:!0,...a,children:i.jsx(ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":MS(o.value)?"":void 0,...n,ref:c,onClick:ue(n.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&y(m)}),onPointerDown:ue(n.onPointerDown,m=>{u.current=m.pointerType;const b=m.target;b.hasPointerCapture(m.pointerId)&&b.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:ue(n.onKeyDown,m=>{const b=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(b&&m.key===" ")&&EF.includes(m.key)&&(y(),m.preventDefault())})})})});uS.displayName=dS;var hS="SelectValue",fS=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:n,children:a,placeholder:o="",...l}=e,c=Mi(hS,r),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=Ce(t,c.onValueNodeChange);return Dt(()=>{d(u)},[d,u]),i.jsx(ye.span,{...l,ref:h,style:{pointerEvents:"none"},children:MS(c.value)?i.jsx(i.Fragment,{children:o}):a})});fS.displayName=hS;var FF="SelectIcon",mS=p.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...n}=e;return i.jsx(ye.span,{"aria-hidden":!0,...n,ref:t,children:s||""})});mS.displayName=FF;var OF="SelectPortal",pS=e=>i.jsx(Kf,{asChild:!0,...e});pS.displayName=OF;var ka="SelectContent",gS=p.forwardRef((e,t)=>{const r=Mi(ka,e.__scopeSelect),[s,n]=p.useState();if(Dt(()=>{n(new DocumentFragment)},[]),!r.open){const a=s;return a?Ma.createPortal(i.jsx(xS,{scope:e.__scopeSelect,children:i.jsx(lm.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(yS,{...e,ref:t})});gS.displayName=ka;var Xr=10,[xS,Fi]=Dl(ka),IF="SelectContentImpl",DF=fl("SelectContent.RemoveScroll"),yS=p.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:y,hideWhenDetached:m,avoidCollisions:b,...v}=e,x=Mi(ka,r),[N,j]=p.useState(null),[k,C]=p.useState(null),S=Ce(t,fe=>j(fe)),[E,T]=p.useState(null),[A,L]=p.useState(null),z=cm(r),[q,O]=p.useState(!1),M=p.useRef(!1);p.useEffect(()=>{if(N)return k5(N)},[N]),p5();const F=p.useCallback(fe=>{const[Re,...ct]=z().map(Oe=>Oe.ref.current),[Ue]=ct.slice(-1),Me=document.activeElement;for(const Oe of fe)if(Oe===Me||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Re&&k&&(k.scrollTop=0),Oe===Ue&&k&&(k.scrollTop=k.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==Me))return},[z,k]),I=p.useCallback(()=>F([E,N]),[F,E,N]);p.useEffect(()=>{q&&I()},[q,I]);const{onOpenChange:R,triggerPointerDownPosRef:V}=x;p.useEffect(()=>{if(N){let fe={x:0,y:0};const Re=Ue=>{var Me,Oe;fe={x:Math.abs(Math.round(Ue.pageX)-(((Me=V.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((Oe=V.current)==null?void 0:Oe.y)??0))}},ct=Ue=>{fe.x<=10&&fe.y<=10?Ue.preventDefault():N.contains(Ue.target)||R(!1),document.removeEventListener("pointermove",Re),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",ct,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",ct,{capture:!0})}}},[N,R,V]),p.useEffect(()=>{const fe=()=>R(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[R]);const[Q,se]=OS(fe=>{const Re=z().filter(Me=>!Me.disabled),ct=Re.find(Me=>Me.ref.current===document.activeElement),Ue=IS(Re,fe,ct);Ue&&setTimeout(()=>Ue.ref.current.focus())}),pe=p.useCallback((fe,Re,ct)=>{const Ue=!M.current&&!ct;(x.value!==void 0&&x.value===Re||Ue)&&(T(fe),Ue&&(M.current=!0))},[x.value]),He=p.useCallback(()=>N==null?void 0:N.focus(),[N]),Ve=p.useCallback((fe,Re,ct)=>{const Ue=!M.current&&!ct;(x.value!==void 0&&x.value===Re||Ue)&&L(fe)},[x.value]),Pt=s==="popper"?Yg:vS,jt=Pt===Yg?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:y,hideWhenDetached:m,avoidCollisions:b}:{};return i.jsx(xS,{scope:r,content:N,viewport:k,onViewportChange:C,itemRefCallback:pe,selectedItem:E,onItemLeave:He,itemTextRefCallback:Ve,focusSelectedItem:I,selectedItemText:A,position:s,isPositioned:q,searchRef:Q,children:i.jsx(gy,{as:DF,allowPinchZoom:!0,children:i.jsx(py,{asChild:!0,trapped:x.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:ue(n,fe=>{var Re;(Re=x.trigger)==null||Re.focus({preventScroll:!0}),fe.preventDefault()}),children:i.jsx(Jd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(Pt,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:fe=>fe.preventDefault(),...v,...jt,onPlaced:()=>O(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ue(v.onKeyDown,fe=>{const Re=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!Re&&fe.key.length===1&&se(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let Ue=z().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const Me=fe.target,Oe=Ue.indexOf(Me);Ue=Ue.slice(Oe+1)}setTimeout(()=>F(Ue)),fe.preventDefault()}})})})})})})});yS.displayName=IF;var LF="SelectItemAlignedPosition",vS=p.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...n}=e,a=Mi(ka,r),o=Fi(ka,r),[l,c]=p.useState(null),[d,u]=p.useState(null),h=Ce(t,S=>u(S)),f=cm(r),g=p.useRef(!1),y=p.useRef(!0),{viewport:m,selectedItem:b,selectedItemText:v,focusSelectedItem:x}=o,N=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&m&&b&&v){const S=a.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),A=v.getBoundingClientRect();if(a.dir!=="rtl"){const Me=A.left-E.left,Oe=T.left-Me,Qt=S.left-Oe,Nr=S.width+Qt,Oi=Math.max(Nr,E.width),Fn=window.innerWidth-Xr,On=rd(Oe,[Xr,Math.max(Xr,Fn-Oi)]);l.style.minWidth=Nr+"px",l.style.left=On+"px"}else{const Me=E.right-A.right,Oe=window.innerWidth-T.right-Me,Qt=window.innerWidth-S.right-Oe,Nr=S.width+Qt,Oi=Math.max(Nr,E.width),Fn=window.innerWidth-Xr,On=rd(Oe,[Xr,Math.max(Xr,Fn-Oi)]);l.style.minWidth=Nr+"px",l.style.right=On+"px"}const L=f(),z=window.innerHeight-Xr*2,q=m.scrollHeight,O=window.getComputedStyle(d),M=parseInt(O.borderTopWidth,10),F=parseInt(O.paddingTop,10),I=parseInt(O.borderBottomWidth,10),R=parseInt(O.paddingBottom,10),V=M+F+q+R+I,Q=Math.min(b.offsetHeight*5,V),se=window.getComputedStyle(m),pe=parseInt(se.paddingTop,10),He=parseInt(se.paddingBottom,10),Ve=S.top+S.height/2-Xr,Pt=z-Ve,jt=b.offsetHeight/2,fe=b.offsetTop+jt,Re=M+F+fe,ct=V-Re;if(Re<=Ve){const Me=L.length>0&&b===L[L.length-1].ref.current;l.style.bottom="0px";const Oe=d.clientHeight-m.offsetTop-m.offsetHeight,Qt=Math.max(Pt,jt+(Me?He:0)+Oe+I),Nr=Re+Qt;l.style.height=Nr+"px"}else{const Me=L.length>0&&b===L[0].ref.current;l.style.top="0px";const Qt=Math.max(Ve,M+m.offsetTop+(Me?pe:0)+jt)+ct;l.style.height=Qt+"px",m.scrollTop=Re-Ve+m.offsetTop}l.style.margin=`${Xr}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=z+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[f,a.trigger,a.valueNode,l,d,m,b,v,a.dir,s]);Dt(()=>N(),[N]);const[j,k]=p.useState();Dt(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const C=p.useCallback(S=>{S&&y.current===!0&&(N(),x==null||x(),y.current=!1)},[N,x]);return i.jsx(UF,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(ye.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});vS.displayName=LF;var $F="SelectPopperPosition",Yg=p.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:n=Xr,...a}=e,o=dm(r);return i.jsx(s5,{...o,...a,ref:t,align:s,collisionPadding:n,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yg.displayName=$F;var[UF,Cy]=Dl(ka,{}),Xg="SelectViewport",bS=p.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...n}=e,a=Fi(Xg,r),o=Cy(Xg,r),l=Ce(t,a.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(lm.Slot,{scope:r,children:i.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:ue(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const g=Math.abs(c.current-u.scrollTop);if(g>0){const y=window.innerHeight-Xr*2,m=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),v=Math.max(m,b);if(v<y){const x=v+g,N=Math.min(y,x),j=x-N;h.style.height=N+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});bS.displayName=Xg;var wS="SelectGroup",[zF,BF]=Dl(wS),VF=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,n=wo();return i.jsx(zF,{scope:r,id:n,children:i.jsx(ye.div,{role:"group","aria-labelledby":n,...s,ref:t})})});VF.displayName=wS;var NS="SelectLabel",jS=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,n=BF(NS,r);return i.jsx(ye.div,{id:n.id,...s,ref:t})});jS.displayName=NS;var Xh="SelectItem",[HF,kS]=Dl(Xh),SS=p.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:n=!1,textValue:a,...o}=e,l=Mi(Xh,r),c=Fi(Xh,r),d=l.value===s,[u,h]=p.useState(a??""),[f,g]=p.useState(!1),y=Ce(t,x=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,x,s,n)}),m=wo(),b=p.useRef("touch"),v=()=>{n||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(HF,{scope:r,value:s,disabled:n,textId:m,isSelected:d,onItemTextChange:p.useCallback(x=>{h(N=>N||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(lm.ItemSlot,{scope:r,value:s,disabled:n,textValue:u,children:i.jsx(ye.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:y,onFocus:ue(o.onFocus,()=>g(!0)),onBlur:ue(o.onBlur,()=>g(!1)),onClick:ue(o.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:ue(o.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:ue(o.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:ue(o.onPointerMove,x=>{var N;b.current=x.pointerType,n?(N=c.onItemLeave)==null||N.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,x=>{var N;x.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:ue(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(TF.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});SS.displayName=Xh;var cc="SelectItemText",_S=p.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:n,...a}=e,o=Mi(cc,r),l=Fi(cc,r),c=kS(cc,r),d=MF(cc,r),[u,h]=p.useState(null),f=Ce(t,v=>h(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),g=u==null?void 0:u.textContent,y=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:b}=d;return Dt(()=>(m(y),()=>b(y)),[m,b,y]),i.jsxs(i.Fragment,{children:[i.jsx(ye.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ma.createPortal(a.children,o.valueNode):null]})});_S.displayName=cc;var CS="SelectItemIndicator",ES=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return kS(CS,r).isSelected?i.jsx(ye.span,{"aria-hidden":!0,...s,ref:t}):null});ES.displayName=CS;var Jg="SelectScrollUpButton",TS=p.forwardRef((e,t)=>{const r=Fi(Jg,e.__scopeSelect),s=Cy(Jg,e.__scopeSelect),[n,a]=p.useState(!1),o=Ce(t,s.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?i.jsx(AS,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});TS.displayName=Jg;var e0="SelectScrollDownButton",PS=p.forwardRef((e,t)=>{const r=Fi(e0,e.__scopeSelect),s=Cy(e0,e.__scopeSelect),[n,a]=p.useState(!1),o=Ce(t,s.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?i.jsx(AS,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});PS.displayName=e0;var AS=p.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...n}=e,a=Fi("SelectScrollButton",r),o=p.useRef(null),l=cm(r),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Dt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),i.jsx(ye.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:ue(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ue(n.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ue(n.onPointerLeave,()=>{c()})})}),WF="SelectSeparator",RS=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return i.jsx(ye.div,{"aria-hidden":!0,...s,ref:t})});RS.displayName=WF;var t0="SelectArrow",qF=p.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,n=dm(r),a=Mi(t0,r),o=Fi(t0,r);return a.open&&o.position==="popper"?i.jsx(n5,{...n,...s,ref:t}):null});qF.displayName=t0;function MS(e){return e===""||e===void 0}var FS=p.forwardRef((e,t)=>{const{value:r,...s}=e,n=p.useRef(null),a=Ce(t,n),o=lS(r);return p.useEffect(()=>{const l=n.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const h=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(h)}},[o,r]),i.jsx(eu,{asChild:!0,children:i.jsx("select",{...s,ref:a,defaultValue:r})})});FS.displayName="BubbleSelect";function OS(e){const t=mt(e),r=p.useRef(""),s=p.useRef(0),n=p.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=p.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,n,a]}function IS(e,t,r){const n=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=GF(e,Math.max(a,0));n.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function GF(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var KF=cS,DS=uS,QF=fS,ZF=mS,YF=pS,LS=gS,XF=bS,$S=jS,US=SS,JF=_S,eO=ES,zS=TS,BS=PS,VS=RS;const a1=KF,o1=QF,r0=p.forwardRef(({className:e,children:t,...r},s)=>i.jsxs(DS,{ref:s,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(ZF,{asChild:!0,children:i.jsx(vk,{className:"h-4 w-4 opacity-50"})})]}));r0.displayName=DS.displayName;const HS=p.forwardRef(({className:e,...t},r)=>i.jsx(zS,{ref:r,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(iA,{className:"h-4 w-4"})}));HS.displayName=zS.displayName;const WS=p.forwardRef(({className:e,...t},r)=>i.jsx(BS,{ref:r,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(vk,{className:"h-4 w-4"})}));WS.displayName=BS.displayName;const s0=p.forwardRef(({className:e,children:t,position:r="popper",...s},n)=>i.jsx(YF,{children:i.jsxs(LS,{ref:n,className:ke("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[i.jsx(HS,{}),i.jsx(XF,{className:ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(WS,{})]})}));s0.displayName=LS.displayName;const tO=p.forwardRef(({className:e,...t},r)=>i.jsx($S,{ref:r,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));tO.displayName=$S.displayName;const jr=p.forwardRef(({className:e,children:t,...r},s)=>i.jsxs(US,{ref:s,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(eO,{children:i.jsx(gl,{className:"h-4 w-4"})})}),i.jsx(JF,{children:t})]}));jr.displayName=US.displayName;const rO=p.forwardRef(({className:e,...t},r)=>i.jsx(VS,{ref:r,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));rO.displayName=VS.displayName;const sO={blood:xl,cardiovascular:qt,metabolic:bl,kidney:Mr,liver:ot,immune:Mr,brain:gt,hormonal:Gt,vitamins:pt},nO={blood:"soft-danger",cardiovascular:"soft-info",metabolic:"soft-warning",kidney:"soft-success",liver:"soft-primary",immune:"info",brain:"primary"},l1={high:{variant:"soft-danger",dot:"bg-red-500"},medium:{variant:"soft-warning",dot:"bg-amber-500"},low:{variant:"soft-neutral",dot:"bg-gray-500"}},iO=({values:e,color:t="bg-medical-blue"})=>i.jsx("div",{className:"flex items-end gap-0.5 h-6 w-12",children:e.map((r,s)=>i.jsx("div",{className:`w-1 ${t} opacity-70 rounded-sm transition-all duration-300`,style:{height:`${Math.max(r,10)}%`}},s))}),aO=e=>{const t=e.split("").reduce((o,l)=>o+l.charCodeAt(0),0),r=(t*9301+49297)%233280,s=r/233280>.5?"up":"down",n=Math.floor(r/233280*20)+1,a=Array.from({length:6},(o,l)=>{const c=(t+l*123)%1e3/10;return Math.max(c,10)});return{direction:s,percentage:n,values:a}};function oO(){const[,e]=Ir(),[t,r]=p.useState(""),[s,n]=p.useState("all"),[a,o]=p.useState("all"),[l,c]=p.useState(null),[d,u]=p.useState(!1),{data:h,isLoading:f}=Ot({queryKey:["/api/biomarkers"]}),{data:g,isLoading:y}=Ot({queryKey:["/api/biomarkers",l],enabled:!!l}),{data:m}=Ot({queryKey:["/api/biomarkers",l,"history"],enabled:!!l}),[b,v]=p.useState(null),[x,N]=p.useState(!1),j=p.useMemo(()=>Array.isArray(h)?h.filter(L=>{const z=L.name.toLowerCase().includes(t.toLowerCase()),q=s==="all"||L.category===s,O=a==="all"||L.importance===a;return z&&q&&O}).sort((L,z)=>{const q={high:3,medium:2,low:1};return q[z.importance]-q[L.importance]}):[],[h,t,s,a]),k=p.useMemo(()=>Array.isArray(h)?{total:h.length,high:h.filter(A=>A.importance==="high").length,medium:h.filter(A=>A.importance==="medium").length,low:h.filter(A=>A.importance==="low").length}:{total:0,high:0,medium:0,low:0},[h]),C=A=>{c(A),u(!1),v(null)},S=async A=>{if(A){N(!0);try{const L=Math.random()*100+50,z=["normal","high","low"][Math.floor(Math.random()*3)],q=await at(`/api/biomarkers/${A.id}/recommendations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentValue:L,status:z})});v(q)}catch(L){console.error("Error loading AI recommendations:",L),v({analysisText:"    .",symptomsToWatch:"   ,       .",supplementsWithDosages:"      .",foodRecommendations:"       .",lifestyleChanges:"  ,  ,  .",followUpAdvice:"     ."})}finally{N(!1)}}};p.useEffect(()=>{g&&!d&&S(g)},[g,d]);const E=A=>{c(A),u(!0)},T=()=>{c(null),u(!1)};return f?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[i.jsx(bs,{}),i.jsx("main",{className:"px-3 py-4 pb-24",children:i.jsx("div",{className:"space-y-3",children:[...Array(8)].map((A,L)=>i.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm rounded-xl p-4 animate-pulse",children:[i.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-3/4 mb-2"}),i.jsx("div",{className:"h-3 bg-slate-200 dark:bg-slate-700 rounded w-1/2"})]},L))})}),i.jsx(ar,{})]}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[i.jsx(bs,{}),i.jsxs("main",{className:"px-3 py-4 pb-24",children:[i.jsx("div",{className:"mb-4",children:i.jsx("div",{className:"bg-gradient-to-r from-medical-blue via-blue-500 to-trust-green relative overflow-hidden rounded-xl",children:i.jsxs("div",{className:"relative p-4 text-white",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"h-8 w-8 rounded-full hover:bg-white/20 text-white",children:i.jsx(Fa,{className:"w-4 h-4"})}),i.jsx(Se,{size:"xs",className:"bg-white/20 text-white border-white/30 backdrop-blur-sm",children:i.jsx(wa,{className:le.xs})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold",children:""}),i.jsx("p",{className:"text-white/90 text-xs",children:"  "})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxs("div",{className:"bg-white/15 rounded-lg p-2 backdrop-blur-sm text-center",children:[i.jsx("div",{className:"text-sm font-bold",children:k.total}),i.jsx("div",{className:"text-xs text-white/80",children:""})]}),i.jsxs("div",{className:"bg-white/15 rounded-lg p-2 backdrop-blur-sm text-center",children:[i.jsx("div",{className:"text-sm font-bold text-red-200",children:k.high}),i.jsx("div",{className:"text-xs text-white/80",children:""})]}),i.jsxs("div",{className:"bg-white/15 rounded-lg p-2 backdrop-blur-sm text-center",children:[i.jsx("div",{className:"text-sm font-bold text-yellow-200",children:k.medium}),i.jsx("div",{className:"text-xs text-white/80",children:""})]}),i.jsxs("div",{className:"bg-white/15 rounded-lg p-2 backdrop-blur-sm text-center",children:[i.jsx("div",{className:"text-sm font-bold",children:k.low}),i.jsx("div",{className:"text-xs text-white/80",children:""})]})]})]})})}),i.jsx(J,{className:"border-0 shadow-lg bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm mb-4",children:i.jsx(me,{className:"p-3",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ib,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),i.jsx(Ie,{placeholder:"...",value:t,onChange:A=>r(A.target.value),className:"pl-10 rounded-lg border-2 h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(a1,{value:s,onValueChange:n,children:[i.jsxs(r0,{className:"w-full rounded-lg border-2 h-10",children:[i.jsx(bk,{className:"w-4 h-4 mr-2"}),i.jsx(o1,{placeholder:" "})]}),i.jsxs(s0,{children:[i.jsx(jr,{value:"all",children:" "}),i.jsx(jr,{value:"blood",children:""}),i.jsx(jr,{value:"cardiovascular",children:""}),i.jsx(jr,{value:"metabolic",children:""}),i.jsx(jr,{value:"kidney",children:""}),i.jsx(jr,{value:"liver",children:""}),i.jsx(jr,{value:"immune",children:""}),i.jsx(jr,{value:"brain",children:""})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(a1,{value:a,onValueChange:o,children:[i.jsxs(r0,{className:"flex-1 rounded-lg border-2 h-10",children:[i.jsx(gr,{className:"w-4 h-4 mr-1"}),i.jsx(o1,{placeholder:""})]}),i.jsxs(s0,{children:[i.jsx(jr,{value:"all",children:" "}),i.jsx(jr,{value:"high",children:""}),i.jsx(jr,{value:"medium",children:""}),i.jsx(jr,{value:"low",children:""})]})]}),(t||s!=="all"||a!=="all")&&i.jsx(X,{variant:"outline",size:"icon",onClick:()=>{r(""),n("all"),o("all")},className:"rounded-lg h-10 w-10 flex-shrink-0",children:i.jsx(wA,{className:"w-4 h-4"})})]})]})]})})}),(t||s!=="all"||a!=="all")&&i.jsx("div",{className:"mb-4",children:i.jsxs(de,{className:"bg-medical-blue/10 text-medical-blue border-medical-blue/20 text-sm px-3 py-1",children:[": ",j.length,"  ",k.total]})}),i.jsx("div",{className:"space-y-3",children:j.length===0?i.jsx(J,{className:"border-0 shadow-lg bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm",children:i.jsxs(me,{className:"p-8 text-center",children:[i.jsx(Se,{size:"lg",variant:"soft-neutral",className:"mx-auto mb-3",children:i.jsx(Ib,{className:le.lg})}),i.jsx("h3",{className:"font-bold text-lg mb-2",children:"  "}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"   "})]})}):j.map(A=>{const L=nO[A.category]||"soft-danger",z=sO[A.category]||ot,q=l1[A.importance]||l1.low,O=aO(A.id);return i.jsx(J,{className:"border-0 shadow-lg bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm hover:shadow-xl transition-all duration-300","data-testid":`card-biomarker-${A.id}`,children:i.jsx(me,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Se,{size:"sm",variant:L,className:"flex-shrink-0",children:i.jsx(z,{className:le.sm})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-sm leading-tight mb-1",children:A.name}),i.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:A.description})]}),i.jsxs(de,{className:"text-xs px-2 py-0.5 flex-shrink-0 border-0",style:{backgroundColor:q.variant==="soft-danger"?"rgb(254 242 242)":q.variant==="soft-warning"?"rgb(255 251 235)":"rgb(249 250 251)",color:q.variant==="soft-danger"?"rgb(185 28 28)":q.variant==="soft-warning"?"rgb(180 83 9)":"rgb(55 65 81)"},children:[i.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${q.dot} mr-1`}),A.importance==="high"?"":A.importance==="medium"?"":""]})]}),A.normalRange&&i.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:""}),i.jsxs("div",{className:"font-mono text-sm font-bold",children:[A.normalRange.min,"-",A.normalRange.max,i.jsx("span",{className:"text-xs font-normal text-muted-foreground ml-1",children:A.normalRange.unit})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[O.direction==="up"?i.jsx(wr,{className:"w-3 h-3 text-green-600"}):i.jsx(Bg,{className:"w-3 h-3 text-red-600"}),i.jsxs("span",{className:`text-xs font-medium ${O.direction==="up"?"text-green-600":"text-red-600"}`,children:[O.percentage,"%"]})]}),i.jsx(iO,{values:O.values,color:O.direction==="up"?"bg-green-500":"bg-red-500"})]})})]})}),i.jsxs("div",{className:"flex gap-2 pt-1",children:[i.jsxs(X,{size:"sm",variant:"outline",className:"flex-1 rounded-lg text-xs h-8",onClick:()=>C(A.id),children:[i.jsx(vi,{className:"w-3 h-3 mr-1"}),""]}),i.jsxs(X,{size:"sm",variant:"outline",className:"flex-1 rounded-lg text-xs h-8",onClick:()=>E(A.id),children:[i.jsx(ml,{className:"w-3 h-3 mr-1"}),""]})]})]})})},A.id)})}),j.length>0&&i.jsx(J,{className:"border-0 shadow-lg bg-gradient-to-br from-orange-50 via-white to-yellow-50/30 dark:from-orange-950/20 dark:via-slate-800 dark:to-yellow-900/20 mt-6",children:i.jsx(me,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500/15 to-yellow-500/10 rounded-lg border border-orange-200/50",children:i.jsx(pt,{className:"w-4 h-4 text-orange-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("h3",{className:"font-bold text-base mb-1 flex items-center gap-2",children:["  ",i.jsx(de,{className:"bg-orange-100 text-orange-700 text-xs px-2 py-0.5",children:"AI"})]}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mb-3",children:"    .     ."}),i.jsxs(X,{size:"sm",className:"bg-gradient-to-r from-orange-500 to-yellow-500 hover:opacity-90 text-white rounded-lg text-xs",children:[i.jsx(Gt,{className:"w-3 h-3 mr-1"}),""]})]})]})})})]}),i.jsx(ar,{}),i.jsx(H5,{open:!!l,onOpenChange:()=>T(),children:i.jsx(wy,{className:"max-w-sm mx-auto max-h-[90vh] p-0 rounded-3xl border-0 shadow-2xl",children:i.jsxs(om,{className:"max-h-[90vh]",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-100 p-4 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:d?" ":g==null?void 0:g.name}),i.jsx("p",{className:"text-sm text-gray-500",children:d?" ":"  "})]}),i.jsx(X,{variant:"ghost",size:"icon",onClick:T,className:"h-8 w-8 text-gray-400 hover:text-gray-600",children:i.jsx(Wr,{className:"w-4 h-4"})})]})}),i.jsx("div",{className:"p-4 space-y-6",children:y?i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-medical-blue border-t-transparent rounded-full mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:" ..."})]}):g?i.jsx("div",{className:"space-y-6",children:d?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Se,{size:"lg",variant:"soft-primary",children:i.jsx(pl,{className:le.lg})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-xl text-gray-900",children:g==null?void 0:g.name}),i.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]})}),m&&Array.isArray(m)&&m.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"eva-gradient-primary rounded-2xl p-4 text-white",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Se,{size:"sm",className:"bg-white/20 text-white border-white/30",children:i.jsx(Gt,{className:le.sm})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-sm mb-1",children:" "}),i.jsx("div",{className:"bg-white/15 rounded-xl p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-white/90",children:" :"}),i.jsx("span",{className:"text-lg font-bold text-white",children:m.length})]})})]})]})}),i.jsx("div",{className:"space-y-3",children:m.slice(0,5).map((A,L)=>{const z=M=>{switch(M){case"normal":return"soft-success";case"high":case"critical":return"soft-danger";case"low":return"soft-warning";default:return"soft-neutral"}},O=(M=>{switch(M){case"normal":return mr;case"high":case"critical":case"low":return gr;default:return ot}})(A.status);return i.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Se,{size:"sm",variant:z(A.status),children:i.jsx(O,{className:le.sm})}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-mono text-lg font-bold text-gray-900",children:[A.value," ",A.unit]}),i.jsx("div",{className:"text-xs text-gray-500",children:new Date(A.date).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})})]})]}),i.jsx(de,{className:A.status==="normal"?"bg-emerald-100 text-emerald-700 border-emerald-200":A.status==="high"||A.status==="critical"?"bg-red-100 text-red-700 border-red-200":A.status==="low"?"bg-amber-100 text-amber-700 border-amber-200":"bg-gray-100 text-gray-700 border-gray-200",children:A.status==="normal"?"":A.status==="high"?"":A.status==="low"?"":""})]}),L<m.length-1&&i.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded-xl",children:i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-gray-600",children:"  :"}),(()=>{var F;const M=(F=m[L+1])==null?void 0:F.value;if(M){const I=A.value-M,R=(I/M*100).toFixed(1);return i.jsxs("div",{className:`flex items-center gap-1 ${I>0?"text-red-600":I<0?"text-green-600":"text-gray-600"}`,children:[I>0?i.jsx(wr,{className:"w-3 h-3"}):I<0?i.jsx(Bg,{className:"w-3 h-3"}):i.jsx(vA,{className:"w-3 h-3"}),i.jsxs("span",{className:"font-medium",children:[I>0?"+":"",R,"%"]})]})}return i.jsx("span",{className:"text-gray-500",children:"-"})})()]})})]},L)})}),m.length>5&&i.jsx("div",{className:"text-center p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:i.jsxs("p",{className:"text-sm text-gray-600",children:[" 5  ",m.length," "]})})]}):i.jsxs("div",{className:"text-center p-8 bg-gradient-to-r from-gray-50 to-slate-50 rounded-2xl",children:[i.jsx(Se,{size:"lg",variant:"soft-neutral",className:"mx-auto mb-4",children:i.jsx(ml,{className:le.lg})}),i.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:" "}),i.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed mb-4",children:["       .",i.jsx("br",{}),"     ."]})]}),i.jsx("div",{className:"pt-2",children:i.jsxs(X,{variant:"outline",size:"sm",className:"w-full h-12 rounded-xl border-2 border-slate-200 hover:border-medical-blue hover:text-medical-blue transition-all duration-200 flex items-center gap-2",onClick:()=>u(!1),children:[i.jsx(Se,{size:"xs",variant:"soft-info",children:i.jsx(vi,{className:le.xs})}),i.jsx("span",{className:"font-medium",children:"  "})]})})]}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"  "}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:(g==null?void 0:g.description)||"  "})]}),x?i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-medical-blue border-t-transparent rounded-full mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"   ..."})]}):b?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"  "}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b.analysisText})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"  "}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b.symptomsToWatch})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"   "}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b.supplementsWithDosages})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" "}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b.foodRecommendations})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"  "}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b.lifestyleChanges})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"   "}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b.followUpAdvice})]})]}):i.jsx("div",{className:"text-center p-6",children:i.jsx("p",{className:"text-sm text-gray-500",children:" "})}),(g==null?void 0:g.normalRange)&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" "}),i.jsxs("div",{className:"text-lg font-mono font-semibold text-gray-800",children:[g.normalRange.min," - ",g.normalRange.max," ",g.normalRange.unit]})]}),i.jsx("div",{className:"pt-2",children:i.jsx(X,{variant:"outline",className:"w-full h-10 text-sm",onClick:()=>u(!0),children:"  "})})]})})}):i.jsx("div",{className:"text-center p-6",children:i.jsx("p",{className:"text-sm text-gray-500",children:" "})})})]})})})]})}var nu=e=>e.type==="checkbox",Hi=e=>e instanceof Date,sr=e=>e==null;const qS=e=>typeof e=="object";var lt=e=>!sr(e)&&!Array.isArray(e)&&qS(e)&&!Hi(e),GS=e=>lt(e)&&e.target?nu(e.target)?e.target.checked:e.target.value:e,lO=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,KS=(e,t)=>e.has(lO(t)),cO=e=>{const t=e.constructor&&e.constructor.prototype;return lt(t)&&t.hasOwnProperty("isPrototypeOf")},Ey=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rt(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ey&&(e instanceof Blob||s))&&(r||lt(e)))if(t=r?[]:{},!r&&!cO(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Rt(e[n]));else return e;return t}var um=e=>Array.isArray(e)?e.filter(Boolean):[],st=e=>e===void 0,te=(e,t,r)=>{if(!t||!lt(e))return r;const s=um(t.split(/[,[\].]+?/)).reduce((n,a)=>sr(n)?n:n[a],e);return st(s)||s===e?st(e[t])?r:e[t]:s},_r=e=>typeof e=="boolean",Ty=e=>/^\w*$/.test(e),QS=e=>um(e.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(e,t,r)=>{let s=-1;const n=Ty(t)?[t]:QS(t),a=n.length,o=a-1;for(;++s<a;){const l=n[s];let c=r;if(s!==o){const d=e[l];c=lt(d)||Array.isArray(d)?d:isNaN(+n[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Jh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},on={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZS=ve.createContext(null),hm=()=>ve.useContext(ZS),dO=e=>{const{children:t,...r}=e;return ve.createElement(ZS.Provider,{value:r},t)};var YS=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const o=a;return t._proxyFormState[o]!==fs.all&&(t._proxyFormState[o]=!s||fs.all),r&&(r[o]=!0),e[o]}});return n};function uO(e){const t=hm(),{control:r=t.control,disabled:s,name:n,exact:a}=e||{},[o,l]=ve.useState(r._formState),c=ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ve.useRef(n);return d.current=n,ve.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!s&&l({...r._formState,...u})}}),[r,s,a]),ve.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ve.useMemo(()=>YS(o,r,c.current,!1),[o,r])}var qs=e=>typeof e=="string",XS=(e,t,r,s,n)=>qs(e)?(s&&t.watch.add(e),te(r,e,n)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),te(r,a))):(s&&(t.watchAll=!0),r);function hO(e){const t=hm(),{control:r=t.control,name:s,defaultValue:n,disabled:a,exact:o}=e||{},l=ve.useRef(s),c=ve.useRef(n);l.current=s,ve.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!a&&u(XS(l.current,r._names,h.values||r._formValues,!1,c.current))}),[r,a,o]);const[d,u]=ve.useState(r._getWatch(s,n));return ve.useEffect(()=>r._removeUnmounted()),d}function fO(e){const t=hm(),{name:r,disabled:s,control:n=t.control,shouldUnregister:a}=e,o=KS(n._names.array,r),l=hO({control:n,name:r,defaultValue:te(n._formValues,r,te(n._defaultValues,r,e.defaultValue)),exact:!0}),c=uO({control:n,name:r,exact:!0}),d=ve.useRef(e),u=ve.useRef(n.register(r,{...e.rules,value:l,..._r(e.disabled)?{disabled:e.disabled}:{}})),h=ve.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!te(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!te(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!te(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!te(c.validatingFields,r)},error:{enumerable:!0,get:()=>te(c.errors,r)}}),[c,r]),f=ve.useCallback(b=>u.current.onChange({target:{value:GS(b),name:r},type:Jh.CHANGE}),[r]),g=ve.useCallback(()=>u.current.onBlur({target:{value:te(n._formValues,r),name:r},type:Jh.BLUR}),[r,n._formValues]),y=ve.useCallback(b=>{const v=te(n._fields,r);v&&b&&(v._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:x=>b.setCustomValidity(x),reportValidity:()=>b.reportValidity()})},[n._fields,r]),m=ve.useMemo(()=>({name:r,value:l,..._r(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:f,onBlur:g,ref:y}),[r,s,c.disabled,f,g,y,l]);return ve.useEffect(()=>{const b=n._options.shouldUnregister||a;n.register(r,{...d.current.rules,..._r(d.current.disabled)?{disabled:d.current.disabled}:{}});const v=(x,N)=>{const j=te(n._fields,x);j&&j._f&&(j._f.mount=N)};if(v(r,!0),b){const x=Rt(te(n._options.defaultValues,r));De(n._defaultValues,r,x),st(te(n._formValues,r))&&De(n._formValues,r,x)}return!o&&n.register(r),()=>{(o?b&&!n._state.action:b)?n.unregister(r):v(r,!1)}},[r,n,o,a]),ve.useEffect(()=>{n._setDisabledField({disabled:s,name:r})},[s,r,n]),ve.useMemo(()=>({field:m,formState:c,fieldState:h}),[m,c,h])}const mO=e=>e.render(fO(e));var JS=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},Tc=e=>Array.isArray(e)?e:[e],c1=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},n0=e=>sr(e)||!qS(e);function Gn(e,t){if(n0(e)||n0(t))return e===t;if(Hi(e)&&Hi(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const n of r){const a=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const o=t[n];if(Hi(a)&&Hi(o)||lt(a)&&lt(o)||Array.isArray(a)&&Array.isArray(o)?!Gn(a,o):a!==o)return!1}}return!0}var tr=e=>lt(e)&&!Object.keys(e).length,Py=e=>e.type==="file",ms=e=>typeof e=="function",ef=e=>{if(!Ey)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},e_=e=>e.type==="select-multiple",Ay=e=>e.type==="radio",pO=e=>Ay(e)||nu(e),cp=e=>ef(e)&&e.isConnected;function gO(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=st(e)?s++:e[t[s++]];return e}function xO(e){for(const t in e)if(e.hasOwnProperty(t)&&!st(e[t]))return!1;return!0}function xt(e,t){const r=Array.isArray(t)?t:Ty(t)?[t]:QS(t),s=r.length===1?e:gO(e,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(lt(s)&&tr(s)||Array.isArray(s)&&xO(s))&&xt(e,r.slice(0,-1)),e}var t_=e=>{for(const t in e)if(ms(e[t]))return!0;return!1};function tf(e,t={}){const r=Array.isArray(e);if(lt(e)||r)for(const s in e)Array.isArray(e[s])||lt(e[s])&&!t_(e[s])?(t[s]=Array.isArray(e[s])?[]:{},tf(e[s],t[s])):sr(e[s])||(t[s]=!0);return t}function r_(e,t,r){const s=Array.isArray(e);if(lt(e)||s)for(const n in e)Array.isArray(e[n])||lt(e[n])&&!t_(e[n])?st(t)||n0(r[n])?r[n]=Array.isArray(e[n])?tf(e[n],[]):{...tf(e[n])}:r_(e[n],sr(t)?{}:t[n],r[n]):r[n]=!Gn(e[n],t[n]);return r}var Ql=(e,t)=>r_(e,t,tf(t));const d1={value:!1,isValid:!1},u1={value:!0,isValid:!0};var s_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!st(e[0].attributes.value)?st(e[0].value)||e[0].value===""?u1:{value:e[0].value,isValid:!0}:u1:d1}return d1},n_=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>st(e)?e:t?e===""?NaN:e&&+e:r&&qs(e)?new Date(e):s?s(e):e;const h1={isValid:!1,value:null};var i_=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,h1):h1;function f1(e){const t=e.ref;return Py(t)?t.files:Ay(t)?i_(e.refs).value:e_(t)?[...t.selectedOptions].map(({value:r})=>r):nu(t)?s_(e.refs).value:n_(st(t.value)?e.ref.value:t.value,e)}var yO=(e,t,r,s)=>{const n={};for(const a of e){const o=te(t,a);o&&De(n,a,o._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},rf=e=>e instanceof RegExp,Zl=e=>st(e)?e:rf(e)?e.source:lt(e)?rf(e.value)?e.value.source:e.value:e,m1=e=>({isOnSubmit:!e||e===fs.onSubmit,isOnBlur:e===fs.onBlur,isOnChange:e===fs.onChange,isOnAll:e===fs.all,isOnTouch:e===fs.onTouched});const p1="AsyncFunction";var vO=e=>!!e&&!!e.validate&&!!(ms(e.validate)&&e.validate.constructor.name===p1||lt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===p1)),bO=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),g1=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Pc=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const a=te(e,n);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Pc(l,t))break}else if(lt(l)&&Pc(l,t))break}}};function x1(e,t,r){const s=te(e,r);if(s||Ty(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),o=te(t,a),l=te(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};n.pop()}return{name:r}}var wO=(e,t,r,s)=>{r(e);const{name:n,...a}=e;return tr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!s||fs.all))},NO=(e,t,r)=>!e||!t||e===t||Tc(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),jO=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,kO=(e,t)=>!um(te(e,t)).length&&xt(e,t),SO=(e,t,r)=>{const s=Tc(te(e,r));return De(s,"root",t[r]),De(e,r,s),e},hh=e=>qs(e);function y1(e,t,r="validate"){if(hh(e)||Array.isArray(e)&&e.every(hh)||_r(e)&&!e)return{type:r,message:hh(e)?e:"",ref:t}}var Ua=e=>lt(e)&&!rf(e)?e:{value:e,message:""},v1=async(e,t,r,s,n,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:g,validate:y,name:m,valueAsNumber:b,mount:v}=e._f,x=te(r,m);if(!v||t.has(m))return{};const N=l?l[0]:o,j=z=>{n&&N.reportValidity&&(N.setCustomValidity(_r(z)?"":z||""),N.reportValidity())},k={},C=Ay(o),S=nu(o),E=C||S,T=(b||Py(o))&&st(o.value)&&st(x)||ef(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,A=JS.bind(null,m,s,k),L=(z,q,O,M=on.maxLength,F=on.minLength)=>{const I=z?q:O;k[m]={type:z?M:F,message:I,ref:o,...A(z?M:F,I)}};if(a?!Array.isArray(x)||!x.length:c&&(!E&&(T||sr(x))||_r(x)&&!x||S&&!s_(l).isValid||C&&!i_(l).isValid)){const{value:z,message:q}=hh(c)?{value:!!c,message:c}:Ua(c);if(z&&(k[m]={type:on.required,message:q,ref:N,...A(on.required,q)},!s))return j(q),k}if(!T&&(!sr(h)||!sr(f))){let z,q;const O=Ua(f),M=Ua(h);if(!sr(x)&&!isNaN(x)){const F=o.valueAsNumber||x&&+x;sr(O.value)||(z=F>O.value),sr(M.value)||(q=F<M.value)}else{const F=o.valueAsDate||new Date(x),I=Q=>new Date(new Date().toDateString()+" "+Q),R=o.type=="time",V=o.type=="week";qs(O.value)&&x&&(z=R?I(x)>I(O.value):V?x>O.value:F>new Date(O.value)),qs(M.value)&&x&&(q=R?I(x)<I(M.value):V?x<M.value:F<new Date(M.value))}if((z||q)&&(L(!!z,O.message,M.message,on.max,on.min),!s))return j(k[m].message),k}if((d||u)&&!T&&(qs(x)||a&&Array.isArray(x))){const z=Ua(d),q=Ua(u),O=!sr(z.value)&&x.length>+z.value,M=!sr(q.value)&&x.length<+q.value;if((O||M)&&(L(O,z.message,q.message),!s))return j(k[m].message),k}if(g&&!T&&qs(x)){const{value:z,message:q}=Ua(g);if(rf(z)&&!x.match(z)&&(k[m]={type:on.pattern,message:q,ref:o,...A(on.pattern,q)},!s))return j(q),k}if(y){if(ms(y)){const z=await y(x,r),q=y1(z,N);if(q&&(k[m]={...q,...A(on.validate,q.message)},!s))return j(q.message),k}else if(lt(y)){let z={};for(const q in y){if(!tr(z)&&!s)break;const O=y1(await y[q](x,r),N,q);O&&(z={...O,...A(q,O.message)},j(O.message),s&&(k[m]=z))}if(!tr(z)&&(k[m]={ref:N,...z},!s))return k}}return j(!0),k};const _O={mode:fs.onSubmit,reValidateMode:fs.onChange,shouldFocusError:!0};function CO(e={}){let t={..._O,...e},r={submitCount:0,isDirty:!1,isLoading:ms(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let n=lt(t.defaultValues)||lt(t.values)?Rt(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Rt(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:c1(),state:c1()},g=m1(t.mode),y=m1(t.reValidateMode),m=t.criteriaMode===fs.all,b=P=>D=>{clearTimeout(d),d=setTimeout(P,D)},v=async P=>{if(!t.disabled&&(u.isValid||h.isValid||P)){const D=t.resolver?tr((await T()).errors):await L(s,!0);D!==r.isValid&&f.state.next({isValid:D})}},x=(P,D)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((P||Array.from(l.mount)).forEach(W=>{W&&(D?De(r.validatingFields,W,D):xt(r.validatingFields,W))}),f.state.next({validatingFields:r.validatingFields,isValidating:!tr(r.validatingFields)}))},N=(P,D=[],W,ie,ee=!0,Y=!0)=>{if(ie&&W&&!t.disabled){if(o.action=!0,Y&&Array.isArray(te(s,P))){const oe=W(te(s,P),ie.argA,ie.argB);ee&&De(s,P,oe)}if(Y&&Array.isArray(te(r.errors,P))){const oe=W(te(r.errors,P),ie.argA,ie.argB);ee&&De(r.errors,P,oe),kO(r.errors,P)}if((u.touchedFields||h.touchedFields)&&Y&&Array.isArray(te(r.touchedFields,P))){const oe=W(te(r.touchedFields,P),ie.argA,ie.argB);ee&&De(r.touchedFields,P,oe)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Ql(n,a)),f.state.next({name:P,isDirty:q(P,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else De(a,P,D)},j=(P,D)=>{De(r.errors,P,D),f.state.next({errors:r.errors})},k=P=>{r.errors=P,f.state.next({errors:r.errors,isValid:!1})},C=(P,D,W,ie)=>{const ee=te(s,P);if(ee){const Y=te(a,P,st(W)?te(n,P):W);st(Y)||ie&&ie.defaultChecked||D?De(a,P,D?Y:f1(ee._f)):F(P,Y),o.mount&&v()}},S=(P,D,W,ie,ee)=>{let Y=!1,oe=!1;const Fe={name:P};if(!t.disabled){if(!W||ie){(u.isDirty||h.isDirty)&&(oe=r.isDirty,r.isDirty=Fe.isDirty=q(),Y=oe!==Fe.isDirty);const dt=Gn(te(n,P),D);oe=!!te(r.dirtyFields,P),dt?xt(r.dirtyFields,P):De(r.dirtyFields,P,!0),Fe.dirtyFields=r.dirtyFields,Y=Y||(u.dirtyFields||h.dirtyFields)&&oe!==!dt}if(W){const dt=te(r.touchedFields,P);dt||(De(r.touchedFields,P,W),Fe.touchedFields=r.touchedFields,Y=Y||(u.touchedFields||h.touchedFields)&&dt!==W)}Y&&ee&&f.state.next(Fe)}return Y?Fe:{}},E=(P,D,W,ie)=>{const ee=te(r.errors,P),Y=(u.isValid||h.isValid)&&_r(D)&&r.isValid!==D;if(t.delayError&&W?(c=b(()=>j(P,W)),c(t.delayError)):(clearTimeout(d),c=null,W?De(r.errors,P,W):xt(r.errors,P)),(W?!Gn(ee,W):ee)||!tr(ie)||Y){const oe={...ie,...Y&&_r(D)?{isValid:D}:{},errors:r.errors,name:P};r={...r,...oe},f.state.next(oe)}},T=async P=>{x(P,!0);const D=await t.resolver(a,t.context,yO(P||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return x(P),D},A=async P=>{const{errors:D}=await T(P);if(P)for(const W of P){const ie=te(D,W);ie?De(r.errors,W,ie):xt(r.errors,W)}else r.errors=D;return D},L=async(P,D,W={valid:!0})=>{for(const ie in P){const ee=P[ie];if(ee){const{_f:Y,...oe}=ee;if(Y){const Fe=l.array.has(Y.name),dt=ee._f&&vO(ee._f);dt&&u.validatingFields&&x([ie],!0);const Lt=await v1(ee,l.disabled,a,m,t.shouldUseNativeValidation&&!D,Fe);if(dt&&u.validatingFields&&x([ie]),Lt[Y.name]&&(W.valid=!1,D))break;!D&&(te(Lt,Y.name)?Fe?SO(r.errors,Lt,Y.name):De(r.errors,Y.name,Lt[Y.name]):xt(r.errors,Y.name))}!tr(oe)&&await L(oe,D,W)}}return W.valid},z=()=>{for(const P of l.unMount){const D=te(s,P);D&&(D._f.refs?D._f.refs.every(W=>!cp(W)):!cp(D._f.ref))&&ct(P)}l.unMount=new Set},q=(P,D)=>!t.disabled&&(P&&D&&De(a,P,D),!Gn(pe(),n)),O=(P,D,W)=>XS(P,l,{...o.mount?a:st(D)?n:qs(P)?{[P]:D}:D},W,D),M=P=>um(te(o.mount?a:n,P,t.shouldUnregister?te(n,P,[]):[])),F=(P,D,W={})=>{const ie=te(s,P);let ee=D;if(ie){const Y=ie._f;Y&&(!Y.disabled&&De(a,P,n_(D,Y)),ee=ef(Y.ref)&&sr(D)?"":D,e_(Y.ref)?[...Y.ref.options].forEach(oe=>oe.selected=ee.includes(oe.value)):Y.refs?nu(Y.ref)?Y.refs.length>1?Y.refs.forEach(oe=>(!oe.defaultChecked||!oe.disabled)&&(oe.checked=Array.isArray(ee)?!!ee.find(Fe=>Fe===oe.value):ee===oe.value)):Y.refs[0]&&(Y.refs[0].checked=!!ee):Y.refs.forEach(oe=>oe.checked=oe.value===ee):Py(Y.ref)?Y.ref.value="":(Y.ref.value=ee,Y.ref.type||f.state.next({name:P,values:Rt(a)})))}(W.shouldDirty||W.shouldTouch)&&S(P,ee,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&se(P)},I=(P,D,W)=>{for(const ie in D){const ee=D[ie],Y=`${P}.${ie}`,oe=te(s,Y);(l.array.has(P)||lt(ee)||oe&&!oe._f)&&!Hi(ee)?I(Y,ee,W):F(Y,ee,W)}},R=(P,D,W={})=>{const ie=te(s,P),ee=l.array.has(P),Y=Rt(D);De(a,P,Y),ee?(f.array.next({name:P,values:Rt(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&W.shouldDirty&&f.state.next({name:P,dirtyFields:Ql(n,a),isDirty:q(P,Y)})):ie&&!ie._f&&!sr(Y)?I(P,Y,W):F(P,Y,W),g1(P,l)&&f.state.next({...r}),f.state.next({name:o.mount?P:void 0,values:Rt(a)})},V=async P=>{o.mount=!0;const D=P.target;let W=D.name,ie=!0;const ee=te(s,W),Y=oe=>{ie=Number.isNaN(oe)||Hi(oe)&&isNaN(oe.getTime())||Gn(oe,te(a,W,oe))};if(ee){let oe,Fe;const dt=D.type?f1(ee._f):GS(P),Lt=P.type===Jh.BLUR||P.type===Jh.FOCUS_OUT,v4=!bO(ee._f)&&!t.resolver&&!te(r.errors,W)&&!ee._f.deps||jO(Lt,te(r.touchedFields,W),r.isSubmitted,y,g),ym=g1(W,l,Lt);De(a,W,dt),Lt?(ee._f.onBlur&&ee._f.onBlur(P),c&&c(0)):ee._f.onChange&&ee._f.onChange(P);const vm=S(W,dt,Lt),b4=!tr(vm)||ym;if(!Lt&&f.state.next({name:W,type:P.type,values:Rt(a)}),v4)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?Lt&&v():Lt||v()),b4&&f.state.next({name:W,...ym?{}:vm});if(!Lt&&ym&&f.state.next({...r}),t.resolver){const{errors:Jy}=await T([W]);if(Y(dt),ie){const w4=x1(r.errors,s,W),ev=x1(Jy,s,w4.name||W);oe=ev.error,W=ev.name,Fe=tr(Jy)}}else x([W],!0),oe=(await v1(ee,l.disabled,a,m,t.shouldUseNativeValidation))[W],x([W]),Y(dt),ie&&(oe?Fe=!1:(u.isValid||h.isValid)&&(Fe=await L(s,!0)));ie&&(ee._f.deps&&se(ee._f.deps),E(W,Fe,oe,vm))}},Q=(P,D)=>{if(te(r.errors,D)&&P.focus)return P.focus(),1},se=async(P,D={})=>{let W,ie;const ee=Tc(P);if(t.resolver){const Y=await A(st(P)?P:ee);W=tr(Y),ie=P?!ee.some(oe=>te(Y,oe)):W}else P?(ie=(await Promise.all(ee.map(async Y=>{const oe=te(s,Y);return await L(oe&&oe._f?{[Y]:oe}:oe)}))).every(Boolean),!(!ie&&!r.isValid)&&v()):ie=W=await L(s);return f.state.next({...!qs(P)||(u.isValid||h.isValid)&&W!==r.isValid?{}:{name:P},...t.resolver||!P?{isValid:W}:{},errors:r.errors}),D.shouldFocus&&!ie&&Pc(s,Q,P?ee:l.mount),ie},pe=P=>{const D={...o.mount?a:n};return st(P)?D:qs(P)?te(D,P):P.map(W=>te(D,W))},He=(P,D)=>({invalid:!!te((D||r).errors,P),isDirty:!!te((D||r).dirtyFields,P),error:te((D||r).errors,P),isValidating:!!te(r.validatingFields,P),isTouched:!!te((D||r).touchedFields,P)}),Ve=P=>{P&&Tc(P).forEach(D=>xt(r.errors,D)),f.state.next({errors:P?r.errors:{}})},Pt=(P,D,W)=>{const ie=(te(s,P,{_f:{}})._f||{}).ref,ee=te(r.errors,P)||{},{ref:Y,message:oe,type:Fe,...dt}=ee;De(r.errors,P,{...dt,...D,ref:ie}),f.state.next({name:P,errors:r.errors,isValid:!1}),W&&W.shouldFocus&&ie&&ie.focus&&ie.focus()},jt=(P,D)=>ms(P)?f.state.subscribe({next:W=>P(O(void 0,D),W)}):O(P,D,!0),fe=P=>f.state.subscribe({next:D=>{NO(P.name,D.name,P.exact)&&wO(D,P.formState||u,Oa,P.reRenderRoot)&&P.callback({values:{...a},...r,...D})}}).unsubscribe,Re=P=>(o.mount=!0,h={...h,...P.formState},fe({...P,formState:h})),ct=(P,D={})=>{for(const W of P?Tc(P):l.mount)l.mount.delete(W),l.array.delete(W),D.keepValue||(xt(s,W),xt(a,W)),!D.keepError&&xt(r.errors,W),!D.keepDirty&&xt(r.dirtyFields,W),!D.keepTouched&&xt(r.touchedFields,W),!D.keepIsValidating&&xt(r.validatingFields,W),!t.shouldUnregister&&!D.keepDefaultValue&&xt(n,W);f.state.next({values:Rt(a)}),f.state.next({...r,...D.keepDirty?{isDirty:q()}:{}}),!D.keepIsValid&&v()},Ue=({disabled:P,name:D})=>{(_r(P)&&o.mount||P||l.disabled.has(D))&&(P?l.disabled.add(D):l.disabled.delete(D))},Me=(P,D={})=>{let W=te(s,P);const ie=_r(D.disabled)||_r(t.disabled);return De(s,P,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:P}},name:P,mount:!0,...D}}),l.mount.add(P),W?Ue({disabled:_r(D.disabled)?D.disabled:t.disabled,name:P}):C(P,!0,D.value),{...ie?{disabled:D.disabled||t.disabled}:{},...t.progressive?{required:!!D.required,min:Zl(D.min),max:Zl(D.max),minLength:Zl(D.minLength),maxLength:Zl(D.maxLength),pattern:Zl(D.pattern)}:{},name:P,onChange:V,onBlur:V,ref:ee=>{if(ee){Me(P,D),W=te(s,P);const Y=st(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,oe=pO(Y),Fe=W._f.refs||[];if(oe?Fe.find(dt=>dt===Y):Y===W._f.ref)return;De(s,P,{_f:{...W._f,...oe?{refs:[...Fe.filter(cp),Y,...Array.isArray(te(n,P))?[{}]:[]],ref:{type:Y.type,name:P}}:{ref:Y}}}),C(P,!1,void 0,Y)}else W=te(s,P,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||D.shouldUnregister)&&!(KS(l.array,P)&&o.action)&&l.unMount.add(P)}}},Oe=()=>t.shouldFocusError&&Pc(s,Q,l.mount),Qt=P=>{_r(P)&&(f.state.next({disabled:P}),Pc(s,(D,W)=>{const ie=te(s,W);ie&&(D.disabled=ie._f.disabled||P,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(ee=>{ee.disabled=ie._f.disabled||P}))},0,!1))},Nr=(P,D)=>async W=>{let ie;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let ee=Rt(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:Y,values:oe}=await T();r.errors=Y,ee=oe}else await L(s);if(l.disabled.size)for(const Y of l.disabled)De(ee,Y,void 0);if(xt(r.errors,"root"),tr(r.errors)){f.state.next({errors:{}});try{await P(ee,W)}catch(Y){ie=Y}}else D&&await D({...r.errors},W),Oe(),setTimeout(Oe);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:tr(r.errors)&&!ie,submitCount:r.submitCount+1,errors:r.errors}),ie)throw ie},Oi=(P,D={})=>{te(s,P)&&(st(D.defaultValue)?R(P,Rt(te(n,P))):(R(P,D.defaultValue),De(n,P,Rt(D.defaultValue))),D.keepTouched||xt(r.touchedFields,P),D.keepDirty||(xt(r.dirtyFields,P),r.isDirty=D.defaultValue?q(P,Rt(te(n,P))):q()),D.keepError||(xt(r.errors,P),u.isValid&&v()),f.state.next({...r}))},Fn=(P,D={})=>{const W=P?Rt(P):n,ie=Rt(W),ee=tr(P),Y=ee?n:ie;if(D.keepDefaultValues||(n=W),!D.keepValues){if(D.keepDirtyValues){const oe=new Set([...l.mount,...Object.keys(Ql(n,a))]);for(const Fe of Array.from(oe))te(r.dirtyFields,Fe)?De(Y,Fe,te(a,Fe)):R(Fe,te(Y,Fe))}else{if(Ey&&st(P))for(const oe of l.mount){const Fe=te(s,oe);if(Fe&&Fe._f){const dt=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(ef(dt)){const Lt=dt.closest("form");if(Lt){Lt.reset();break}}}}for(const oe of l.mount)R(oe,te(Y,oe))}a=Rt(Y),f.array.next({values:{...Y}}),f.state.next({values:{...Y}})}l={mount:D.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!D.keepIsValid||!!D.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Gn(P,n)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:D.keepDirtyValues?D.keepDefaultValues&&a?Ql(n,a):r.dirtyFields:D.keepDefaultValues&&P?Ql(n,P):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},On=(P,D)=>Fn(ms(P)?P(a):P,D),xm=(P,D={})=>{const W=te(s,P),ie=W&&W._f;if(ie){const ee=ie.refs?ie.refs[0]:ie.ref;ee.focus&&(ee.focus(),D.shouldSelect&&ms(ee.select)&&ee.select())}},Oa=P=>{r={...r,...P}},Xy={control:{register:Me,unregister:ct,getFieldState:He,handleSubmit:Nr,setError:Pt,_subscribe:fe,_runSchema:T,_getWatch:O,_getDirty:q,_setValid:v,_setFieldArray:N,_setDisabledField:Ue,_setErrors:k,_getFieldArray:M,_reset:Fn,_resetDefaultValues:()=>ms(t.defaultValues)&&t.defaultValues().then(P=>{On(P,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:Qt,_subjects:f,_proxyFormState:u,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(P){o=P},get _defaultValues(){return n},get _names(){return l},set _names(P){l=P},get _formState(){return r},get _options(){return t},set _options(P){t={...t,...P}}},subscribe:Re,trigger:se,register:Me,handleSubmit:Nr,watch:jt,setValue:R,getValues:pe,reset:On,resetField:Oi,clearErrors:Ve,unregister:ct,setError:Pt,setFocus:xm,getFieldState:He};return{...Xy,formControl:Xy}}function i0(e={}){const t=ve.useRef(void 0),r=ve.useRef(void 0),[s,n]=ve.useState({isDirty:!1,isValidating:!1,isLoading:ms(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ms(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:CO(e),formState:s},e.formControl&&e.defaultValues&&!ms(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,ve.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0}),[a]),ve.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),ve.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),ve.useEffect(()=>{e.values&&!Gn(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,n(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),ve.useEffect(()=>{e.errors&&!tr(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),ve.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ve.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=YS(s,a),t.current}const b1=(e,t,r)=>{if(e&&"reportValidity"in e){const s=te(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},a_=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?b1(s.ref,r,e):s.refs&&s.refs.forEach(n=>b1(n,r,e))}},EO=(e,t)=>{t.shouldUseNativeValidation&&a_(e,t);const r={};for(const s in e){const n=te(t.fields,s),a=Object.assign(e[s]||{},{ref:n&&n.ref});if(TO(t.names||Object.keys(e),s)){const o=Object.assign({},te(r,s));De(o,"root",a),De(r,s,o)}else De(r,s,a)}return r},TO=(e,t)=>e.some(r=>r.startsWith(t+"."));var PO=function(e,t){for(var r={};e.length;){var s=e[0],n=s.code,a=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=JS(o,t,r,n,d?[].concat(d,s.message):s.message)}e.shift()}return r},a0=function(e,t,r){return r===void 0&&(r={}),function(s,n,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return a.shouldUseNativeValidation&&a_({},a),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:EO(PO(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Te;(function(e){e.assertEqual=n=>n;function t(n){}e.assertIs=t;function r(n){throw new Error}e.assertNever=r,e.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},e.getValidEnumValues=n=>{const a=e.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of a)o[l]=n[l];return e.objectValues(o)},e.objectValues=n=>e.objectKeys(n).map(function(a){return n[a]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},e.find=(n,a)=>{for(const o of n)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=s,e.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(Te||(Te={}));var o0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(o0||(o0={}));const ne=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hn=e=>{switch(typeof e){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return isNaN(e)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(e)?ne.array:e===null?ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ne.promise:typeof Map<"u"&&e instanceof Map?ne.map:typeof Set<"u"&&e instanceof Set?ne.set:typeof Date<"u"&&e instanceof Date?ne.date:ne.object;default:return ne.unknown}},G=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),AO=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ar extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},s={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),s}static assert(t){if(!(t instanceof Ar))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):s.push(t(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Ar.create=e=>new Ar(e);const kl=(e,t)=>{let r;switch(e.code){case G.invalid_type:e.received===ne.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case G.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Te.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:r=`Unrecognized key(s) in object: ${Te.joinValues(e.keys,", ")}`;break;case G.invalid_union:r="Invalid input";break;case G.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Te.joinValues(e.options)}`;break;case G.invalid_enum_value:r=`Invalid enum value. Expected ${Te.joinValues(e.options)}, received '${e.received}'`;break;case G.invalid_arguments:r="Invalid function arguments";break;case G.invalid_return_type:r="Invalid function return type";break;case G.invalid_date:r="Invalid date";break;case G.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Te.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case G.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case G.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case G.custom:r="Invalid input";break;case G.invalid_intersection_types:r="Intersection results could not be merged";break;case G.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case G.not_finite:r="Number must be finite";break;default:r=t.defaultError,Te.assertNever(e)}return{message:r}};let o_=kl;function RO(e){o_=e}function sf(){return o_}const nf=e=>{const{data:t,path:r,errorMaps:s,issueData:n}=e,a=[...r,...n.path||[]],o={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...n,path:a,message:l}},MO=[];function re(e,t){const r=sf(),s=nf({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===kl?void 0:kl].filter(n=>!!n)});e.common.issues.push(s)}class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const n of r){if(n.status==="aborted")return xe;n.status==="dirty"&&t.dirty(),s.push(n.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const n of r){const a=await n.key,o=await n.value;s.push({key:a,value:o})}return Kt.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const n of r){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return xe;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[a.value]=o.value)}return{status:t.value,value:s}}}const xe=Object.freeze({status:"aborted"}),co=e=>({status:"dirty",value:e}),or=e=>({status:"valid",value:e}),l0=e=>e.status==="aborted",c0=e=>e.status==="dirty",Sa=e=>e.status==="valid",sd=e=>typeof Promise<"u"&&e instanceof Promise;function af(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function l_(e,t,r,s,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ce||(ce={}));var dc,uc;class en{constructor(t,r,s,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const w1=(e,t)=>{if(Sa(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ar(e.common.issues);return this._error=r,this._error}}};function be(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:n}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:n}}class je{get description(){return this._def.description}_getType(t){return hn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:hn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Kt,ctx:{common:t.parent.common,data:t.data,parsedType:hn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(sd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const n={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hn(t)},a=this._parseSync({data:t,path:n.path,parent:n});return w1(n,a)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hn(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return Sa(a)?{value:a.value}:{issues:n.common.issues}}catch(a){!((s=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>Sa(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hn(t)},n=this._parse({data:t,path:s.path,parent:s}),a=await(sd(n)?n:Promise.resolve(n));return w1(s,a)}refine(t,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{const o=t(n),l=()=>a.addIssue({code:G.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,n)=>t(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(t){return new Ss({schema:this,typeName:ge.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Xs.create(this,this._def)}nullable(){return Ci.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ws.create(this)}promise(){return _l.create(this,this._def)}or(t){return od.create([this,t],this._def)}and(t){return ld.create(this,t,this._def)}transform(t){return new Ss({...be(this._def),schema:this,typeName:ge.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new fd({...be(this._def),innerType:this,defaultValue:r,typeName:ge.ZodDefault})}brand(){return new Ry({typeName:ge.ZodBranded,type:this,...be(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new md({...be(this._def),innerType:this,catchValue:r,typeName:ge.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return iu.create(this,t)}readonly(){return pd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const FO=/^c[^\s-]{8,}$/i,OO=/^[0-9a-z]+$/,IO=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DO=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,LO=/^[a-z0-9_-]{21}$/i,$O=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UO=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dp;const VO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,HO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,WO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,KO=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,c_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",QO=new RegExp(`^${c_}$`);function d_(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function ZO(e){return new RegExp(`^${d_(e)}$`)}function u_(e){let t=`${c_}T${d_(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function YO(e,t){return!!((t==="v4"||!t)&&VO.test(e)||(t==="v6"||!t)&&WO.test(e))}function XO(e,t){if(!$O.test(e))return!1;try{const[r]=e.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||!n.typ||!n.alg||t&&n.alg!==t)}catch{return!1}}function JO(e,t){return!!((t==="v4"||!t)&&HO.test(e)||(t==="v6"||!t)&&qO.test(e))}class gs extends je{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ne.string){const a=this._getOrReturnCtx(t);return re(a,{code:G.invalid_type,expected:ne.string,received:a.parsedType}),xe}const s=new Kt;let n;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(n=this._getOrReturnCtx(t,n),re(n,{code:G.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")t.data.length>a.value&&(n=this._getOrReturnCtx(t,n),re(n,{code:G.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(n=this._getOrReturnCtx(t,n),o?re(n,{code:G.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&re(n,{code:G.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")zO.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"email",code:G.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")dp||(dp=new RegExp(BO,"u")),dp.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"emoji",code:G.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")DO.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"uuid",code:G.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")LO.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"nanoid",code:G.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")FO.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"cuid",code:G.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")OO.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"cuid2",code:G.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")IO.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"ulid",code:G.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),re(n,{validation:"url",code:G.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"regex",code:G.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(t,n),re(n,{code:G.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(n=this._getOrReturnCtx(t,n),re(n,{code:G.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(n=this._getOrReturnCtx(t,n),re(n,{code:G.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?u_(a).test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{code:G.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?QO.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{code:G.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?ZO(a).test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{code:G.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?UO.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"duration",code:G.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?YO(t.data,a.version)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"ip",code:G.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?XO(t.data,a.alg)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"jwt",code:G.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?JO(t.data,a.version)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"cidr",code:G.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?GO.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"base64",code:G.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?KO.test(t.data)||(n=this._getOrReturnCtx(t,n),re(n,{validation:"base64url",code:G.invalid_string,message:a.message}),s.dirty()):Te.assertNever(a);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(n=>t.test(n),{validation:r,code:G.invalid_string,...ce.errToObj(s)})}_addCheck(t){return new gs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ce.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ce.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ce.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ce.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ce.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ce.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ce.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ce.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ce.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ce.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ce.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ce.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ce.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...ce.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ce.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ce.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ce.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ce.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ce.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ce.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ce.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ce.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ce.errToObj(r)})}nonempty(t){return this.min(1,ce.errToObj(t))}trim(){return new gs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gs.create=e=>{var t;return new gs({checks:[],typeName:ge.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...be(e)})};function e8(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,n=r>s?r:s,a=parseInt(e.toFixed(n).replace(".","")),o=parseInt(t.toFixed(n).replace(".",""));return a%o/Math.pow(10,n)}class ki extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ne.number){const a=this._getOrReturnCtx(t);return re(a,{code:G.invalid_type,expected:ne.number,received:a.parsedType}),xe}let s;const n=new Kt;for(const a of this._def.checks)a.kind==="int"?Te.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:G.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(s=this._getOrReturnCtx(t,s),re(s,{code:G.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(s=this._getOrReturnCtx(t,s),re(s,{code:G.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?e8(t.data,a.value)!==0&&(s=this._getOrReturnCtx(t,s),re(s,{code:G.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),re(s,{code:G.not_finite,message:a.message}),n.dirty()):Te.assertNever(a);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ce.toString(r))}setLimit(t,r,s,n){return new ki({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:ce.toString(n)}]})}_addCheck(t){return new ki({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ce.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Te.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ki.create=e=>new ki({checks:[],typeName:ge.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...be(e)});class Si extends je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ne.bigint)return this._getInvalidInput(t);let s;const n=new Kt;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(s=this._getOrReturnCtx(t,s),re(s,{code:G.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(s=this._getOrReturnCtx(t,s),re(s,{code:G.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),re(s,{code:G.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):Te.assertNever(a);return{status:n.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return re(r,{code:G.invalid_type,expected:ne.bigint,received:r.parsedType}),xe}gte(t,r){return this.setLimit("min",t,!0,ce.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ce.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ce.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ce.toString(r))}setLimit(t,r,s,n){return new Si({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:ce.toString(n)}]})}_addCheck(t){return new Si({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Si.create=e=>{var t;return new Si({checks:[],typeName:ge.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...be(e)})};class nd extends je{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ne.boolean){const s=this._getOrReturnCtx(t);return re(s,{code:G.invalid_type,expected:ne.boolean,received:s.parsedType}),xe}return or(t.data)}}nd.create=e=>new nd({typeName:ge.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...be(e)});class _a extends je{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ne.date){const a=this._getOrReturnCtx(t);return re(a,{code:G.invalid_type,expected:ne.date,received:a.parsedType}),xe}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return re(a,{code:G.invalid_date}),xe}const s=new Kt;let n;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(n=this._getOrReturnCtx(t,n),re(n,{code:G.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(n=this._getOrReturnCtx(t,n),re(n,{code:G.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):Te.assertNever(a);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new _a({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ce.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ce.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}_a.create=e=>new _a({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ge.ZodDate,...be(e)});class of extends je{_parse(t){if(this._getType(t)!==ne.symbol){const s=this._getOrReturnCtx(t);return re(s,{code:G.invalid_type,expected:ne.symbol,received:s.parsedType}),xe}return or(t.data)}}of.create=e=>new of({typeName:ge.ZodSymbol,...be(e)});class id extends je{_parse(t){if(this._getType(t)!==ne.undefined){const s=this._getOrReturnCtx(t);return re(s,{code:G.invalid_type,expected:ne.undefined,received:s.parsedType}),xe}return or(t.data)}}id.create=e=>new id({typeName:ge.ZodUndefined,...be(e)});class ad extends je{_parse(t){if(this._getType(t)!==ne.null){const s=this._getOrReturnCtx(t);return re(s,{code:G.invalid_type,expected:ne.null,received:s.parsedType}),xe}return or(t.data)}}ad.create=e=>new ad({typeName:ge.ZodNull,...be(e)});class Sl extends je{constructor(){super(...arguments),this._any=!0}_parse(t){return or(t.data)}}Sl.create=e=>new Sl({typeName:ge.ZodAny,...be(e)});class ha extends je{constructor(){super(...arguments),this._unknown=!0}_parse(t){return or(t.data)}}ha.create=e=>new ha({typeName:ge.ZodUnknown,...be(e)});class Pn extends je{_parse(t){const r=this._getOrReturnCtx(t);return re(r,{code:G.invalid_type,expected:ne.never,received:r.parsedType}),xe}}Pn.create=e=>new Pn({typeName:ge.ZodNever,...be(e)});class lf extends je{_parse(t){if(this._getType(t)!==ne.undefined){const s=this._getOrReturnCtx(t);return re(s,{code:G.invalid_type,expected:ne.void,received:s.parsedType}),xe}return or(t.data)}}lf.create=e=>new lf({typeName:ge.ZodVoid,...be(e)});class ws extends je{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),n=this._def;if(r.parsedType!==ne.array)return re(r,{code:G.invalid_type,expected:ne.array,received:r.parsedType}),xe;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(o||l)&&(re(r,{code:o?G.too_big:G.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(re(r,{code:G.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(re(r,{code:G.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>n.type._parseAsync(new en(r,o,r.path,l)))).then(o=>Kt.mergeArray(s,o));const a=[...r.data].map((o,l)=>n.type._parseSync(new en(r,o,r.path,l)));return Kt.mergeArray(s,a)}get element(){return this._def.type}min(t,r){return new ws({...this._def,minLength:{value:t,message:ce.toString(r)}})}max(t,r){return new ws({...this._def,maxLength:{value:t,message:ce.toString(r)}})}length(t,r){return new ws({...this._def,exactLength:{value:t,message:ce.toString(r)}})}nonempty(t){return this.min(1,t)}}ws.create=(e,t)=>new ws({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ge.ZodArray,...be(t)});function Ha(e){if(e instanceof Ye){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Xs.create(Ha(s))}return new Ye({...e._def,shape:()=>t})}else return e instanceof ws?new ws({...e._def,type:Ha(e.element)}):e instanceof Xs?Xs.create(Ha(e.unwrap())):e instanceof Ci?Ci.create(Ha(e.unwrap())):e instanceof tn?tn.create(e.items.map(t=>Ha(t))):e}class Ye extends je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Te.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ne.object){const d=this._getOrReturnCtx(t);return re(d,{code:G.invalid_type,expected:ne.object,received:d.parsedType}),xe}const{status:s,ctx:n}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Pn&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new en(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof Pn){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(re(n,{code:G.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new en(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>Kt.mergeObjectSync(s,d)):Kt.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return ce.errToObj,new Ye({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var n,a,o,l;const c=(o=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=ce.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ye({...this._def,unknownKeys:"strip"})}passthrough(){return new Ye({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ye({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ye({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ge.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ye({...this._def,catchall:t})}pick(t){const r={};return Te.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new Ye({...this._def,shape:()=>r})}omit(t){const r={};return Te.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new Ye({...this._def,shape:()=>r})}deepPartial(){return Ha(this)}partial(t){const r={};return Te.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];t&&!t[s]?r[s]=n:r[s]=n.optional()}),new Ye({...this._def,shape:()=>r})}required(t){const r={};return Te.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Xs;)a=a._def.innerType;r[s]=a}}),new Ye({...this._def,shape:()=>r})}keyof(){return h_(Te.objectKeys(this.shape))}}Ye.create=(e,t)=>new Ye({shape:()=>e,unknownKeys:"strip",catchall:Pn.create(),typeName:ge.ZodObject,...be(t)});Ye.strictCreate=(e,t)=>new Ye({shape:()=>e,unknownKeys:"strict",catchall:Pn.create(),typeName:ge.ZodObject,...be(t)});Ye.lazycreate=(e,t)=>new Ye({shape:e,unknownKeys:"strip",catchall:Pn.create(),typeName:ge.ZodObject,...be(t)});class od extends je{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function n(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ar(l.ctx.common.issues));return re(r,{code:G.invalid_union,unionErrors:o}),xe}if(r.common.async)return Promise.all(s.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Ar(c));return re(r,{code:G.invalid_union,unionErrors:l}),xe}}get options(){return this._def.options}}od.create=(e,t)=>new od({options:e,typeName:ge.ZodUnion,...be(t)});const cn=e=>e instanceof dd?cn(e.schema):e instanceof Ss?cn(e.innerType()):e instanceof ud?[e.value]:e instanceof _i?e.options:e instanceof hd?Te.objectValues(e.enum):e instanceof fd?cn(e._def.innerType):e instanceof id?[void 0]:e instanceof ad?[null]:e instanceof Xs?[void 0,...cn(e.unwrap())]:e instanceof Ci?[null,...cn(e.unwrap())]:e instanceof Ry||e instanceof pd?cn(e.unwrap()):e instanceof md?cn(e._def.innerType):[];class fm extends je{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ne.object)return re(r,{code:G.invalid_type,expected:ne.object,received:r.parsedType}),xe;const s=this.discriminator,n=r.data[s],a=this.optionsMap.get(n);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(re(r,{code:G.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),xe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const n=new Map;for(const a of r){const o=cn(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(n.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);n.set(l,a)}}return new fm({typeName:ge.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:n,...be(s)})}}function d0(e,t){const r=hn(e),s=hn(t);if(e===t)return{valid:!0,data:e};if(r===ne.object&&s===ne.object){const n=Te.objectKeys(t),a=Te.objectKeys(e).filter(l=>n.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=d0(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ne.array&&s===ne.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=d0(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===ne.date&&s===ne.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ld extends je{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),n=(a,o)=>{if(l0(a)||l0(o))return xe;const l=d0(a.value,o.value);return l.valid?((c0(a)||c0(o))&&r.dirty(),{status:r.value,value:l.data}):(re(s,{code:G.invalid_intersection_types}),xe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ld.create=(e,t,r)=>new ld({left:e,right:t,typeName:ge.ZodIntersection,...be(r)});class tn extends je{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==ne.array)return re(s,{code:G.invalid_type,expected:ne.array,received:s.parsedType}),xe;if(s.data.length<this._def.items.length)return re(s,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xe;!this._def.rest&&s.data.length>this._def.items.length&&(re(s,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new en(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>Kt.mergeArray(r,o)):Kt.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new tn({...this._def,rest:t})}}tn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new tn({items:e,typeName:ge.ZodTuple,rest:null,...be(t)})};class cd extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==ne.object)return re(s,{code:G.invalid_type,expected:ne.object,received:s.parsedType}),xe;const n=[],a=this._def.keyType,o=this._def.valueType;for(const l in s.data)n.push({key:a._parse(new en(s,l,s.path,l)),value:o._parse(new en(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Kt.mergeObjectAsync(r,n):Kt.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof je?new cd({keyType:t,valueType:r,typeName:ge.ZodRecord,...be(s)}):new cd({keyType:gs.create(),valueType:t,typeName:ge.ZodRecord,...be(r)})}}class cf extends je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==ne.map)return re(s,{code:G.invalid_type,expected:ne.map,received:s.parsedType}),xe;const n=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:n._parse(new en(s,l,s.path,[d,"key"])),value:a._parse(new en(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return xe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return xe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}cf.create=(e,t,r)=>new cf({valueType:t,keyType:e,typeName:ge.ZodMap,...be(r)});class Ca extends je{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==ne.set)return re(s,{code:G.invalid_type,expected:ne.set,received:s.parsedType}),xe;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(re(s,{code:G.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(re(s,{code:G.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return xe;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>a._parse(new en(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ca({...this._def,minSize:{value:t,message:ce.toString(r)}})}max(t,r){return new Ca({...this._def,maxSize:{value:t,message:ce.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ca.create=(e,t)=>new Ca({valueType:e,minSize:null,maxSize:null,typeName:ge.ZodSet,...be(t)});class ko extends je{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ne.function)return re(r,{code:G.invalid_type,expected:ne.function,received:r.parsedType}),xe;function s(l,c){return nf({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sf(),kl].filter(d=>!!d),issueData:{code:G.invalid_arguments,argumentsError:c}})}function n(l,c){return nf({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,sf(),kl].filter(d=>!!d),issueData:{code:G.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof _l){const l=this;return or(async function(...c){const d=new Ar([]),u=await l._def.args.parseAsync(c,a).catch(g=>{throw d.addIssue(s(c,g)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(g=>{throw d.addIssue(n(h,g)),d})})}else{const l=this;return or(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Ar([s(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new Ar([n(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ko({...this._def,args:tn.create(t).rest(ha.create())})}returns(t){return new ko({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new ko({args:t||tn.create([]).rest(ha.create()),returns:r||ha.create(),typeName:ge.ZodFunction,...be(s)})}}class dd extends je{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}dd.create=(e,t)=>new dd({getter:e,typeName:ge.ZodLazy,...be(t)});class ud extends je{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return re(r,{received:r.data,code:G.invalid_literal,expected:this._def.value}),xe}return{status:"valid",value:t.data}}get value(){return this._def.value}}ud.create=(e,t)=>new ud({value:e,typeName:ge.ZodLiteral,...be(t)});function h_(e,t){return new _i({values:e,typeName:ge.ZodEnum,...be(t)})}class _i extends je{constructor(){super(...arguments),dc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return re(r,{expected:Te.joinValues(s),received:r.parsedType,code:G.invalid_type}),xe}if(af(this,dc)||l_(this,dc,new Set(this._def.values)),!af(this,dc).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return re(r,{received:r.data,code:G.invalid_enum_value,options:s}),xe}return or(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return _i.create(t,{...this._def,...r})}exclude(t,r=this._def){return _i.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}dc=new WeakMap;_i.create=h_;class hd extends je{constructor(){super(...arguments),uc.set(this,void 0)}_parse(t){const r=Te.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==ne.string&&s.parsedType!==ne.number){const n=Te.objectValues(r);return re(s,{expected:Te.joinValues(n),received:s.parsedType,code:G.invalid_type}),xe}if(af(this,uc)||l_(this,uc,new Set(Te.getValidEnumValues(this._def.values))),!af(this,uc).has(t.data)){const n=Te.objectValues(r);return re(s,{received:s.data,code:G.invalid_enum_value,options:n}),xe}return or(t.data)}get enum(){return this._def.values}}uc=new WeakMap;hd.create=(e,t)=>new hd({values:e,typeName:ge.ZodNativeEnum,...be(t)});class _l extends je{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ne.promise&&r.common.async===!1)return re(r,{code:G.invalid_type,expected:ne.promise,received:r.parsedType}),xe;const s=r.parsedType===ne.promise?r.data:Promise.resolve(r.data);return or(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}_l.create=(e,t)=>new _l({type:e,typeName:ge.ZodPromise,...be(t)});class Ss extends je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),n=this._def.effect||null,a={addIssue:o=>{re(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(s.data,a);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return xe;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?xe:c.status==="dirty"||r.value==="dirty"?co(c.value):c});{if(r.value==="aborted")return xe;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?xe:l.status==="dirty"||r.value==="dirty"?co(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,a);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?xe:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?xe:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Sa(o))return o;const l=n.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Sa(o)?Promise.resolve(n.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);Te.assertNever(n)}}Ss.create=(e,t,r)=>new Ss({schema:e,typeName:ge.ZodEffects,effect:t,...be(r)});Ss.createWithPreprocess=(e,t,r)=>new Ss({schema:t,effect:{type:"preprocess",transform:e},typeName:ge.ZodEffects,...be(r)});class Xs extends je{_parse(t){return this._getType(t)===ne.undefined?or(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xs.create=(e,t)=>new Xs({innerType:e,typeName:ge.ZodOptional,...be(t)});class Ci extends je{_parse(t){return this._getType(t)===ne.null?or(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ci.create=(e,t)=>new Ci({innerType:e,typeName:ge.ZodNullable,...be(t)});class fd extends je{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===ne.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fd.create=(e,t)=>new fd({innerType:e,typeName:ge.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...be(t)});class md extends je{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return sd(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ar(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Ar(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}md.create=(e,t)=>new md({innerType:e,typeName:ge.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...be(t)});class df extends je{_parse(t){if(this._getType(t)!==ne.nan){const s=this._getOrReturnCtx(t);return re(s,{code:G.invalid_type,expected:ne.nan,received:s.parsedType}),xe}return{status:"valid",value:t.data}}}df.create=e=>new df({typeName:ge.ZodNaN,...be(e)});const t8=Symbol("zod_brand");class Ry extends je{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class iu extends je{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?xe:a.status==="dirty"?(r.dirty(),co(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?xe:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(t,r){return new iu({in:t,out:r,typeName:ge.ZodPipeline})}}class pd extends je{_parse(t){const r=this._def.innerType._parse(t),s=n=>(Sa(n)&&(n.value=Object.freeze(n.value)),n);return sd(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}}pd.create=(e,t)=>new pd({innerType:e,typeName:ge.ZodReadonly,...be(t)});function N1(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function f_(e,t={},r){return e?Sl.create().superRefine((s,n)=>{var a,o;const l=e(s);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=N1(t,s),f=(u=(d=h.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;n.addIssue({code:"custom",...h,fatal:f})}});if(!l){const c=N1(t,s),d=(o=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0;n.addIssue({code:"custom",...c,fatal:d})}}):Sl.create()}const r8={object:Ye.lazycreate};var ge;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ge||(ge={}));const s8=(e,t={message:`Input not instance of ${e.name}`})=>f_(r=>r instanceof e,t),m_=gs.create,p_=ki.create,n8=df.create,i8=Si.create,g_=nd.create,a8=_a.create,o8=of.create,l8=id.create,c8=ad.create,d8=Sl.create,u8=ha.create,h8=Pn.create,f8=lf.create,m8=ws.create,p8=Ye.create,g8=Ye.strictCreate,x8=od.create,y8=fm.create,v8=ld.create,b8=tn.create,w8=cd.create,N8=cf.create,j8=Ca.create,k8=ko.create,S8=dd.create,_8=ud.create,C8=_i.create,E8=hd.create,T8=_l.create,j1=Ss.create,P8=Xs.create,A8=Ci.create,R8=Ss.createWithPreprocess,M8=iu.create,F8=()=>m_().optional(),O8=()=>p_().optional(),I8=()=>g_().optional(),D8={string:e=>gs.create({...e,coerce:!0}),number:e=>ki.create({...e,coerce:!0}),boolean:e=>nd.create({...e,coerce:!0}),bigint:e=>Si.create({...e,coerce:!0}),date:e=>_a.create({...e,coerce:!0})},L8=xe;var nr=Object.freeze({__proto__:null,defaultErrorMap:kl,setErrorMap:RO,getErrorMap:sf,makeIssue:nf,EMPTY_PATH:MO,addIssueToContext:re,ParseStatus:Kt,INVALID:xe,DIRTY:co,OK:or,isAborted:l0,isDirty:c0,isValid:Sa,isAsync:sd,get util(){return Te},get objectUtil(){return o0},ZodParsedType:ne,getParsedType:hn,ZodType:je,datetimeRegex:u_,ZodString:gs,ZodNumber:ki,ZodBigInt:Si,ZodBoolean:nd,ZodDate:_a,ZodSymbol:of,ZodUndefined:id,ZodNull:ad,ZodAny:Sl,ZodUnknown:ha,ZodNever:Pn,ZodVoid:lf,ZodArray:ws,ZodObject:Ye,ZodUnion:od,ZodDiscriminatedUnion:fm,ZodIntersection:ld,ZodTuple:tn,ZodRecord:cd,ZodMap:cf,ZodSet:Ca,ZodFunction:ko,ZodLazy:dd,ZodLiteral:ud,ZodEnum:_i,ZodNativeEnum:hd,ZodPromise:_l,ZodEffects:Ss,ZodTransformer:Ss,ZodOptional:Xs,ZodNullable:Ci,ZodDefault:fd,ZodCatch:md,ZodNaN:df,BRAND:t8,ZodBranded:Ry,ZodPipeline:iu,ZodReadonly:pd,custom:f_,Schema:je,ZodSchema:je,late:r8,get ZodFirstPartyTypeKind(){return ge},coerce:D8,any:d8,array:m8,bigint:i8,boolean:g_,date:a8,discriminatedUnion:y8,effect:j1,enum:C8,function:k8,instanceof:s8,intersection:v8,lazy:S8,literal:_8,map:N8,nan:n8,nativeEnum:E8,never:h8,null:c8,nullable:A8,number:p_,object:p8,oboolean:I8,onumber:O8,optional:P8,ostring:F8,pipeline:M8,preprocess:R8,promise:T8,record:w8,set:j8,strictObject:g8,string:m_,symbol:o8,transformer:j1,tuple:b8,undefined:l8,union:x8,unknown:u8,void:f8,NEVER:L8,ZodIssueCode:G,quotelessJson:AO,ZodError:Ar}),My="Progress",Fy=100,[$8,YV]=Mn(My),[U8,z8]=$8(My),x_=p.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:n,getValueLabel:a=B8,...o}=e;(n||n===0)&&!k1(n)&&console.error(V8(`${n}`,"Progress"));const l=k1(n)?n:Fy;s!==null&&!S1(s,l)&&console.error(H8(`${s}`,"Progress"));const c=S1(s,l)?s:null,d=uf(c)?a(c,l):void 0;return i.jsx(U8,{scope:r,value:c,max:l,children:i.jsx(ye.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":uf(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":b_(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});x_.displayName=My;var y_="ProgressIndicator",v_=p.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,n=z8(y_,r);return i.jsx(ye.div,{"data-state":b_(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...s,ref:t})});v_.displayName=y_;function B8(e,t){return`${Math.round(e/t*100)}%`}function b_(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function uf(e){return typeof e=="number"}function k1(e){return uf(e)&&!isNaN(e)&&e>0}function S1(e,t){return uf(e)&&!isNaN(e)&&e<=t&&e>=0}function V8(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Fy}\`.`}function H8(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Fy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var w_=x_,W8=v_;const Ac=p.forwardRef(({className:e,value:t,...r},s)=>i.jsx(w_,{ref:s,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(W8,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ac.displayName=w_.displayName;const q8=nr.object({age:nr.number().min(1).max(120).optional(),weight:nr.string().optional(),height:nr.string().optional(),medicalConditions:nr.array(nr.string()).optional(),medications:nr.array(nr.string()).optional()});function G8(){const[e,t]=p.useState(!1),{toast:r}=Ri(),s=Ml(),[,n]=Ir(),{data:a,isLoading:o}=Ot({queryKey:["/api/health-profile"]}),{data:l}=Ot({queryKey:["/api/health-metrics"]}),c=(a==null?void 0:a.profileData)||{},d=a&&((a==null?void 0:a.profileData)||(a==null?void 0:a.completionPercentage)>0),h=(()=>{var b;if(!c)return 0;let y=0,m=15;return c.age&&y++,c.gender&&y++,c.height&&y++,c.weight&&y++,c.activityLevel&&y++,c.dietType&&y++,c.sleepHours&&y++,c.sleepQuality&&y++,c.stressLevel&&y++,((b=c.healthGoals)==null?void 0:b.length)>0&&(y+=2),c.chronicConditions&&y++,c.allergies&&y++,c.familyHistory&&y++,c.currentMedications&&y++,c.supplements&&y++,Math.round(y/m*100)})();if(i0({resolver:a0(q8),defaultValues:{age:c.age||void 0,weight:c.weight||"",height:c.height||"",medicalConditions:c.medicalConditions||[],medications:c.medications||[]}}),Zs({mutationFn:async y=>await at("/api/health-profile",{method:"PUT",body:JSON.stringify(y)}),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/health-profile"]}),t(!1),r({title:"  ",description:"   ",className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0"})},onError:()=>{r({title:"",description:"   ",variant:"destructive"})}}),o)return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[i.jsx(bs,{}),i.jsx("main",{className:"px-3 py-4 pb-24",children:i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((y,m)=>i.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm rounded-2xl p-6 animate-pulse",children:[i.jsx("div",{className:"h-5 bg-slate-200 dark:bg-slate-700 rounded w-3/4 mb-3"}),i.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2"})]},m))})}),i.jsx(ar,{})]});const f=y=>({sedentary:{label:"",icon:"",color:"bg-gray-100 text-gray-700"},light:{label:" ",icon:"",color:"bg-blue-100 text-blue-700"},moderate:{label:" ",icon:"",color:"bg-green-100 text-green-700"},active:{label:"",icon:"",color:"bg-orange-100 text-orange-700"},very_active:{label:" ",icon:"",color:"bg-red-100 text-red-700"}})[y]||{label:y,icon:"",color:"bg-gray-100 text-gray-700"},g={weight_loss:{label:" ",icon:"",color:"bg-blue-100 text-blue-700"},muscle_gain:{label:" ",icon:"",color:"bg-purple-100 text-purple-700"},improve_fitness:{label:"",icon:"",color:"bg-green-100 text-green-700"},reduce_stress:{label:" ",icon:"",color:"bg-indigo-100 text-indigo-700"},better_sleep:{label:" ",icon:"",color:"bg-indigo-100 text-indigo-700"},healthy_eating:{label:"",icon:"",color:"bg-emerald-100 text-emerald-700"},quit_smoking:{label:" ",icon:"",color:"bg-red-100 text-red-700"},manage_condition:{label:" ",icon:"",color:"bg-orange-100 text-orange-700"},increase_energy:{label:" ",icon:"",color:"bg-yellow-100 text-yellow-700"},mental_health:{label:"",icon:"",color:"bg-purple-100 text-purple-700"},preventive_care:{label:"",icon:"",color:"bg-cyan-100 text-cyan-700"},longevity:{label:"",icon:"",color:"bg-teal-100 text-teal-700"}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[i.jsx(bs,{}),i.jsxs("main",{className:"px-3 py-4 pb-24",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"bg-gradient-to-r from-medical-blue via-blue-500 to-trust-green relative overflow-hidden rounded-2xl",children:[i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,white_1px,transparent_0)] bg-[length:20px_20px]"})}),i.jsxs("div",{className:"relative p-5 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl border border-white/30 shadow-lg",children:i.jsx(wa,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"EVERLIV HEALTH "}),i.jsx("p",{className:"text-white/90 text-sm font-medium",children:"  "})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-white/80",children:""}),i.jsx("div",{className:"text-lg font-bold",children:"2.0"})]})]}),d&&i.jsxs("div",{className:"bg-white/20 rounded-xl p-3 backdrop-blur-sm border border-white/30",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-white/80 text-sm font-medium",children:" "}),i.jsxs("span",{className:"text-white text-sm font-bold",children:[h,"%"]})]}),i.jsx("div",{className:"bg-white/20 rounded-full overflow-hidden backdrop-blur-sm",children:i.jsx("div",{className:"h-2 bg-gradient-to-r from-white via-white/95 to-white/90 transition-all duration-700 ease-out rounded-full relative overflow-hidden",style:{width:`${h}%`},children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]})]})]})}),d?i.jsx(J,{className:"border-0 shadow-xl bg-gradient-to-br from-green-50 via-white to-emerald-50/30 dark:from-green-950/30 dark:via-slate-800 dark:to-emerald-950/30 mb-6",children:i.jsx(me,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500/15 to-emerald-500/10 rounded-2xl border border-green-200/50 dark:border-green-800/50 shadow-sm",children:i.jsx(Mr,{className:"w-6 h-6 text-green-600"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-lg mb-1 flex items-center gap-2",children:[" ",i.jsx(fr,{className:"w-5 h-5 text-green-500"})]}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"        "})]})]})})}):i.jsx(J,{className:"border-0 shadow-xl bg-gradient-to-br from-red-50 via-white to-orange-50/30 dark:from-red-950/30 dark:via-slate-800 dark:to-orange-950/30 mb-6",children:i.jsx(me,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500/15 to-orange-500/10 rounded-2xl border border-red-200/50 dark:border-red-800/50 shadow-sm",children:i.jsx(Kr,{className:"w-6 h-6 text-red-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"   "}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4 leading-relaxed",children:"              "}),i.jsxs(X,{onClick:()=>n("/app/health-profile"),className:"bg-gradient-to-r from-medical-blue to-trust-green hover:opacity-90 text-white rounded-xl shadow-lg","data-testid":"button-create-profile",children:[i.jsx(Nn,{className:"w-4 h-4 mr-2"})," "]})]})]})})}),d&&i.jsxs(J,{className:"border-0 shadow-xl bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm mb-6",children:[i.jsx(yt,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(St,{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-medical-blue/15 to-trust-green/10 rounded-xl border border-medical-blue/20 shadow-sm",children:i.jsx(qt,{className:"w-5 h-5 text-medical-blue"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-lg font-bold",children:" "}),i.jsx("p",{className:"text-xs text-muted-foreground font-normal mt-0.5",children:"   "})]})]}),i.jsxs(X,{"data-testid":"button-edit-profile",variant:"outline",size:"sm",onClick:()=>n("/app/health-profile?edit=true"),className:"rounded-xl border-2 hover:shadow-md transition-all duration-200",children:[i.jsx(ry,{className:"w-4 h-4 mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:""}),i.jsx("span",{className:"sm:hidden",children:""})]})]})}),i.jsxs(me,{className:"pt-0",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(J,{className:"border-0 shadow-md bg-gradient-to-br from-blue-50 to-medical-blue/5 dark:from-blue-950/20 dark:to-slate-800",children:i.jsxs(me,{className:"p-4 text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx("div",{className:"p-2 bg-medical-blue/15 rounded-lg",children:i.jsx(ml,{className:"w-4 h-4 text-medical-blue"})})}),i.jsx("div",{className:"text-2xl font-bold text-medical-blue mb-1","data-testid":"text-age",children:c.age||""}),i.jsx("div",{className:"text-xs text-muted-foreground",children:""})]})}),i.jsx(J,{className:"border-0 shadow-md bg-gradient-to-br from-purple-50 to-purple-500/5 dark:from-purple-950/20 dark:to-slate-800",children:i.jsxs(me,{className:"p-4 text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx("div",{className:"p-2 bg-purple-500/15 rounded-lg",children:i.jsx(Kr,{className:"w-4 h-4 text-purple-600"})})}),i.jsx("div",{className:"text-xl font-bold mb-1",children:c.gender==="male"?"":c.gender==="female"?"":""}),i.jsx("div",{className:"text-xs text-muted-foreground",children:c.gender==="male"?"":c.gender==="female"?"":""})]})}),i.jsx(J,{className:"border-0 shadow-md bg-gradient-to-br from-green-50 to-trust-green/5 dark:from-green-950/20 dark:to-slate-800",children:i.jsxs(me,{className:"p-4 text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx("div",{className:"p-2 bg-trust-green/15 rounded-lg",children:i.jsx(sy,{className:"w-4 h-4 text-trust-green"})})}),i.jsx("div",{className:"text-2xl font-bold text-trust-green mb-1","data-testid":"text-weight",children:c.weight||""}),i.jsx("div",{className:"text-xs text-muted-foreground",children:""})]})}),i.jsx(J,{className:"border-0 shadow-md bg-gradient-to-br from-orange-50 to-orange-500/5 dark:from-orange-950/20 dark:to-slate-800",children:i.jsxs(me,{className:"p-4 text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx("div",{className:"p-2 bg-orange-500/15 rounded-lg",children:i.jsx(ty,{className:"w-4 h-4 text-orange-600"})})}),i.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1","data-testid":"text-height",children:c.height||""}),i.jsx("div",{className:"text-xs text-muted-foreground",children:""})]})})]}),c.activityLevel&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[i.jsx(ot,{className:"w-4 h-4 text-orange-500"})," "]}),i.jsxs(de,{className:`${f(c.activityLevel).color} border-0 px-3 py-1 text-sm font-medium rounded-full`,children:[i.jsx("span",{className:"mr-1",children:f(c.activityLevel).icon}),f(c.activityLevel).label]})]}),c.healthGoals&&c.healthGoals.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[i.jsx(Gt,{className:"w-4 h-4 text-pink-500"})," ",i.jsx(de,{className:"text-xs px-2 py-0.5",children:c.healthGoals.length})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.healthGoals.slice(0,4).map(y=>{const m=g[y]||{label:y,icon:"",color:"bg-gray-100 text-gray-700"};return i.jsxs(de,{className:`${m.color} border-0 px-3 py-1 text-xs font-medium rounded-full`,children:[i.jsx("span",{className:"mr-1",children:m.icon}),m.label]},y)}),c.healthGoals.length>4&&i.jsxs(de,{className:"bg-slate-100 text-slate-600 border-0 px-3 py-1 text-xs rounded-full",children:["+",c.healthGoals.length-4]})]})]})]})]}),d&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.stressLevel&&i.jsx(J,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 via-white to-purple-100/30 dark:from-purple-950/20 dark:via-slate-800 dark:to-purple-900/20",children:i.jsxs(me,{className:"p-4 text-center",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500/15 to-violet-500/10 rounded-2xl mx-auto mb-3 w-fit",children:i.jsx(gt,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:[c.stressLevel,"/10"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:" "}),i.jsx(Ac,{value:c.stressLevel*10,className:"h-1.5 mt-2"})]})}),c.sleepHours&&i.jsx(J,{className:"border-0 shadow-lg bg-gradient-to-br from-indigo-50 via-white to-indigo-100/30 dark:from-indigo-950/20 dark:via-slate-800 dark:to-indigo-900/20",children:i.jsxs(me,{className:"p-4 text-center",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500/15 to-blue-500/10 rounded-2xl mx-auto mb-3 w-fit",children:i.jsx(bi,{className:"w-5 h-5 text-indigo-600"})}),i.jsxs("div",{className:"text-2xl font-bold text-indigo-600 mb-1",children:[c.sleepHours,""]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:" "}),i.jsx("div",{className:"mt-2 text-xs",children:c.sleepHours>=7&&c.sleepHours<=9?" ":c.sleepHours<7?" ":" "})]})}),c.waterIntake&&i.jsx(J,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 via-white to-cyan-100/30 dark:from-blue-950/20 dark:via-slate-800 dark:to-cyan-900/20",children:i.jsxs(me,{className:"p-4 text-center",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500/15 to-cyan-500/10 rounded-2xl mx-auto mb-3 w-fit",children:i.jsx(xl,{className:"w-5 h-5 text-blue-600"})}),i.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:c.waterIntake}),i.jsx("div",{className:"text-xs text-muted-foreground",children:" "}),i.jsx("div",{className:"mt-2 text-xs",children:c.waterIntake>=8?" ":c.waterIntake>=6?" ":"  "})]})}),i.jsx(J,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 via-white to-emerald-100/30 dark:from-green-950/20 dark:via-slate-800 dark:to-emerald-900/20",children:i.jsxs(me,{className:"p-4 text-center",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500/15 to-emerald-500/10 rounded-2xl mx-auto mb-3 w-fit",children:i.jsx(wr,{className:"w-5 h-5 text-green-600"})}),i.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:Array.isArray(l)?l.length:0}),i.jsx("div",{className:"text-xs text-muted-foreground",children:" "}),i.jsx("div",{className:"mt-2 text-xs text-green-600 font-medium",children:"  "})]})})]})]}),i.jsx(ar,{})]})}const gd=p.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));gd.displayName="Textarea";function K8(){const[,e]=Ir(),[t,r]=p.useState(""),[s,n]=p.useState([]),[a,o]=p.useState(new Set),{toast:l}=Ri(),{data:c}=Ot({queryKey:["/api/health-profile"]}),{data:d}=Ot({queryKey:["/api/blood-analyses"]}),u=!!(c&&(c!=null&&c.profileData||(c==null?void 0:c.completionPercentage)>0)),h=!!(d&&Array.isArray(d)&&d.length>0),f=Zs({mutationFn:async k=>await at("/api/ai-consultation",{method:"POST",body:JSON.stringify(k)}),onSuccess:(k,C)=>{const S={question:C.question,response:k,timestamp:new Date};n(E=>[S,...E]),r(""),l({title:"  !",description:"-   ",className:"bg-gradient-to-r from-medical-blue to-trust-green text-white border-0"})},onError:()=>{l({title:"",description:"   ",variant:"destructive"})}}),g=()=>{t.trim()&&f.mutate({question:t.trim(),healthProfile:c,bloodAnalyses:d})},y=k=>{switch(k){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-orange-100 text-orange-700 border-orange-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},m=k=>{switch(k){case"high":return i.jsx(ba,{className:"w-4 h-4"});case"medium":return i.jsx(wr,{className:"w-4 h-4"});case"low":return i.jsx(fr,{className:"w-4 h-4"});default:return i.jsx(Ec,{className:"w-4 h-4"})}},b=[" :   ?","  ?"," "," : "],v={weight_loss:{title:" ",icon:"",recommendations:["   300-500   "," 30   4-5   ","    1.6-2.2 / "," 2-3   ","    "]},muscle_gain:{title:"  ",icon:"",recommendations:["  3-4   "," 2.0-2.5     ","   300-500 "," 7-9   ","  "]},improve_fitness:{title:"  ",icon:"",recommendations:["  150     ","    ","  ","   ","   "]},reduce_stress:{title:" ",icon:"",recommendations:["  10-15  ","   ","   ","   ","     "]},better_sleep:{title:" ",icon:"",recommendations:["       ","   16:00","   ","      ","  "]},healthy_eating:{title:" ",icon:"",recommendations:[" 5-7      ","  ","  ","   ","   "]},quit_smoking:{title:"  ",icon:"",recommendations:["    ","    ","   ","    ","   "]},manage_condition:{title:" ",icon:"",recommendations:["   ","   ","  ","  ","    "]},increase_energy:{title:" ",icon:"",recommendations:["     ","     ","  ","  ","  D  B12  "]},mental_health:{title:" ",icon:"",recommendations:["   ","  ","    "," ,   ","   "]},preventive_care:{title:" ",icon:"",recommendations:["  ","     ","  ","   "," "]},longevity:{title:"",icon:"",recommendations:["   ","   ","    ","  ","   "]}},N=(()=>{var C;return!u||!((C=c==null?void 0:c.profileData)!=null&&C.healthGoals)?[]:c.profileData.healthGoals.map(S=>v[S]).filter(Boolean)})(),j=k=>{const C=new Set(a);C.has(k)?C.delete(k):C.add(k),o(C)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800 overflow-x-hidden",children:[i.jsx(bs,{}),i.jsxs("main",{className:"px-3 py-4 pb-24",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"bg-gradient-to-r from-medical-blue via-blue-500 to-trust-green relative overflow-hidden rounded-2xl",children:[i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,white_1px,transparent_0)] bg-[length:20px_20px]"})}),i.jsxs("div",{className:"relative p-5 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("button",{onClick:()=>e("/app/dashboard"),className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl border border-white/30 shadow-lg transition-all hover:bg-white/30",children:i.jsx(Fa,{className:"w-5 h-5"})}),i.jsxs(de,{className:"bg-white/20 backdrop-blur-sm text-white border border-white/30 px-3 py-1",children:[i.jsx(gt,{className:"w-3 h-3 mr-1.5"})," "]})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl border border-white/30 shadow-lg",children:i.jsx(wa,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"EVERLIV HEALTH "}),i.jsx("p",{className:"text-white/90 text-sm font-medium",children:"     "})]})]}),(u||h)&&i.jsxs("div",{className:"bg-white/20 rounded-xl p-3 backdrop-blur-sm border border-white/30",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(pt,{className:"w-4 h-4 animate-pulse"}),i.jsx("span",{className:"text-sm font-medium",children:" :"})]}),i.jsxs("div",{className:"flex gap-2",children:[u&&i.jsxs(de,{className:"bg-white/30 text-white border-white/20 text-xs",children:[i.jsx(Kr,{className:"w-3 h-3 mr-1"})," "]}),h&&i.jsxs(de,{className:"bg-white/30 text-white border-white/20 text-xs",children:[i.jsx(SA,{className:"w-3 h-3 mr-1"})," "]})]})]})]})]})}),i.jsx(J,{className:"mb-6 p-4 border-0 shadow-lg bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(ey,{className:"w-5 h-5 text-medical-blue"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"  "})]}),i.jsx(gd,{placeholder:":          ...",value:t,onChange:k=>r(k.target.value),className:"min-h-[100px] resize-none",disabled:f.isPending}),i.jsx("div",{className:"flex gap-2",children:i.jsx(X,{onClick:g,disabled:!t.trim()||f.isPending,className:"bg-gradient-to-r from-medical-blue to-trust-green hover:from-medical-blue/90 hover:to-trust-green/90 text-white border-0 shadow-lg flex-1",children:f.isPending?i.jsxs(i.Fragment,{children:[i.jsx(mA,{className:"w-4 h-4 mr-2 animate-spin"}),"..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Nk,{className:"w-4 h-4 mr-2"})," "]})})})]})}),N.length>0&&i.jsx(J,{className:"mb-6 p-5 border-0 shadow-lg bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[i.jsx(Gt,{className:"w-5 h-5 text-medical-blue"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:" "}),i.jsx(de,{className:"bg-trust-green/10 text-trust-green border-trust-green/20 text-xs px-2 py-1 rounded-full whitespace-nowrap",children:" "})]}),i.jsx("div",{className:"grid gap-4",children:N.map((k,C)=>i.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50/50 dark:from-slate-700 dark:to-slate-600 rounded-xl p-4 border border-slate-200/50 dark:border-slate-600/50",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("span",{className:"text-2xl",children:k.icon}),i.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:k.title})]}),i.jsxs("div",{className:"space-y-2",children:[(a.has(C)?k.recommendations:k.recommendations.slice(0,3)).map((S,E)=>i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-trust-green rounded-full mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:S})]},E)),k.recommendations.length>3&&i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>j(C),className:"text-xs text-trust-green hover:text-trust-green hover:bg-trust-green/10 p-1 h-auto mt-2",children:a.has(C)?` ${k.recommendations.length-3} `:`+${k.recommendations.length-3}  `})]})]},C))}),i.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/20 rounded-lg p-3 border border-amber-200 dark:border-amber-800/30",children:i.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-300 flex items-center gap-2",children:[i.jsx(Ec,{className:"w-3 h-3"}),"        .       ."]})})]})}),b.length>0&&s.length===0&&i.jsx(J,{className:"mb-6 p-4 border-0 shadow-lg bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ec,{className:"w-5 h-5 text-energy-orange"}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:" "})]}),i.jsx("div",{className:"grid gap-2",children:b.map((k,C)=>i.jsx(X,{variant:"outline",onClick:()=>r(k),className:"text-left justify-start h-auto py-3 px-4 hover:bg-gray-50 dark:hover:bg-slate-700 whitespace-normal text-wrap",disabled:f.isPending,children:i.jsx("span",{className:"text-xs leading-relaxed break-words",children:k})},C))})]})}),s.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(lo,{className:"w-5 h-5"})," "]}),s.map((k,C)=>i.jsx(J,{className:"p-5 border-0 shadow-lg bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-medical-blue rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(Kr,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:" :"}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:k.question})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-trust-green rounded-lg flex items-center justify-center",children:i.jsx(gt,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:" "}),i.jsxs(de,{className:`${y(k.response.priority)} border text-xs`,children:[m(k.response.priority),i.jsx("span",{className:"ml-1 capitalize",children:k.response.priority})]})]}),i.jsx("div",{className:"bg-green-50 dark:bg-green-950/20 rounded-lg p-4",children:i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:k.response.analysis})}),k.response.recommendations.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[i.jsx(fr,{className:"w-4 h-4 text-trust-green"}),":"]}),i.jsx("ul",{className:"space-y-2",children:k.response.recommendations.map((S,E)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-trust-green rounded-full mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:S})]},E))})]}),k.response.followUp.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[i.jsx(wr,{className:"w-4 h-4 text-energy-orange"})," :"]}),i.jsx("ul",{className:"space-y-2",children:k.response.followUp.map((S,E)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-energy-orange rounded-full mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:S})]},E))})]}),i.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/20 rounded-lg p-3",children:i.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:[" ",k.response.disclaimer]})}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:k.timestamp.toLocaleString("ru-RU")})]})]})},C))]}),!u&&!h&&i.jsx(J,{className:"p-5 border-0 shadow-lg bg-amber-50 dark:bg-amber-950/20",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ba,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-amber-800 dark:text-amber-300 mb-1",children:" "}),i.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"          ."}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx(X,{size:"sm",variant:"outline",onClick:()=>e("/app/health-profile"),className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:" "}),i.jsx(X,{size:"sm",variant:"outline",onClick:()=>e("/app/blood-analysis"),className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:" "})]})]})]})})]}),i.jsx(ar,{})]})}function Q8(){const[,e]=Ir(),{data:t}=Ot({queryKey:["/api/health-profile"]}),r={weight_loss:{title:" ",icon:"",category:" ",recommendations:["L- 2-3  30     ","  200     ","   400-500  EGCG ","CLA (  ) 3.2    "," 500  3       ","  16:8 -   12:00-20:00","HIIT  20  3   "]},muscle_gain:{title:"  ",icon:"",category:" ",recommendations:["  5    20  5 ","  25-30   ","HMB 3   (1 , 1 , 1  )","- 3.2     "," D3 4000  + K2 100    ","ZMA ( 15 +  450 + B6 10.5)  "," +  6  30     "]},improve_fitness:{title:"  ",icon:"",category:" ",recommendations:["  :  1500 +  1200"," Q10 100      "," : 3   + 1  ","  3-4     45 "," : 70-85%    (220-)"," : +2.5-5%   2 ",": /  2   "]},reduce_stress:{title:" ",icon:"",category:" ",recommendations:[" 300-600       ","  400     ","L- 200      ","  200-400     ","GABA 750      "," +   500    ","-3 EPA 1000     "]},better_sleep:{title:" ",icon:"",category:"",recommendations:[" 0.5-3   30-60    (  0.5 )"," 3    30      ","  200-400   1-2   ","L- 500-1000     "," 500-2000      ","   200   (  18:00)"," :  +  +   "]},healthy_eating:{title:" ",icon:"",category:"",recommendations:[" 10-50       ","-3   2-3 EPA+DHA   ","      ","  5-10    "," 500-1000      ","     ","   3-5   "]},quit_smoking:{title:"  ",icon:"",category:"   ",recommendations:["NAC (N-) 600      "," C 1000 +  15   ","  :  21-14-7 ","L- 500    ","   B   "," 400     "," :  4-7-8   "]},manage_condition:{title:" ",icon:"",category:" ",recommendations:["     ","  : , , ","    3-6 ","    ","     ","    ","     "]},increase_energy:{title:" ",icon:"",category:"  ",recommendations:[" Q10 100-200     "," B12 1000    "," 18-25    C   ( )"," D3 4000     <30 /"," :  +  500  ","PQQ 20  + CoQ10   ","  (NAD+ ) 300   "]},mental_health:{title:" ",icon:"",category:" ",recommendations:["-3 DHA 1000    "," L- 144   ","   B  ","5-HTP 100-200    "," :  15-20  ","-   "," :   30   "]},preventive_care:{title:" ",icon:"",category:" ",recommendations:["  Check-up   "," D3 + K2     ","-3  - "," :  C, E, , "," : ,   ","     ","  : , , "]},longevity:{title:"",icon:"",category:" ",recommendations:[" 250-500 +    "," 1-3     "," 500 (  )   "," +    ","  16:8  18:6  "," :    ","     "]}},s=!!(t&&(t!=null&&t.profileData||(t==null?void 0:t.completionPercentage)>0)),a=(()=>{var l;return!s||!((l=t==null?void 0:t.profileData)!=null&&l.healthGoals)?[]:t.profileData.healthGoals.map(c=>r[c]).filter(Boolean)})();return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[i.jsx(bs,{}),i.jsxs("main",{className:"p-4 pb-24",children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"bg-gradient-to-r from-medical-blue via-trust-green to-energy-orange relative overflow-hidden rounded-xl",children:[i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,white_1px,transparent_0)] bg-[length:20px_20px]"})}),i.jsx("div",{className:"relative p-4 text-white",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-xl border border-white/30 shadow-lg flex items-center justify-center",children:i.jsx(Gt,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold tracking-tight",children:" "}),i.jsx("p",{className:"text-white/90 text-sm",children:"   "})]})]})})]})}),a.length>0?i.jsx("div",{className:"space-y-4",children:a.map((o,l)=>i.jsx(J,{className:"p-4 border-0 shadow-sm bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xl",children:o.icon}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:o.title}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o.category})]})]}),i.jsx("div",{className:"space-y-2",children:o.recommendations.map((c,d)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gradient-to-r from-slate-50 to-blue-50/30 dark:from-slate-700 dark:to-slate-600 rounded-lg border border-slate-200/50 dark:border-slate-600/50",children:[i.jsx(vl,{className:"w-4 h-4 text-trust-green mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:c})]},d))}),i.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:i.jsxs(X,{onClick:()=>e("/ai-consultation"),variant:"outline",size:"sm",className:"w-full h-8 text-xs bg-gradient-to-r from-medical-blue/5 to-trust-green/5 hover:from-medical-blue/10 hover:to-trust-green/10 border-medical-blue/20 text-medical-blue",children:[i.jsx(wr,{className:"w-3 h-3 mr-2"}),"  -",i.jsx(lh,{className:"w-3 h-3 ml-2"})]})})]})},l))}):i.jsx(J,{className:"p-5 text-center border-0 shadow-sm bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-medical-blue to-trust-green rounded-xl flex items-center justify-center mx-auto",children:i.jsx(Gt,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"  "}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"       ,      "}),i.jsxs(X,{onClick:()=>e("/app/health-profile"),size:"sm",className:"bg-gradient-to-r from-medical-blue to-trust-green hover:from-medical-blue/90 hover:to-trust-green/90 text-white border-0",children:[i.jsx(ot,{className:"w-4 h-4 mr-2"}),"  "]})]})]})}),i.jsx(J,{className:"mt-4 p-4 border-0 shadow-sm bg-amber-50/90 dark:bg-amber-950/20 backdrop-blur-sm border border-amber-200 dark:border-amber-800/30",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ec,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-200 text-sm",children:" "}),i.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300 mt-1",children:"   .       .        ."})]})]})})]}),i.jsx(ar,{})]})}var Z8="Label",N_=p.forwardRef((e,t)=>i.jsx(ye.label,{...e,ref:t,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));N_.displayName=Z8;var j_=N_;const Y8=Yf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=p.forwardRef(({className:e,...t},r)=>i.jsx(j_,{ref:r,className:ke(Y8(),e),...t}));Pe.displayName=j_.displayName;function X8({data:e,onUpdate:t}){const r=(d,u)=>{if(!d||!u)return null;const h=u/100;return Number((d/(h*h)).toFixed(1))},s=d=>{const u=r(d,e.height);t({weight:d,...u&&{bmi:u}})},n=d=>{const u=r(e.weight,d);t({height:d,...u&&{bmi:u}})},a=d=>d?d<18.5?" ":d<25?" ":d<30?" ":"":"",o=d=>d?d<18.5?"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20":d<25?"text-green-600 bg-green-50 dark:bg-green-900/20":d<30?"text-orange-600 bg-orange-50 dark:bg-orange-900/20":"text-red-600 bg-red-50 dark:bg-red-900/20":"",l=d=>d?d<18.5?i.jsx(Bg,{className:"w-4 h-4"}):d<25?i.jsx(gl,{className:"w-4 h-4"}):d<30?i.jsx(wr,{className:"w-4 h-4"}):i.jsx(wr,{className:"w-4 h-4"}):null,c=d=>d?d<18.5?"   ":d<25?" !   ":d<30?"     ":"       ":"";return i.jsxs("div",{className:"space-y-4 md:space-y-6",children:[i.jsx(J,{className:"border-0 shadow-lg bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm",children:i.jsxs(me,{className:"p-5 md:p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2.5 bg-gradient-to-br from-medical-blue/15 to-blue-500/10 rounded-xl border border-medical-blue/20 shadow-sm",children:i.jsx(ml,{className:"w-5 h-5 text-medical-blue"})}),i.jsxs("div",{children:[i.jsx(Pe,{htmlFor:"age",className:"text-base md:text-lg font-semibold text-foreground block",children:""}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"    "})]})]}),e.age&&i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-50 dark:bg-green-900/20 rounded-full",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-400",children:""})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ie,{id:"age",type:"number",placeholder:"25",value:e.age||"",onChange:d=>t({age:parseInt(d.target.value)||void 0}),min:1,max:120,className:"h-12 md:h-14 text-base pl-12 bg-slate-50/50 dark:bg-slate-800/50 border-2 border-slate-200 dark:border-slate-700 rounded-xl focus:border-medical-blue focus:ring-2 focus:ring-medical-blue/20 transition-all duration-200","data-testid":"input-age"}),i.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:i.jsx("span",{className:"text-slate-400 text-sm font-medium",children:""})})]})]})}),i.jsx(J,{className:"border-0 shadow-lg bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm",children:i.jsxs(me,{className:"p-5 md:p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2.5 bg-gradient-to-br from-trust-green/15 to-emerald-500/10 rounded-xl border border-trust-green/20 shadow-sm",children:i.jsx(Kr,{className:"w-5 h-5 text-trust-green"})}),i.jsxs("div",{children:[i.jsx(Pe,{className:"text-base md:text-lg font-semibold text-foreground block",children:" "}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"   "})]})]}),e.gender&&i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-50 dark:bg-green-900/20 rounded-full",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-400",children:""})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[{value:"male",label:"",emoji:"",color:"from-blue-500/10 to-blue-600/5 border-blue-200 dark:border-blue-800"},{value:"female",label:"",emoji:"",color:"from-pink-500/10 to-pink-600/5 border-pink-200 dark:border-pink-800"}].map(d=>i.jsxs("button",{type:"button",onClick:()=>t({gender:d.value}),className:`relative p-4 md:p-5 rounded-xl border-2 transition-all duration-200 text-center group ${e.gender===d.value?"border-medical-blue bg-gradient-to-br from-medical-blue/15 to-blue-500/10 text-medical-blue shadow-lg scale-105":`bg-gradient-to-br ${d.color} hover:shadow-md hover:scale-102 hover:border-opacity-60`}`,"data-testid":`button-gender-${d.value}`,children:[e.gender===d.value&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("div",{className:"w-3 h-3 bg-medical-blue rounded-full flex items-center justify-center",children:i.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})}),i.jsx("div",{className:"text-2xl md:text-3xl mb-2 group-hover:scale-110 transition-transform duration-200",children:d.emoji}),i.jsx("div",{className:"text-sm md:text-base font-semibold",children:d.label})]},d.value))}),i.jsx("button",{type:"button",onClick:()=>t({gender:"other"}),className:`w-full mt-3 p-3 rounded-xl border-2 transition-all duration-200 text-center ${e.gender==="other"?"border-medical-blue bg-gradient-to-br from-medical-blue/15 to-blue-500/10 text-medical-blue shadow-lg":"border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/50 hover:bg-slate-100/50 dark:hover:bg-slate-700/50"}`,"data-testid":"button-gender-other",children:i.jsx("span",{className:"text-sm font-medium",children:"   "})})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[i.jsx(J,{className:"border-0 shadow-lg bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm",children:i.jsxs(me,{className:"p-5 md:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500/15 to-amber-500/10 rounded-xl border border-orange-200 dark:border-orange-800 shadow-sm",children:i.jsx(ty,{className:"w-4 h-4 text-orange-600"})}),i.jsxs("div",{children:[i.jsx(Pe,{className:"text-sm md:text-base font-semibold text-foreground block",children:""}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.height&&i.jsx("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-green-50 dark:bg-green-900/20 rounded-full",children:i.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ie,{type:"number",placeholder:"175",value:e.height||"",onChange:d=>n(parseInt(d.target.value)||0),className:"h-12 text-base pl-4 pr-12 bg-slate-50/50 dark:bg-slate-800/50 border-2 border-slate-200 dark:border-slate-700 rounded-xl focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 transition-all duration-200","data-testid":"input-height",min:100,max:250}),i.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:i.jsx("span",{className:"text-slate-500 text-sm font-medium",children:""})})]})]})}),i.jsx(J,{className:"border-0 shadow-lg bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm",children:i.jsxs(me,{className:"p-5 md:p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500/15 to-violet-500/10 rounded-xl border border-purple-200 dark:border-purple-800 shadow-sm",children:i.jsx(sy,{className:"w-4 h-4 text-purple-600"})}),i.jsxs("div",{children:[i.jsx(Pe,{className:"text-sm md:text-base font-semibold text-foreground block",children:""}),i.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.weight&&i.jsx("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-green-50 dark:bg-green-900/20 rounded-full",children:i.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ie,{type:"number",placeholder:"70",value:e.weight||"",onChange:d=>s(parseInt(d.target.value)||0),className:"h-12 text-base pl-4 pr-12 bg-slate-50/50 dark:bg-slate-800/50 border-2 border-slate-200 dark:border-slate-700 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200","data-testid":"input-weight",min:30,max:300}),i.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:i.jsx("span",{className:"text-slate-500 text-sm font-medium",children:""})})]})]})})]}),e.height&&e.weight&&e.bmi&&i.jsx(J,{className:"border-0 shadow-xl bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-800 dark:via-slate-700 dark:to-slate-600 border border-slate-200/50 dark:border-slate-600/50",children:i.jsxs(me,{className:"p-5 md:p-7",children:[i.jsxs("div",{className:"flex items-start justify-between mb-5",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-3 bg-gradient-to-br from-medical-blue/20 to-trust-green/15 rounded-2xl border border-medical-blue/30 shadow-sm",children:i.jsx(nA,{className:"w-6 h-6 text-medical-blue"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-foreground mb-1",children:"  "}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"     "})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl md:text-3xl font-bold text-medical-blue",children:e.bmi}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"/"})]})]}),i.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-2xl p-5 border-2 border-slate-200/50 dark:border-slate-600/50 shadow-inner",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-2 rounded-xl ${o(e.bmi)} border`,children:l(e.bmi)}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:" "}),i.jsx("div",{className:"text-lg font-bold",children:a(e.bmi)})]})]}),i.jsxs(de,{className:`${o(e.bmi)} border-2 px-3 py-1.5 text-sm font-bold rounded-full shadow-sm`,children:[e.bmi<18.5?"":e.bmi<25?"":e.bmi<30?"":"","  ",e.bmi]})]}),i.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50/50 dark:from-slate-700 dark:to-slate-600 rounded-xl p-4 border border-slate-200/50 dark:border-slate-600/50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-1.5 bg-medical-blue/15 rounded-lg flex-shrink-0",children:i.jsx(hA,{className:"w-4 h-4 text-medical-blue"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:c(e.bmi)})]})]})})]})]})})]})}function J8({data:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(ot,{className:"w-4 h-4"}),i.jsx("span",{children:" "})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>t({activityLevel:"sedentary"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.activityLevel==="sedentary"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({activityLevel:"light"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.activityLevel==="light"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:" "}),i.jsx("button",{onClick:()=>t({activityLevel:"moderate"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.activityLevel==="moderate"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({activityLevel:"active"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.activityLevel==="active"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({activityLevel:"very_active"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.activityLevel==="very_active"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:" "})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(Xx,{className:"w-4 h-4"}),i.jsx("span",{children:" "})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>t({exerciseFrequency:"never"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.exerciseFrequency==="never"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({exerciseFrequency:"1-2_week"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.exerciseFrequency==="1-2_week"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:"1-2 /"}),i.jsx("button",{onClick:()=>t({exerciseFrequency:"3-4_week"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.exerciseFrequency==="3-4_week"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:"3-4 /"}),i.jsx("button",{onClick:()=>t({exerciseFrequency:"5+_week"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.exerciseFrequency==="5+_week"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:"5+ /"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(wr,{className:"w-4 h-4"}),i.jsx("span",{children:"  "})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>t({fitnessLevel:"beginner"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.fitnessLevel==="beginner"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({fitnessLevel:"intermediate"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.fitnessLevel==="intermediate"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({fitnessLevel:"advanced"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.fitnessLevel==="advanced"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""})]})]})]})}var k_=["PageUp","PageDown"],S_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],__={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ll="Slider",[u0,eI,tI]=Kx(Ll),[C_,XV]=Mn(Ll,[tI]),[rI,mm]=C_(Ll),E_=p.forwardRef((e,t)=>{const{name:r,min:s=0,max:n=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[s],value:u,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:g=!1,form:y,...m}=e,b=p.useRef(new Set),v=p.useRef(0),N=o==="horizontal"?sI:nI,[j=[],k]=Xc({prop:u,defaultProp:d,onChange:L=>{var q;(q=[...b.current][v.current])==null||q.focus(),h(L)}}),C=p.useRef(j);function S(L){const z=cI(j,L);A(L,z)}function E(L){A(L,v.current)}function T(){const L=C.current[v.current];j[v.current]!==L&&f(j)}function A(L,z,{commit:q}={commit:!1}){const O=fI(a),M=mI(Math.round((L-s)/a)*a+s,O),F=rd(M,[s,n]);k((I=[])=>{const R=oI(I,F,z);if(hI(R,c*a)){v.current=R.indexOf(F);const V=String(R)!==String(I);return V&&q&&f(R),V?R:I}else return I})}return i.jsx(rI,{scope:e.__scopeSlider,name:r,disabled:l,min:s,max:n,valueIndexToChangeRef:v,thumbs:b.current,values:j,orientation:o,form:y,children:i.jsx(u0.Provider,{scope:e.__scopeSlider,children:i.jsx(u0.Slot,{scope:e.__scopeSlider,children:i.jsx(N,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:ue(m.onPointerDown,()=>{l||(C.current=j)}),min:s,max:n,inverted:g,onSlideStart:l?void 0:S,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&A(s,0,{commit:!0}),onEndKeyDown:()=>!l&&A(n,j.length-1,{commit:!0}),onStepKeyDown:({event:L,direction:z})=>{if(!l){const M=k_.includes(L.key)||L.shiftKey&&S_.includes(L.key)?10:1,F=v.current,I=j[F],R=a*M*z;A(I+R,F,{commit:!0})}}})})})})});E_.displayName=Ll;var[T_,P_]=C_(Ll,{startEdge:"left",endEdge:"right",size:"width",direction:1}),sI=p.forwardRef((e,t)=>{const{min:r,max:s,dir:n,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[h,f]=p.useState(null),g=Ce(t,N=>f(N)),y=p.useRef(void 0),m=Ny(n),b=m==="ltr",v=b&&!a||!b&&a;function x(N){const j=y.current||h.getBoundingClientRect(),k=[0,j.width],S=Oy(k,v?[r,s]:[s,r]);return y.current=j,S(N-j.left)}return i.jsx(T_,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:i.jsx(A_,{dir:m,"data-orientation":"horizontal",...u,ref:g,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const j=x(N.clientX);o==null||o(j)},onSlideMove:N=>{const j=x(N.clientX);l==null||l(j)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:N=>{const k=__[v?"from-left":"from-right"].includes(N.key);d==null||d({event:N,direction:k?-1:1})}})})}),nI=p.forwardRef((e,t)=>{const{min:r,max:s,inverted:n,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=p.useRef(null),h=Ce(t,u),f=p.useRef(void 0),g=!n;function y(m){const b=f.current||u.current.getBoundingClientRect(),v=[0,b.height],N=Oy(v,g?[s,r]:[r,s]);return f.current=b,N(m-b.top)}return i.jsx(T_,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:i.jsx(A_,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const b=y(m.clientY);a==null||a(b)},onSlideMove:m=>{const b=y(m.clientY);o==null||o(b)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:m=>{const v=__[g?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:v?-1:1})}})})}),A_=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:n,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=mm(Ll,r);return i.jsx(ye.span,{...d,ref:t,onKeyDown:ue(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):k_.concat(S_).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:ue(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(f)?f.focus():s(h)}),onPointerMove:ue(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&n(h)}),onPointerUp:ue(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),a(h))})})}),R_="SliderTrack",M_=p.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,n=mm(R_,r);return i.jsx(ye.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...s,ref:t})});M_.displayName=R_;var h0="SliderRange",F_=p.forwardRef((e,t)=>{const{__scopeSlider:r,...s}=e,n=mm(h0,r),a=P_(h0,r),o=p.useRef(null),l=Ce(t,o),c=n.values.length,d=n.values.map(f=>I_(f,n.min,n.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return i.jsx(ye.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...s,ref:l,style:{...e.style,[a.startEdge]:u+"%",[a.endEdge]:h+"%"}})});F_.displayName=h0;var f0="SliderThumb",O_=p.forwardRef((e,t)=>{const r=eI(e.__scopeSlider),[s,n]=p.useState(null),a=Ce(t,l=>n(l)),o=p.useMemo(()=>s?r().findIndex(l=>l.ref.current===s):-1,[r,s]);return i.jsx(iI,{...e,ref:a,index:o})}),iI=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:s,name:n,...a}=e,o=mm(f0,r),l=P_(f0,r),[c,d]=p.useState(null),u=Ce(t,x=>d(x)),h=c?o.form||!!c.closest("form"):!0,f=qk(c),g=o.values[s],y=g===void 0?0:I_(g,o.min,o.max),m=lI(s,o.values.length),b=f==null?void 0:f[l.size],v=b?dI(b,y,l.direction):0;return p.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${v}px)`},children:[i.jsx(u0.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(ye.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:u,style:g===void 0?{display:"none"}:e.style,onFocus:ue(e.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),h&&i.jsx(aI,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},s)]})});O_.displayName=f0;var aI=e=>{const{value:t,...r}=e,s=p.useRef(null),n=lS(t);return p.useEffect(()=>{const a=s.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(n!==t&&c){const d=new Event("input",{bubbles:!0});c.call(a,t),a.dispatchEvent(d)}},[n,t]),i.jsx("input",{style:{display:"none"},...r,ref:s,defaultValue:t})};function oI(e=[],t,r){const s=[...e];return s[r]=t,s.sort((n,a)=>n-a)}function I_(e,t,r){const a=100/(r-t)*(e-t);return rd(a,[0,100])}function lI(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function cI(e,t){if(e.length===1)return 0;const r=e.map(n=>Math.abs(n-t)),s=Math.min(...r);return r.indexOf(s)}function dI(e,t,r){const s=e/2,a=Oy([0,50],[0,s]);return(s-a(t)*r)*r}function uI(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function hI(e,t){if(t>0){const r=uI(e);return Math.min(...r)>=t}return!0}function Oy(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function fI(e){return(String(e).split(".")[1]||"").length}function mI(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var D_=E_,pI=M_,gI=F_,xI=O_;const hf=p.forwardRef(({className:e,...t},r)=>i.jsxs(D_,{ref:r,className:ke("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(pI,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(gI,{className:"absolute h-full bg-primary"})}),i.jsx(xI,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));hf.displayName=D_.displayName;function yI({data:e,onUpdate:t}){const r=n=>n?n<=3?"text-trust-green":n<=6?"text-warning-amber":"text-error-red":"",s=n=>n?n<=3?"text-trust-green":n<=6?"text-warning-amber":"text-error-red":"";return i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]}),i.jsxs(J,{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border-0",children:[i.jsxs(Pe,{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(gt,{className:"w-5 h-5 text-purple-500"}),i.jsx("span",{className:"font-medium",children:" "})]}),i.jsx("span",{className:`text-3xl font-bold ${r(e.stressLevel)}`,children:e.stressLevel||5})]}),i.jsx(hf,{value:[e.stressLevel||5],onValueChange:([n])=>t({stressLevel:n}),min:1,max:10,step:1,className:"w-full mb-2","data-testid":"slider-stress"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:""}),i.jsx("span",{children:""}),i.jsx("span",{children:""})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(qt,{className:"w-4 h-4"}),i.jsx("span",{children:" "})]}),i.jsx("span",{className:`text-2xl font-bold ${s(e.anxietyLevel)}`,children:e.anxietyLevel||5})]}),i.jsx(hf,{value:[e.anxietyLevel||5],onValueChange:([n])=>t({anxietyLevel:n}),min:1,max:10,step:1,className:"w-full","data-testid":"slider-anxiety"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:""}),i.jsx("span",{children:""}),i.jsx("span",{children:""})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(wr,{className:"w-4 h-4"}),i.jsx("span",{children:" "})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>t({moodChanges:"stable"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.moodChanges==="stable"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({moodChanges:"mild"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.moodChanges==="mild"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:" "}),i.jsx("button",{onClick:()=>t({moodChanges:"moderate"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.moodChanges==="moderate"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({moodChanges:"severe"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.moodChanges==="severe"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:" "})]})]}),i.jsx(J,{className:"p-4 bg-light-blue border-0",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(qt,{className:"w-5 h-5 text-medical-blue mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm mb-1",children:""}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"           .     ,  ,    ."})]})]})})]})}function vI({data:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(EA,{className:"w-4 h-4"}),i.jsx("span",{children:" "})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>t({dietType:"standard"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.dietType==="standard"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({dietType:"vegetarian"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.dietType==="vegetarian"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({dietType:"vegan"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.dietType==="vegan"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({dietType:"keto"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.dietType==="keto"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({dietType:"mediterranean"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.dietType==="mediterranean"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({dietType:"other"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.dietType==="other"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(aA,{className:"w-4 h-4"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>t({smokingStatus:"never"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.smokingStatus==="never"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({smokingStatus:"former"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.smokingStatus==="former"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({smokingStatus:"occasional"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.smokingStatus==="occasional"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({smokingStatus:"regular"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.smokingStatus==="regular"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(TA,{className:"w-4 h-4"}),i.jsx("span",{children:" "})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>t({alcoholConsumption:"none"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.alcoholConsumption==="none"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:" "}),i.jsx("button",{onClick:()=>t({alcoholConsumption:"occasional"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.alcoholConsumption==="occasional"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({alcoholConsumption:"moderate"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.alcoholConsumption==="moderate"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({alcoholConsumption:"heavy"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.alcoholConsumption==="heavy"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg",children:[i.jsxs(Pe,{htmlFor:"water",className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(xl,{className:"w-5 h-5 text-blue-500"}),i.jsx("span",{className:"font-medium",children:""})]}),i.jsx("span",{className:"text-2xl font-bold text-blue-500",children:e.waterIntake||0})]}),i.jsx(Ie,{id:"water",type:"number",placeholder:"8",value:e.waterIntake||"",onChange:r=>t({waterIntake:parseInt(r.target.value)||void 0}),min:0,max:20,className:"mb-2","data-testid":"input-water"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"   (: 8)"})]}),i.jsxs("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg",children:[i.jsxs(Pe,{htmlFor:"caffeine",className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(Hh,{className:"w-5 h-5 text-amber-600"}),i.jsx("span",{className:"font-medium",children:""})]}),i.jsx("span",{className:"text-2xl font-bold text-amber-600",children:e.caffeineIntake||0})]}),i.jsx(Ie,{id:"caffeine",type:"number",placeholder:"2",value:e.caffeineIntake||"",onChange:r=>t({caffeineIntake:parseInt(r.target.value)||void 0}),min:0,max:10,className:"mb-2","data-testid":"input-caffeine"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"   (: 1-2)"})]})]})]})}const bI=[{value:"insomnia",label:""},{value:"snoring",label:""},{value:"apnea",label:" "},{value:"restless",label:" "},{value:"nightmares",label:""},{value:"early_waking",label:" "}];function wI({data:e,onUpdate:t}){const r=(n,a)=>{const o=e.sleepProblems||[],l=a?[...o,n]:o.filter(c=>c!==n);t({sleepProblems:l})},s=n=>n?n<6?"text-error-red":n<=9?"text-trust-green":"text-warning-amber":"";return i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),i.jsxs(J,{className:"p-4 bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-900/20 border-0",children:[i.jsxs(Pe,{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"flex items-center space-x-2",children:[i.jsx(Jc,{className:"w-5 h-5 text-indigo-500"}),i.jsx("span",{className:"font-medium",children:" "})]}),i.jsxs("span",{className:`text-3xl font-bold ${s(e.sleepHours)}`,children:[e.sleepHours||7,"h"]})]}),i.jsx(hf,{value:[e.sleepHours||7],onValueChange:([n])=>t({sleepHours:n}),min:3,max:12,step:.5,className:"w-full mb-2","data-testid":"slider-sleep"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"3h"}),i.jsx("span",{children:"7-9h ()"}),i.jsx("span",{children:"12h"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(bi,{className:"w-4 h-4"}),i.jsx("span",{children:" "})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>t({sleepQuality:"poor"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.sleepQuality==="poor"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({sleepQuality:"fair"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.sleepQuality==="fair"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({sleepQuality:"good"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.sleepQuality==="good"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""}),i.jsx("button",{onClick:()=>t({sleepQuality:"excellent"}),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${e.sleepQuality==="excellent"?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:""})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(ba,{className:"w-4 h-4"}),i.jsx("span",{children:"  "})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:bI.map(n=>{var a;return i.jsx("button",{onClick:()=>{var o;return r(n.value,!((o=e.sleepProblems)!=null&&o.includes(n.value)))},className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${(a=e.sleepProblems)!=null&&a.includes(n.value)?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:n.label},n.value)})})]}),i.jsx(J,{className:"p-4 bg-light-blue border-0",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(bi,{className:"w-5 h-5 text-medical-blue mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm mb-1",children:""}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"   7-9   .   ,              ."})]})]})})]})}const _1=[{value:"weight_loss",label:" "},{value:"muscle_gain",label:"  "},{value:"improve_fitness",label:"  "},{value:"reduce_stress",label:" "},{value:"better_sleep",label:" "},{value:"healthy_eating",label:" "},{value:"quit_smoking",label:" "},{value:"manage_condition",label:"  "},{value:"increase_energy",label:" "},{value:"mental_health",label:"  "},{value:"preventive_care",label:" "},{value:"longevity",label:""}];function NI({data:e,onUpdate:t}){const r=(s,n)=>{const a=e.healthGoals||[],o=n?[...a,s]:a.filter(l=>l!==s);t({healthGoals:o})};return i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"   ?"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(Gt,{className:"w-4 h-4"}),i.jsx("span",{children:"  "})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:_1.map(s=>{var n;return i.jsx("button",{onClick:()=>{var a;return r(s.value,!((a=e.healthGoals)!=null&&a.includes(s.value)))},className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${(n=e.healthGoals)!=null&&n.includes(s.value)?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-gray-900 text-black dark:text-white border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:s.label},s.value)})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{htmlFor:"primary-goal",className:"flex items-center space-x-2",children:[i.jsx(CA,{className:"w-4 h-4"}),i.jsx("span",{children:"  ( )"})]}),i.jsx(gd,{id:"primary-goal",placeholder:":    10   3 ,        ...",value:e.primaryGoal||"",onChange:s=>t({primaryGoal:s.target.value}),rows:4,className:"resize-none","data-testid":"textarea-primary-goal"})]}),i.jsx("div",{className:"p-4 bg-gradient-to-r from-medical-blue/10 to-trust-green/10 rounded-lg",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(qt,{className:"w-5 h-5 text-medical-blue mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm mb-1",children:"   !"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"   -      .              ."})]})]})}),e.healthGoals&&e.healthGoals.length>0&&i.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg",children:[i.jsxs("p",{className:"text-sm font-medium mb-2",children:["  (",e.healthGoals.length,"):"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.healthGoals.map(s=>{const n=_1.find(a=>a.value===s);return n?i.jsx("span",{className:"inline-flex items-center px-3 py-1 bg-white dark:bg-card rounded-full text-xs font-medium shadow-sm",children:n.label},s):null})})]})]})}function jI({data:e,onUpdate:t}){const[r,s]=p.useState(""),[n,a]=p.useState(""),[o,l]=p.useState(""),c=()=>{if(r.trim()){const y=e.chronicConditions||[];t({chronicConditions:[...y,r.trim()]}),s("")}},d=y=>{const m=e.chronicConditions||[];t({chronicConditions:m.filter((b,v)=>v!==y)})},u=()=>{if(n.trim()){const y=e.familyHistory||[];t({familyHistory:[...y,n.trim()]}),a("")}},h=y=>{const m=e.familyHistory||[];t({familyHistory:m.filter((b,v)=>v!==y)})},f=()=>{if(o.trim()){const y=e.allergies||[];t({allergies:[...y,o.trim()]}),l("")}},g=y=>{const m=e.allergies||[];t({allergies:m.filter((b,v)=>v!==y)})};return i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"       "})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(qt,{className:"w-4 h-4"}),i.jsx("span",{children:" "})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Ie,{placeholder:": , ...",value:r,onChange:y=>s(y.target.value),onKeyPress:y=>y.key==="Enter"&&c(),className:"rounded-full","data-testid":"input-condition"}),i.jsx(X,{onClick:c,size:"sm",className:"rounded-full bg-medical-blue hover:bg-medical-blue/90 px-4",children:i.jsx(Nn,{className:"w-4 h-4"})})]}),e.chronicConditions&&e.chronicConditions.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:e.chronicConditions.map((y,m)=>i.jsxs("button",{onClick:()=>d(m),className:"px-4 py-2 rounded-full text-sm font-medium bg-medical-blue text-white shadow-md hover:bg-medical-blue/90 transition-all flex items-center gap-2","data-testid":`remove-condition-${m}`,children:[i.jsx("span",{children:y}),i.jsx(Wr,{className:"w-3 h-3 opacity-70 hover:opacity-100"})]},m))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(kk,{className:"w-4 h-4"}),i.jsx("span",{children:"  "})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Ie,{placeholder:":  (),  ()...",value:n,onChange:y=>a(y.target.value),onKeyPress:y=>y.key==="Enter"&&u(),className:"rounded-full","data-testid":"input-family-history"}),i.jsx(X,{onClick:u,size:"sm",className:"rounded-full bg-medical-blue hover:bg-medical-blue/90 px-4",children:i.jsx(Nn,{className:"w-4 h-4"})})]}),e.familyHistory&&e.familyHistory.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:e.familyHistory.map((y,m)=>i.jsxs("button",{onClick:()=>h(m),className:"px-4 py-2 rounded-full text-sm font-medium bg-trust-green text-white shadow-md hover:bg-trust-green/90 transition-all flex items-center gap-2","data-testid":`remove-history-${m}`,children:[i.jsx("span",{children:y}),i.jsx(Wr,{className:"w-3 h-3 opacity-70 hover:opacity-100"})]},m))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(gr,{className:"w-4 h-4"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Ie,{placeholder:": , , ...",value:o,onChange:y=>l(y.target.value),onKeyPress:y=>y.key==="Enter"&&f(),className:"rounded-full","data-testid":"input-allergy"}),i.jsx(X,{onClick:f,size:"sm",className:"rounded-full bg-warning-amber hover:bg-warning-amber/90 px-4",children:i.jsx(Nn,{className:"w-4 h-4"})})]}),e.allergies&&e.allergies.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:e.allergies.map((y,m)=>i.jsxs("button",{onClick:()=>g(m),className:"px-4 py-2 rounded-full text-sm font-medium bg-warning-amber text-white shadow-md hover:bg-warning-amber/90 transition-all flex items-center gap-2","data-testid":`remove-allergy-${m}`,children:[i.jsx("span",{children:y}),i.jsx(Wr,{className:"w-3 h-3 opacity-70 hover:opacity-100"})]},m))})]}),i.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-lg",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(qt,{className:"w-5 h-5 text-medical-blue mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm mb-1",children:""}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"          .       ."})]})]})})]})}function kI({data:e,onUpdate:t}){const[r,s]=p.useState({name:"",dosage:"",frequency:""}),[n,a]=p.useState({name:"",dosage:""}),o=()=>{if(r.name.trim()){const u=e.currentMedications||[];t({currentMedications:[...u,{...r}]}),s({name:"",dosage:"",frequency:""})}},l=u=>{const h=e.currentMedications||[];t({currentMedications:h.filter((f,g)=>g!==u)})},c=()=>{if(n.name.trim()){const u=e.supplements||[];t({supplements:[...u,{...n}]}),a({name:"",dosage:""})}},d=u=>{const h=e.supplements||[];t({supplements:h.filter((f,g)=>g!==u)})};return i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"  "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"      "})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(vl,{className:"w-4 h-4"}),i.jsx("span",{children:" "})]}),i.jsx(J,{className:"p-4 bg-light-blue border-0",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[i.jsx(Ie,{placeholder:"",value:r.name,onChange:u=>s({...r,name:u.target.value}),className:"rounded-full","data-testid":"input-med-name"}),i.jsx(Ie,{placeholder:"",value:r.dosage,onChange:u=>s({...r,dosage:u.target.value}),className:"rounded-full","data-testid":"input-med-dosage"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Ie,{placeholder:"",value:r.frequency,onChange:u=>s({...r,frequency:u.target.value}),onKeyPress:u=>u.key==="Enter"&&o(),className:"rounded-full","data-testid":"input-med-frequency"}),i.jsx(X,{onClick:o,size:"sm",className:"rounded-full bg-medical-blue hover:bg-medical-blue/90 px-4",children:i.jsx(Nn,{className:"w-4 h-4"})})]})]}),e.currentMedications&&e.currentMedications.length>0&&i.jsx("div",{className:"space-y-2 mt-3",children:e.currentMedications.map((u,h)=>i.jsxs(J,{className:"p-3 bg-white dark:bg-card flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",children:u.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.dosage,"  ",u.frequency]})]}),i.jsx("button",{onClick:()=>l(h),className:"ml-2 p-1 hover:bg-destructive/20 rounded","data-testid":`remove-med-${h}`,children:i.jsx(Wr,{className:"w-4 h-4 text-destructive"})})]},h))})]})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Pe,{className:"flex items-center space-x-2",children:[i.jsx(fA,{className:"w-4 h-4"}),i.jsx("span",{children:"  "})]}),i.jsx(J,{className:"p-4 bg-light-blue border-0",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Ie,{placeholder:"",value:n.name,onChange:u=>a({...n,name:u.target.value}),className:"flex-1 rounded-full","data-testid":"input-supp-name"}),i.jsx(Ie,{placeholder:"",value:n.dosage,onChange:u=>a({...n,dosage:u.target.value}),onKeyPress:u=>u.key==="Enter"&&c(),className:"flex-1 rounded-full","data-testid":"input-supp-dosage"}),i.jsx(X,{onClick:c,size:"sm",className:"rounded-full bg-trust-green hover:bg-trust-green/90 px-4",children:i.jsx(Nn,{className:"w-4 h-4"})})]}),e.supplements&&e.supplements.length>0&&i.jsx("div",{className:"space-y-2 mt-3",children:e.supplements.map((u,h)=>i.jsxs(J,{className:"p-3 bg-white dark:bg-card flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-sm",children:u.name}),u.dosage&&i.jsx("p",{className:"text-xs text-muted-foreground",children:u.dosage})]}),i.jsx("button",{onClick:()=>d(h),className:"ml-2 p-1 hover:bg-destructive/20 rounded","data-testid":`remove-supp-${h}`,children:i.jsx(Wr,{className:"w-4 h-4 text-destructive"})})]},h))})]})})]}),i.jsx(J,{className:"p-4 bg-warning-amber/10 border-warning-amber/20",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(vl,{className:"w-5 h-5 text-warning-amber mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm mb-1",children:""}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"    ,  .         ."})]})]})})]})}function SI({data:e}){var n,a,o,l,c;const t={sedentary:"",light:" ",moderate:"",active:"",very_active:" ",never:"","1-2_week":"1-2 /","3-4_week":"3-4 /","5+_week":"5+ /",beginner:"",intermediate:"",advanced:"",stable:"",mild:" ",severe:" ",poor:"",fair:"",good:"",excellent:"",weight_loss:" ",muscle_gain:"  ",improve_fitness:"  ",reduce_stress:" ",better_sleep:" ",healthy_eating:" ",quit_smoking:" ",manage_condition:"  ",increase_energy:" ",mental_health:"  ",preventive_care:" ",longevity:""},r=d=>t[d]||d,s=[{title:" ",icon:Kr,items:[{label:"",value:e.age?`${e.age} `:" "},{label:"",value:e.gender==="male"?"":e.gender==="female"?"":" "},{label:"",value:e.height?`${e.height} `:" "},{label:"",value:e.weight?`${e.weight} `:" "},{label:"",value:e.bmi?e.bmi.toString():" "}]},{title:" ",icon:ot,items:[{label:"",value:e.activityLevel?r(e.activityLevel):" "},{label:"",value:e.exerciseFrequency?r(e.exerciseFrequency):" "},{label:"",value:e.fitnessLevel?r(e.fitnessLevel):" "}]},{title:" ",icon:gt,items:[{label:"",value:e.stressLevel?`${e.stressLevel}/10`:" "},{label:"",value:e.anxietyLevel?`${e.anxietyLevel}/10`:" "},{label:"",value:e.moodChanges?r(e.moodChanges):" "}]},{title:"",icon:bi,items:[{label:" ",value:e.sleepHours?`${e.sleepHours} `:" "},{label:"",value:e.sleepQuality?r(e.sleepQuality):" "},{label:"",value:(n=e.sleepProblems)!=null&&n.length?`${e.sleepProblems.length} `:""}]}];return i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),i.jsx("div",{className:"space-y-4",children:s.map(d=>{const u=d.icon;return i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(u,{className:"w-5 h-5 text-medical-blue"}),i.jsx("h4",{className:"font-medium",children:d.title})]}),i.jsx(gl,{className:"w-4 h-4 text-trust-green"})]}),i.jsx("div",{className:"space-y-2",children:d.items.map(h=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[h.label,":"]}),i.jsx("span",{className:"font-medium",children:h.value})]},h.label))})]},d.title)})}),e.healthGoals&&e.healthGoals.length>0&&i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx(Gt,{className:"w-5 h-5 text-medical-blue"}),i.jsx("h4",{className:"font-medium",children:" "})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.healthGoals.map(d=>i.jsx(de,{variant:"secondary",children:r(d)},d))}),e.primaryGoal&&i.jsxs("p",{className:"text-sm text-muted-foreground mt-3",children:[i.jsx("span",{className:"font-medium",children:" :"})," ",r(e.primaryGoal)]})]}),(a=e.chronicConditions)!=null&&a.length||(o=e.allergies)!=null&&o.length?i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx(qt,{className:"w-5 h-5 text-medical-blue"}),i.jsx("h4",{className:"font-medium",children:" "})]}),e.chronicConditions&&e.chronicConditions.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:" :"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.chronicConditions.map((d,u)=>i.jsx(de,{variant:"outline",children:d},u))})]}),e.allergies&&e.allergies.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:":"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.allergies.map((d,u)=>i.jsx(de,{variant:"outline",className:"border-warning-amber text-warning-amber",children:d},u))})]})]}):null,(l=e.currentMedications)!=null&&l.length||(c=e.supplements)!=null&&c.length?i.jsxs(J,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx(vl,{className:"w-5 h-5 text-medical-blue"}),i.jsx("h4",{className:"font-medium",children:"  "})]}),e.currentMedications&&e.currentMedications.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:":"}),i.jsx("div",{className:"space-y-1",children:e.currentMedications.map((d,u)=>i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:d.name}),i.jsxs("span",{className:"text-muted-foreground",children:["  ",d.dosage,"  ",d.frequency]})]},u))})]}),e.supplements&&e.supplements.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:":"}),i.jsx("div",{className:"space-y-1",children:e.supplements.map((d,u)=>i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:d.name}),d.dosage&&i.jsxs("span",{className:"text-muted-foreground",children:["  ",d.dosage]})]},u))})]})]}):null,i.jsx(J,{className:"p-4 bg-trust-green/10 border-trust-green/20",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(gl,{className:"w-5 h-5 text-trust-green mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm mb-1",children:"  !"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"   .             ."})]})]})})]})}const At=[{id:1,title:" ",shortTitle:"",icon:Kr,component:X8,color:"from-medical-blue via-blue-500 to-blue-600",bgColor:"bg-gradient-to-br from-medical-blue/8 via-blue-50 to-blue-100/50",iconBg:"bg-medical-blue/15",iconColor:"text-medical-blue"},{id:2,title:" ",shortTitle:" ",icon:ot,component:J8,color:"from-trust-green via-green-500 to-emerald-600",bgColor:"bg-gradient-to-br from-trust-green/8 via-green-50 to-emerald-100/50",iconBg:"bg-trust-green/15",iconColor:"text-trust-green"},{id:3,title:" ",shortTitle:" ",icon:gt,component:yI,color:"from-wellness-purple via-purple-500 to-purple-600",bgColor:"bg-gradient-to-br from-purple-100/8 via-purple-50 to-purple-100/50",iconBg:"bg-purple-500/15",iconColor:"text-purple-600"},{id:4,title:" ",shortTitle:" ",icon:Hh,component:vI,color:"from-energy-orange via-orange-500 to-orange-600",bgColor:"bg-gradient-to-br from-orange-100/8 via-orange-50 to-orange-100/50",iconBg:"bg-orange-500/15",iconColor:"text-orange-600"},{id:5,title:"  ",shortTitle:"",icon:bi,component:wI,color:"from-indigo-500 via-indigo-500 to-purple-600",bgColor:"bg-gradient-to-br from-indigo-100/8 via-indigo-50 to-purple-100/50",iconBg:"bg-indigo-500/15",iconColor:"text-indigo-600"},{id:6,title:" ",shortTitle:"",icon:Gt,component:NI,color:"from-pink-500 via-rose-500 to-red-500",bgColor:"bg-gradient-to-br from-pink-100/8 via-pink-50 to-rose-100/50",iconBg:"bg-pink-500/15",iconColor:"text-pink-600"},{id:7,title:" ",shortTitle:" ",icon:qt,component:jI,color:"from-red-500 via-red-500 to-rose-600",bgColor:"bg-gradient-to-br from-red-100/8 via-red-50 to-rose-100/50",iconBg:"bg-red-500/15",iconColor:"text-red-600"},{id:8,title:"",shortTitle:"",icon:vl,component:kI,color:"from-amber-500 via-yellow-500 to-orange-500",bgColor:"bg-gradient-to-br from-amber-100/8 via-yellow-50 to-orange-100/50",iconBg:"bg-amber-500/15",iconColor:"text-amber-600"},{id:9,title:" ",shortTitle:"",icon:fr,component:SI,color:"from-emerald-500 via-green-500 to-teal-600",bgColor:"bg-gradient-to-br from-emerald-100/8 via-green-50 to-teal-100/50",iconBg:"bg-emerald-500/15",iconColor:"text-emerald-600"}];function _I({onComplete:e,initialData:t={}}){const[r,s]=p.useState(1),[n,a]=p.useState(t),[o,l]=p.useState(new Set),{toast:c}=Ri(),d=r/At.length*100,u=At[r-1].component,h=At[r-1].icon;p.useEffect(()=>{r>1&&l(v=>new Set(v).add(r-1))},[r]);const f=Zs({mutationFn:async v=>{if(v.height&&v.weight){const N=v.height/100;v.bmi=parseFloat((v.weight/(N*N)).toFixed(1))}return await at("/api/health-profile/complete",{method:"POST",body:JSON.stringify(v)})},onSuccess:()=>{c({title:"  !",description:"   ",className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0"}),_c.invalidateQueries({queryKey:["/api/health-profile"]}),e==null||e()},onError:()=>{c({title:" ",description:"   ",variant:"destructive"})}}),g=()=>{r<At.length&&(s(r+1),window.scrollTo({top:0,behavior:"smooth"}))},y=()=>{r>1&&(s(r-1),window.scrollTo({top:0,behavior:"smooth"}))},m=v=>{a(x=>({...x,...v}))},b=()=>{f.mutate(n)};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:i.jsx("div",{className:"w-full max-w-4xl mx-auto min-h-screen md:min-h-0 md:py-8 px-0 md:px-4",children:i.jsxs(J,{className:"border-0 shadow-2xl overflow-hidden rounded-none md:rounded-2xl bg-white/95 dark:bg-slate-950/95 backdrop-blur-sm",children:[i.jsxs("div",{className:`bg-gradient-to-r ${At[r-1].color} relative overflow-hidden`,children:[i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,white_1px,transparent_0)] bg-[length:20px_20px]"})}),i.jsxs("div",{className:"relative p-4 md:p-8 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"p-3 md:p-4 bg-white/20 backdrop-blur-sm rounded-2xl md:rounded-3xl border border-white/30 shadow-lg",children:i.jsx(h,{className:"w-5 h-5 md:w-7 md:h-7"})}),r>1&&i.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 md:w-4 md:h-4 bg-white/90 rounded-full flex items-center justify-center",children:i.jsx(gl,{className:"w-2 h-2 md:w-2.5 md:h-2.5 text-green-600"})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg md:text-3xl font-bold tracking-tight",children:"EVERLIV HEALTH"}),i.jsxs("p",{className:"text-white/90 text-xs md:text-sm mt-0.5 font-medium",children:[i.jsx("span",{className:"hidden sm:inline",children:"  "}),i.jsx("span",{className:"sm:hidden",children:" "})]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(de,{className:"bg-white/20 backdrop-blur-sm text-white border border-white/30 px-3 py-1 text-xs font-semibold rounded-full",children:[r,"/",At.length]})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-white/80 text-xs font-medium",children:At[r-1].title}),i.jsxs("span",{className:"text-white/90 text-xs font-bold",children:[Math.round(d),"%"]})]}),i.jsx("div",{className:"bg-white/20 rounded-full overflow-hidden backdrop-blur-sm border border-white/30",children:i.jsx("div",{className:"h-2 md:h-2.5 bg-gradient-to-r from-white via-white/95 to-white/90 transition-all duration-700 ease-out rounded-full relative overflow-hidden",style:{width:`${d}%`},children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})})]})]})]}),i.jsxs("div",{className:`${At[r-1].bgColor} p-4 md:p-8`,children:[i.jsxs("div",{className:"mb-6 md:mb-8",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsx("div",{className:`p-2.5 md:p-3 ${At[r-1].iconBg} rounded-xl md:rounded-2xl backdrop-blur-sm border border-white/50 shadow-sm`,children:i.jsx(h,{className:`w-4 h-4 md:w-6 md:h-6 ${At[r-1].iconColor}`})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg md:text-2xl lg:text-3xl font-bold text-foreground tracking-tight",children:[i.jsx("span",{className:"hidden md:inline",children:At[r-1].title}),i.jsx("span",{className:"md:hidden",children:At[r-1].shortTitle})]}),i.jsx("div",{className:"flex items-center gap-2 mt-1",children:i.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:At.length},(v,x)=>i.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${x+1===r?"w-6 bg-gradient-to-r "+At[r-1].color:x+1<r?"w-1.5 bg-green-500":"w-1.5 bg-gray-300 dark:bg-gray-600"}`},x))})})]})]}),i.jsxs(de,{className:`${At[r-1].iconBg} ${At[r-1].iconColor} border-0 px-3 py-1.5 text-xs font-semibold rounded-full backdrop-blur-sm`,children:[" ",r]})]}),i.jsx(J,{className:"border-0 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm shadow-sm",children:i.jsx("div",{className:"p-4 md:p-5",children:i.jsxs("p",{className:"text-sm md:text-base text-muted-foreground leading-relaxed",children:[r===1&&"           ",r===2&&"        ",r===3&&"       ",r===4&&"    ,     ",r===5&&"           ",r===6&&"         ",r===7&&"       ",r===8&&"        ",r===9&&"        "]})})})]}),i.jsx("div",{className:"animate-in fade-in-50 slide-in-from-right-10 duration-500",children:i.jsx(u,{data:n,onUpdate:m})},r)]}),i.jsx("div",{className:"px-4 md:px-8 py-4 md:py-6 bg-gradient-to-r from-slate-50 via-white to-slate-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 border-t border-slate-200/50 dark:border-slate-700/50",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(X,{variant:"outline",onClick:y,disabled:r===1,className:"group h-10 md:h-12 text-sm px-4 md:px-6 rounded-xl border-2 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all duration-200 disabled:opacity-50","data-testid":"button-previous",children:[i.jsx($g,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform duration-200"}),i.jsx("span",{className:"font-medium",children:""})]}),r===At.length?i.jsx(X,{onClick:b,disabled:f.isPending,className:"bg-gradient-to-r from-green-500 via-emerald-500 to-green-600 hover:from-green-600 hover:via-emerald-600 hover:to-green-700 text-white shadow-lg hover:shadow-xl group h-10 md:h-12 text-sm px-4 md:px-6 rounded-xl transition-all duration-200","data-testid":"button-complete",children:f.isPending?i.jsxs(i.Fragment,{children:[i.jsx(pt,{className:"w-4 h-4 mr-2 animate-spin"}),i.jsx("span",{className:"font-medium",children:"..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-medium",children:""}),i.jsx(gl,{className:"w-4 h-4 ml-2 group-hover:scale-110 transition-transform duration-200"})]})}):i.jsxs(X,{onClick:g,className:"bg-gradient-to-r from-medical-blue via-blue-500 to-trust-green hover:from-blue-600 hover:via-blue-600 hover:to-green-600 text-white shadow-lg hover:shadow-xl group h-10 md:h-12 text-sm px-4 md:px-6 rounded-xl transition-all duration-200","data-testid":"button-next",children:[i.jsx("span",{className:"font-medium",children:""}),i.jsx(oo,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform duration-200"})]})]})})]})})})}function CI(){var g,y,m,b,v,x,N,j,k,C;const[,e]=Ir(),[t,r]=p.useState(!1);p.useEffect(()=>{if(new URLSearchParams(window.location.search).get("edit")==="true"){r(!0);const E=new URL(window.location.href);E.searchParams.delete("edit"),window.history.replaceState({},"",E.toString())}},[]);const{data:s}=Ot({queryKey:["/api/health-profile"]}),n=()=>{r(!1),e("/app/profile")},o=(()=>{var A;if(!(s!=null&&s.profileData))return 0;const S=s.profileData;let E=0,T=20;return S.age&&E++,S.gender&&E++,S.height&&E++,S.weight&&E++,S.activityLevel&&E++,S.dietType&&E++,S.sleepHours&&E++,S.sleepQuality&&E++,S.stressLevel&&E++,((A=S.healthGoals)==null?void 0:A.length)>0&&(E+=2),S.chronicConditions&&E++,S.allergies&&E++,S.familyHistory&&E++,S.currentMedications&&E++,S.supplements&&E++,S.waterIntake&&E++,S.exerciseFrequency&&E++,S.smokingStatus&&E++,S.alcoholConsumption&&E++,Math.round(E/T*100)})();if(t||!(s!=null&&s.profileData))return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-medical-blue/5 via-background to-trust-green/5",children:i.jsx(_I,{onComplete:n,initialData:s==null?void 0:s.profileData})});const l=s.profileData,c=S=>{switch(S){case"male":return"";case"female":return"";default:return""}},d=S=>({sedentary:" ",light:" ",moderate:" ",active:" ",very_active:"  "})[S]||S,u=S=>({sedentary:"bg-gray-100 text-gray-700",light:"bg-blue-100 text-blue-700",moderate:"bg-green-100 text-green-700",active:"bg-orange-100 text-orange-700",very_active:"bg-red-100 text-red-700"})[S]||"bg-gray-100 text-gray-700",h={weight_loss:{label:" ",icon:"",color:"bg-blue-100 text-blue-700"},muscle_gain:{label:" ",icon:"",color:"bg-purple-100 text-purple-700"},improve_fitness:{label:"",icon:"",color:"bg-green-100 text-green-700"},reduce_stress:{label:" ",icon:"",color:"bg-indigo-100 text-indigo-700"},better_sleep:{label:" ",icon:"",color:"bg-indigo-100 text-indigo-700"},healthy_eating:{label:"",icon:"",color:"bg-emerald-100 text-emerald-700"},quit_smoking:{label:" ",icon:"",color:"bg-red-100 text-red-700"},manage_condition:{label:" ",icon:"",color:"bg-orange-100 text-orange-700"},increase_energy:{label:" ",icon:"",color:"bg-yellow-100 text-yellow-700"},mental_health:{label:"",icon:"",color:"bg-purple-100 text-purple-700"},preventive_care:{label:"",icon:"",color:"bg-cyan-100 text-cyan-700"},longevity:{label:"",icon:"",color:"bg-teal-100 text-teal-700"}},f=S=>{switch(S){case"poor":return"";case"fair":return"";case"good":return"";case"excellent":return"";default:return""}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-medical-blue/5 via-background to-trust-green/5 pb-20",children:[i.jsx("div",{className:"bg-white dark:bg-gray-950 border-b backdrop-blur-lg bg-opacity-95",children:i.jsx("div",{className:"px-3 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"rounded-full hover:bg-medical-blue/10 h-8 w-8","data-testid":"button-back",children:i.jsx(Fa,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-bold bg-gradient-to-r from-medical-blue to-trust-green bg-clip-text text-transparent",children:" "}),i.jsx("p",{className:"text-[10px] text-muted-foreground hidden sm:block",children:" "})]})]}),i.jsxs(X,{onClick:()=>r(!0),size:"sm",className:"bg-gradient-to-r from-medical-blue to-trust-green hover:opacity-90 text-white rounded-full px-3 text-xs shadow-lg","data-testid":"button-edit-profile",children:[i.jsx(ry,{className:"w-3 h-3 mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:""}),i.jsx("span",{className:"sm:hidden",children:""})]})]})})}),i.jsxs("div",{className:"px-3 py-4",children:[i.jsxs(J,{className:"border-0 shadow-lg bg-gradient-to-br from-white to-gray-50 dark:from-gray-950 dark:to-gray-900",children:[i.jsx(yt,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-medical-blue/20 to-trust-green/20 rounded-lg",children:i.jsx(eA,{className:"w-4 h-4 text-medical-blue"})}),i.jsxs("div",{children:[i.jsx(St,{className:"text-sm",children:""}),i.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:o===100?"  !":` ${o}%`})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"text-xl font-bold bg-gradient-to-r from-medical-blue to-trust-green bg-clip-text text-transparent",children:[o,"%"]})})]})}),i.jsxs(me,{className:"px-4 pb-4 pt-0",children:[i.jsx(Ac,{value:o,className:"h-2 bg-gray-200 dark:bg-gray-700"}),o<100&&i.jsxs("p",{className:"text-[10px] text-muted-foreground mt-2 flex items-center gap-1",children:[i.jsx(ba,{className:"w-2.5 h-2.5"}),"   "]})]})]}),i.jsxs("div",{className:"space-y-3 mt-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(J,{className:"border-0 shadow-md",children:[i.jsx(yt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(St,{className:"text-[11px] font-medium flex items-center gap-1.5",children:[i.jsx("div",{className:"p-1 bg-medical-blue/10 rounded",children:i.jsx(Kr,{className:"w-3 h-3 text-medical-blue"})}),i.jsx("span",{className:"hidden sm:inline",children:" "}),i.jsx("span",{className:"sm:hidden",children:""})]}),l.age&&l.gender&&i.jsx(fr,{className:"w-3 h-3 text-green-500"})]})}),i.jsx(me,{className:"p-3 pt-0",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground",children:""}),i.jsxs(de,{variant:"secondary",className:"text-[10px] h-5 px-1.5",children:[l.age||""," "]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground",children:""}),i.jsx(de,{variant:"secondary",className:"text-[10px] h-5 px-1.5",children:l.gender?`${c(l.gender)}`:""})]})]})})]}),i.jsxs(J,{className:"border-0 shadow-md",children:[i.jsx(yt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(St,{className:"text-[11px] font-medium flex items-center gap-1.5",children:[i.jsx("div",{className:"p-1 bg-trust-green/10 rounded",children:i.jsx(ot,{className:"w-3 h-3 text-trust-green"})}),i.jsx("span",{className:"hidden sm:inline",children:""}),i.jsx("span",{className:"sm:hidden",children:"."})]}),l.height&&l.weight&&i.jsx(fr,{className:"w-3 h-3 text-green-500"})]})}),i.jsx(me,{className:"p-3 pt-0",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-0.5",children:[i.jsx(ty,{className:"w-2.5 h-2.5"}),""]}),i.jsxs(de,{variant:"secondary",className:"text-[10px] h-5 px-1.5 font-mono",children:[l.height||""," "]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-0.5",children:[i.jsx(sy,{className:"w-2.5 h-2.5"}),""]}),i.jsxs(de,{variant:"secondary",className:"text-[10px] h-5 px-1.5 font-mono",children:[l.weight||""," "]})]}),l.bmi&&i.jsx("div",{className:"pt-1 border-t",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-[9px] text-muted-foreground",children:""}),i.jsx(de,{className:`text-[9px] h-4 px-1 font-mono ${l.bmi<18.5?"bg-yellow-100 text-yellow-700":l.bmi<25?"bg-green-100 text-green-700":l.bmi<30?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:l.bmi.toFixed(1)})]})})]})})]}),i.jsxs(J,{className:"border-0 shadow-md",children:[i.jsx(yt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(St,{className:"text-[11px] font-medium flex items-center gap-1.5",children:[i.jsx("div",{className:"p-1 bg-purple-500/10 rounded",children:i.jsx(gt,{className:"w-3 h-3 text-purple-500"})}),i.jsx("span",{className:"hidden sm:inline",children:""}),i.jsx("span",{className:"sm:hidden",children:"."})]}),l.stressLevel&&i.jsx(fr,{className:"w-3 h-3 text-green-500"})]})}),i.jsx(me,{className:"p-3 pt-0",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground",children:""}),i.jsx(de,{variant:"secondary",className:"text-[10px] h-5 px-1.5 font-mono",children:l.stressLevel?`${l.stressLevel}/10`:""})]}),l.stressLevel&&i.jsx(Ac,{value:l.stressLevel*10,className:"h-1.5"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground",children:""}),i.jsx(de,{variant:"secondary",className:"text-[10px] h-5 px-1.5 font-mono",children:l.anxietyLevel?`${l.anxietyLevel}/10`:""})]}),l.anxietyLevel&&i.jsx(Ac,{value:l.anxietyLevel*10,className:"h-1.5"})]})]})})]}),i.jsxs(J,{className:"border-0 shadow-md",children:[i.jsx(yt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(St,{className:"text-[11px] font-medium flex items-center gap-1.5",children:[i.jsx("div",{className:"p-1 bg-indigo-500/10 rounded",children:i.jsx(bi,{className:"w-3 h-3 text-indigo-500"})}),i.jsx("span",{className:"hidden sm:inline",children:""}),i.jsx("span",{className:"sm:hidden",children:""})]}),l.sleepHours&&l.sleepQuality&&i.jsx(fr,{className:"w-3 h-3 text-green-500"})]})}),i.jsx(me,{className:"p-3 pt-0",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground",children:""}),i.jsxs(de,{variant:"secondary",className:"text-[10px] h-5 px-1.5 font-mono",children:[l.sleepHours||""," "]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-[10px] text-muted-foreground",children:""}),i.jsx(de,{variant:"secondary",className:"text-[10px] h-5 px-1.5",children:l.sleepQuality?`${f(l.sleepQuality)}`:""})]})]})})]})]}),l.healthGoals&&l.healthGoals.length>0&&i.jsxs(J,{className:"border-0 shadow-md overflow-hidden",children:[i.jsx(yt,{className:"p-3 bg-gradient-to-r from-medical-blue/5 to-trust-green/5",children:i.jsxs(St,{className:"text-xs flex items-center gap-2",children:[i.jsx("div",{className:"p-1 bg-gradient-to-br from-medical-blue/20 to-trust-green/20 rounded",children:i.jsx(Gt,{className:"w-3.5 h-3.5 text-medical-blue"})})," ",i.jsx(de,{className:"ml-auto text-[9px] h-4 px-1.5",children:l.healthGoals.length})]})}),i.jsxs(me,{className:"p-3",children:[i.jsx("div",{className:"flex flex-wrap gap-1.5",children:l.healthGoals.map(S=>{const E=h[S]||{label:S,icon:"",color:"bg-gray-100 text-gray-700"};return i.jsxs(de,{className:`px-2 py-0.5 text-[9px] ${E.color} border-0 font-medium`,children:[i.jsx("span",{className:"mr-0.5 text-[10px]",children:E.icon}),E.label]},S)})}),l.primaryGoal&&i.jsxs("div",{className:"mt-2 p-2 bg-gradient-to-r from-medical-blue/5 to-trust-green/5 rounded-lg border border-medical-blue/20",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(pt,{className:"w-3 h-3 text-medical-blue"}),i.jsx("p",{className:"text-[10px] font-semibold",children:" "})]}),i.jsx("p",{className:"text-[9px] text-muted-foreground",children:l.primaryGoal})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[l.activityLevel&&i.jsxs(J,{className:"border-0 shadow-md",children:[i.jsx(yt,{className:"p-3",children:i.jsxs(St,{className:"text-[11px] font-medium flex items-center gap-1.5",children:[i.jsx("div",{className:"p-1 bg-orange-500/10 rounded",children:i.jsx(ot,{className:"w-3 h-3 text-orange-500"})})," "]})}),i.jsxs(me,{className:"p-3 pt-0",children:[i.jsx(de,{className:`${u(l.activityLevel)} border-0 px-2 py-0.5 text-[10px]`,children:d(l.activityLevel)}),l.exerciseFrequency&&i.jsxs("p",{className:"text-[9px] text-muted-foreground mt-2 flex items-center gap-1",children:[i.jsx(ml,{className:"w-2.5 h-2.5"}),": ",l.exerciseFrequency]})]})]}),l.dietType&&i.jsxs(J,{className:"border-0 shadow-md",children:[i.jsx(yt,{className:"p-3",children:i.jsxs(St,{className:"text-[11px] font-medium flex items-center gap-1.5",children:[i.jsx("div",{className:"p-1 bg-green-500/10 rounded",children:i.jsx(Hh,{className:"w-3 h-3 text-green-500"})}),""]})}),i.jsxs(me,{className:"p-3 pt-0",children:[i.jsx(de,{className:"bg-green-100 text-green-700 border-0 px-2 py-0.5 text-[10px]",children:l.dietType==="standard"?" ":l.dietType==="vegetarian"?" ":l.dietType==="vegan"?" ":l.dietType==="keto"?" ":l.dietType==="mediterranean"?" ":l.dietType}),i.jsxs("div",{className:"flex gap-3 mt-2",children:[l.waterIntake&&i.jsxs("div",{className:"flex items-center gap-0.5",children:[i.jsx(xl,{className:"w-2.5 h-2.5 text-blue-500"}),i.jsxs("span",{className:"text-[9px] text-muted-foreground",children:[l.waterIntake," /"]})]}),l.caffeineIntake&&i.jsxs("div",{className:"flex items-center gap-0.5",children:[i.jsx(Hh,{className:"w-2.5 h-2.5 text-brown-600"}),i.jsxs("span",{className:"text-[9px] text-muted-foreground",children:[l.caffeineIntake," "]})]})]})]})]}),(((g=l.currentMedications)==null?void 0:g.length)>0||((y=l.supplements)==null?void 0:y.length)>0)&&i.jsxs(J,{className:"border-0 shadow-md",children:[i.jsx(yt,{className:"p-3",children:i.jsxs(St,{className:"text-[11px] font-medium flex items-center gap-1.5",children:[i.jsx("div",{className:"p-1 bg-red-500/10 rounded",children:i.jsx(vl,{className:"w-3 h-3 text-red-500"})}),""]})}),i.jsx(me,{className:"p-3 pt-0",children:i.jsxs("div",{className:"space-y-1.5",children:[((m=l.currentMedications)==null?void 0:m.length)>0&&i.jsxs("div",{className:"flex items-center justify-between p-1.5 bg-red-50 dark:bg-red-950/20 rounded",children:[i.jsx("span",{className:"text-[10px] flex items-center gap-0.5",children:" "}),i.jsx(de,{variant:"secondary",className:"text-[9px] h-4 px-1",children:l.currentMedications.length})]}),((b=l.supplements)==null?void 0:b.length)>0&&i.jsxs("div",{className:"flex items-center justify-between p-1.5 bg-green-50 dark:bg-green-950/20 rounded",children:[i.jsx("span",{className:"text-[10px] flex items-center gap-0.5",children:" "}),i.jsx(de,{variant:"secondary",className:"text-[9px] h-4 px-1",children:l.supplements.length})]})]})})]})]}),(((v=l.chronicConditions)==null?void 0:v.length)>0||((x=l.allergies)==null?void 0:x.length)>0||((N=l.familyHistory)==null?void 0:N.length)>0)&&i.jsxs(J,{className:"border-0 shadow-md overflow-hidden",children:[i.jsx(yt,{className:"p-3 bg-gradient-to-r from-red-500/5 to-orange-500/5",children:i.jsxs(St,{className:"text-xs flex items-center gap-2",children:[i.jsx("div",{className:"p-1 bg-red-500/10 rounded",children:i.jsx(Mr,{className:"w-3.5 h-3.5 text-red-500"})})," "]})}),i.jsx(me,{className:"p-3",children:i.jsxs("div",{className:"space-y-2",children:[((j=l.chronicConditions)==null?void 0:j.length)>0&&i.jsxs("div",{className:"p-2 bg-red-50 dark:bg-red-950/20 rounded",children:[i.jsxs("p",{className:"text-[10px] font-semibold mb-1.5 flex items-center gap-1",children:[i.jsx(qt,{className:"w-3 h-3 text-red-500"})," "]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:l.chronicConditions.map((S,E)=>i.jsx(de,{variant:"outline",className:"border-red-200 text-[9px] px-1.5 py-0",children:S},E))})]}),((k=l.allergies)==null?void 0:k.length)>0&&i.jsxs("div",{className:"p-2 bg-orange-50 dark:bg-orange-950/20 rounded",children:[i.jsxs("p",{className:"text-[10px] font-semibold mb-1.5 flex items-center gap-1",children:[i.jsx(ba,{className:"w-3 h-3 text-orange-500"}),""]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:l.allergies.map((S,E)=>i.jsx(de,{variant:"outline",className:"border-orange-200 text-[9px] px-1.5 py-0",children:S},E))})]}),((C=l.familyHistory)==null?void 0:C.length)>0&&i.jsxs("div",{className:"p-2 bg-purple-50 dark:bg-purple-950/20 rounded",children:[i.jsxs("p",{className:"text-[10px] font-semibold mb-1.5 flex items-center gap-1",children:[i.jsx(Kr,{className:"w-3 h-3 text-purple-500"})," "]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:l.familyHistory.map((S,E)=>i.jsx(de,{variant:"outline",className:"border-purple-200 text-[9px] px-1.5 py-0",children:S},E))})]})]})})]})]})]})]})}function EI({text:e,speed:t=30,className:r="",onTyping:s}){const[n,a]=p.useState(""),[o,l]=p.useState(0);return p.useEffect(()=>{if(o<e.length){const c=setTimeout(()=>{a(d=>d+e[o]),l(d=>d+1),s&&s()},t);return()=>clearTimeout(c)}},[o,e,t]),p.useEffect(()=>{a(""),l(0)},[e]),i.jsxs("div",{className:r,children:[i.jsx("span",{className:"whitespace-pre-line",children:n}),o<e.length&&i.jsx("span",{className:"animate-pulse",children:"|"})]})}function TI(){const[e,t]=p.useState(null),[r,s]=p.useState(""),[n,a]=p.useState(!1),[o,l]=p.useState([]),[c,d]=p.useState(null),[u,h]=p.useState(!1),{toast:f}=Ri(),g=Ml(),y=p.useRef(null),m=p.useRef(null),b=p.useCallback(()=>{if(m.current){const O=m.current.querySelector("[data-radix-scroll-area-viewport]");O&&(O.scrollTop=O.scrollHeight)}},[]),v=p.useRef(null),x=p.useRef(null),N=p.useRef([]),{data:j}=Ot({queryKey:["/api/chat-sessions"]}),{data:k}=Ot({queryKey:["/api/chat-sessions",e,"messages"],enabled:!!e});p.useEffect(()=>{if(k&&Array.isArray(k)&&k.length>0){const O=k[k.length-1];O&&O.createdAt!==c&&(d(O.createdAt),O.role==="assistant"&&h(!1))}},[k,c]);const C=Zs({mutationFn:async()=>await at("/api/chat-sessions",{method:"POST",body:JSON.stringify({title:"  EVERLIV "})}),onSuccess:O=>{t(O.id),g.invalidateQueries({queryKey:["/api/chat-sessions"]})}}),S=Zs({mutationFn:async O=>await at(`/api/chat-sessions/${e}/messages`,{method:"POST",body:JSON.stringify({role:"user",content:O})}),onMutate:async O=>{await g.cancelQueries({queryKey:["/api/chat-sessions",e,"messages"]});const M=g.getQueryData(["/api/chat-sessions",e,"messages"]),F={id:`temp-${Date.now()}`,content:O,role:"user",sessionId:e,createdAt:new Date().toISOString()};return g.setQueryData(["/api/chat-sessions",e,"messages"],I=>I?[...I,F]:[F]),s(""),setTimeout(b,50),{previousMessages:M}},onSuccess:()=>{h(!0),setTimeout(()=>{g.invalidateQueries({queryKey:["/api/chat-sessions",e,"messages"]})},500)},onError:(O,M,F)=>{g.setQueryData(["/api/chat-sessions",e,"messages"],F==null?void 0:F.previousMessages),s(M),f({title:"",description:"   ",variant:"destructive"})}});p.useEffect(()=>{j&&Array.isArray(j)&&j.length>0?t(j[0].id):j&&Array.isArray(j)&&j.length===0&&C.mutate()},[j]),p.useEffect(()=>{k&&m.current&&setTimeout(b,100)},[k,b]);const E=O=>{if(O.preventDefault(),!r.trim()||!e)return;let M=r.trim();o.length>0&&(M+=`

  : ${o.length}`,o.forEach(F=>{M+=`
 ${F.name} (${(F.size/1024).toFixed(1)} KB)`})),S.mutate(M),l([])},T=O=>{if(O.target.files){const M=Array.from(O.target.files),F=M.filter(R=>R.type.startsWith("image/")),I=M.filter(R=>!R.type.startsWith("image/"));F.length>0&&F.forEach(R=>{const V=new FileReader;V.onload=async Q=>{var se;if((se=Q.target)!=null&&se.result&&e){const pe=Q.target.result.split(",")[1];await A(pe,R.type,R.name)}},V.readAsDataURL(R)}),I.length>0&&(l(R=>[...R,...I]),f({title:" ",description:` ${I.length} ()`}))}},A=async(O,M,F)=>{if(e)try{const I=`    : ${F}`,R={id:`temp-user-${Date.now()}`,content:I,role:"user",sessionId:e,createdAt:new Date().toISOString()};g.setQueryData(["/api/chat-sessions",e,"messages"],pe=>pe?[...pe,R]:[R]),await at(`/api/chat-sessions/${e}/messages`,{method:"POST",body:JSON.stringify({role:"user",content:I})});const V=await at(`/api/chat-sessions/${e}/analyze-image`,{method:"POST",body:JSON.stringify({imageBase64:O,mimeType:M,question:r.trim()||"      "})}),Q=` **  "${F}":**

${V.analysis}`,se={id:`temp-ai-${Date.now()}`,content:Q,role:"assistant",sessionId:e,createdAt:new Date().toISOString()};g.setQueryData(["/api/chat-sessions",e,"messages"],pe=>pe?[...pe,se]:[se]),await at(`/api/chat-sessions/${e}/messages`,{method:"POST",body:JSON.stringify({role:"assistant",content:Q})}),h(!1),setTimeout(()=>{g.invalidateQueries({queryKey:["/api/chat-sessions",e,"messages"]})},100),s(""),h(!0),f({title:"  ",description:"   -    "})}catch(I){console.error("Error analyzing image:",I);try{await at(`/api/chat-sessions/${e}/messages`,{method:"POST",body:JSON.stringify({role:"assistant",content:` **    "${F}"**

    .

**    :**
  , ?
  ?
  ?

      !`})}),setTimeout(()=>{g.invalidateQueries({queryKey:["/api/chat-sessions",e,"messages"]})},100)}catch(R){console.error("Failed to send fallback message:",R)}f({title:"   ",description:"    -   ",variant:"destructive"})}},L=async()=>{try{const O=await navigator.mediaDevices.getUserMedia({audio:!0}),M=new MediaRecorder(O);x.current=M,N.current=[],M.ondataavailable=F=>{N.current.push(F.data)},M.onstop=()=>{const F=new Blob(N.current,{type:"audio/webm"});q(F),O.getTracks().forEach(I=>I.stop())},M.start(),a(!0),f({title:" ",description:"  "})}catch{f({title:"",description:"     ",variant:"destructive"})}},z=()=>{x.current&&n&&(x.current.stop(),a(!1),f({title:" ",description:" ..."}))},q=async O=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const M=window.SpeechRecognition||window.webkitSpeechRecognition,F=new M;F.lang="ru-RU",F.continuous=!1,F.interimResults=!1,F.onresult=I=>{const R=I.results[0][0].transcript;s(V=>V+" "+R),f({title:" ",description:R})},F.onerror=()=>{f({title:" ",description:"   ",variant:"destructive"})},setTimeout(()=>{const I="   ";s(R=>R+" "+I),f({title:" ",description:I})},1e3)}};return i.jsxs("div",{className:"flex flex-col h-screen bg-white",children:[i.jsx("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ze,{href:"/app/dashboard",children:i.jsx(X,{"data-testid":"button-back",variant:"ghost",size:"icon",className:"hover:bg-gray-100",children:i.jsx(Fa,{className:"w-5 h-5"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"EVERLIV "}),i.jsx("p",{className:"text-xs text-green-600 font-medium",children:"  -"})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(X,{variant:"ghost",size:"icon",className:"hover:bg-gray-100","data-testid":"button-chat-menu",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})})]})}),i.jsx(om,{ref:m,className:"flex-1 bg-gray-50",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:i.jsxs("div",{className:"space-y-4",children:[!k||!Array.isArray(k)||k.length===0?i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"max-w-lg animate-fadeIn",children:i.jsx("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-sm border border-gray-100 transform transition-all duration-200 hover:shadow-md",children:i.jsx("p",{className:"text-gray-700",children:"!  EVERLIV     -  .     ,     ,        .      !"})})})}):k.map((O,M)=>i.jsx("div",{className:`flex ${O.role==="user"?"justify-end animate-slideInRight":"justify-start animate-slideInLeft"}`,style:{animationDelay:`${M*.1}s`},children:O.role==="user"?i.jsxs("div",{className:"max-w-lg",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white rounded-2xl rounded-tr-sm px-4 py-3 shadow-md transform transition-all duration-200 hover:shadow-lg hover:scale-[1.02]","data-testid":`message-${O.role}`,children:i.jsx("p",{className:"whitespace-pre-line",children:O.content})}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 text-right opacity-70",children:new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})})]}):i.jsxs("div",{className:"max-w-lg",children:[i.jsx("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-sm border border-gray-100 transform transition-all duration-200 hover:shadow-md","data-testid":`message-${O.role}`,children:O.role==="assistant"&&O.createdAt===c&&M===(k==null?void 0:k.length)-1&&!u?i.jsx(EI,{text:O.content,speed:15,className:"text-gray-700",onTyping:b}):i.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:O.content})}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 opacity-70",children:new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})})]})},O.id)),(S.isPending||u)&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"max-w-lg animate-fadeIn",children:i.jsx("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex space-x-2 items-center",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}}),i.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"EVERLIV  ..."})]})})})})]})})}),i.jsx("div",{className:"bg-white border-t border-gray-200 px-4 py-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.length>0&&i.jsxs("div",{className:"mb-2 p-2 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"text-xs text-gray-600 mb-1",children:" :"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((O,M)=>i.jsxs("div",{className:"bg-white px-2 py-1 rounded-full border border-gray-200 text-xs flex items-center gap-1",children:[i.jsx(Ob,{className:"w-3 h-3"}),i.jsx("span",{children:O.name}),i.jsx("button",{type:"button",onClick:()=>l(F=>F.filter((I,R)=>R!==M)),className:"ml-1 text-gray-400 hover:text-red-500",children:""})]},M))})]}),i.jsxs("form",{onSubmit:E,className:"flex items-center space-x-2",children:[i.jsx("input",{ref:v,type:"file",multiple:!0,onChange:T,className:"hidden",accept:"image/*,.pdf,.doc,.docx,.txt"}),i.jsx(X,{type:"button",variant:"ghost",size:"icon",className:"hover:bg-gray-100 text-gray-500","data-testid":"button-attach",onClick:()=>{var O;return(O=v.current)==null?void 0:O.click()},children:i.jsx(Ob,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ie,{ref:y,"data-testid":"input-chat-message",value:r,onChange:O=>s(O.target.value),placeholder:" ...",className:"w-full pl-4 pr-12 py-3 rounded-full border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all bg-gray-50 hover:bg-white",disabled:S.isPending||n}),i.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:i.jsx(X,{type:"button",variant:"ghost",size:"icon",className:`hover:bg-gray-100 w-8 h-8 ${n?"text-red-500 animate-pulse":"text-gray-500"}`,"data-testid":"button-voice",onClick:n?z:L,children:n?i.jsx(gA,{className:"w-4 h-4"}):i.jsx(xA,{className:"w-4 h-4"})})})]}),i.jsx(X,{"data-testid":"button-send-message",type:"submit",disabled:!r.trim()||S.isPending,className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg transition-all duration-200 disabled:opacity-50 flex items-center justify-center p-0",children:i.jsx(Nk,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center justify-center mt-2 space-x-4",children:[i.jsx("button",{onClick:()=>s("    "),className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:" "}),i.jsx("span",{className:"text-gray-300",children:""}),i.jsx("button",{onClick:()=>s("   : "),className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:""}),i.jsx("span",{className:"text-gray-300",children:""}),i.jsx("button",{onClick:()=>s("    "),className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:""})]})]})})]})}function PI(e,t,r){const s=[];return e.forEach(n=>typeof n!="string"?s.push(n):t[Symbol.split](n).forEach((a,o,l)=>{a!==""&&s.push(a),o<l.length-1&&s.push(r)})),s}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function C1(e,t){const r=/\$/g,s="$$$$";let n=[e];if(t==null)return n;for(const a of Object.keys(t))if(a!=="_"){let o=t[a];typeof o=="string"&&(o=r[Symbol.replace](o,s)),n=PI(n,new RegExp(`%\\{${a}\\}`,"g"),o)}return n}const AI=e=>{throw new Error(`missing string: ${e}`)};var _d,Cd,m0;class L_{constructor(t,{onMissingKey:r=AI}={}){U(this,Cd);$(this,"locale");U(this,_d);this.locale={strings:{},pluralize(s){return s===1?0:1}},Array.isArray(t)?t.forEach(H(this,Cd,m0),this):H(this,Cd,m0).call(this,t),B(this,_d,r)}translate(t,r){return this.translateArray(t,r).join("")}translateArray(t,r){let s=this.locale.strings[t];if(s==null&&(w(this,_d).call(this,t),s=t),typeof s=="object"){if(r&&typeof r.smart_count<"u"){const a=this.locale.pluralize(r.smart_count);return C1(s[a],r)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof s!="string")throw new Error("string was not a string");return C1(s,r)}}_d=new WeakMap,Cd=new WeakSet,m0=function(t){if(!(t!=null&&t.strings))return;const r=this.locale;Object.assign(this.locale,{strings:{...r.strings,...t.strings},pluralize:t.pluralize||r.pluralize})};class $_{constructor(t,r){$(this,"uppy");$(this,"opts");$(this,"id");$(this,"defaultLocale");$(this,"i18n");$(this,"i18nArray");$(this,"type");$(this,"VERSION");this.uppy=t,this.opts=r??{}}getPluginState(){const{plugins:t}=this.uppy.getState();return(t==null?void 0:t[this.id])||{}}setPluginState(t){const{plugins:r}=this.uppy.getState();this.uppy.setState({plugins:{...r,[this.id]:{...r[this.id],...t}}})}setOptions(t){this.opts={...this.opts,...t},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const t=new L_([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(t){}afterUpdate(){}}function up(e){return e<10?`0${e}`:e.toString()}function fh(){const e=new Date,t=up(e.getHours()),r=up(e.getMinutes()),s=up(e.getSeconds());return`${t}:${r}:${s}`}const RI={debug:()=>{},warn:()=>{},error:(...e)=>console.error(`[Uppy] [${fh()}]`,...e)},MI={debug:(...e)=>console.debug(`[Uppy] [${fh()}]`,...e),warn:(...e)=>console.warn(`[Uppy] [${fh()}]`,...e),error:(...e)=>console.error(`[Uppy] [${fh()}]`,...e)};function U_(e){return typeof e!="object"||e===null||!("nodeType"in e)?!1:e.nodeType===Node.ELEMENT_NODE}function FI(e,t=document){return typeof e=="string"?t.querySelector(e):U_(e)?e:null}function z_(e){for(;e&&!e.dir;)e=e.parentNode;return e==null?void 0:e.dir}var au,Ne,B_,Ui,E1,V_,H_,W_,Iy,p0,g0,xd={},q_=[],OI=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ou=Array.isArray;function Gs(e,t){for(var r in t)e[r]=t[r];return e}function Dy(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function yd(e,t,r){var s,n,a,o={};for(a in t)a=="key"?s=t[a]:a=="ref"?n=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?au.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return Rc(e,o,s,n,null)}function Rc(e,t,r,s,n){var a={type:e,props:t,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n??++B_,__i:-1,__u:0};return n==null&&Ne.vnode!=null&&Ne.vnode(a),a}function II(){return{current:null}}function xs(e){return e.children}function br(e,t){this.props=e,this.context=t}function Cl(e,t){if(t==null)return e.__?Cl(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Cl(e):null}function G_(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return G_(e)}}function T1(e){(!e.__d&&(e.__d=!0)&&Ui.push(e)&&!ff.__r++||E1!=Ne.debounceRendering)&&((E1=Ne.debounceRendering)||V_)(ff)}function ff(){for(var e,t,r,s,n,a,o,l=1;Ui.length;)Ui.length>l&&Ui.sort(H_),e=Ui.shift(),l=Ui.length,e.__d&&(r=void 0,n=(s=(t=e).__v).__e,a=[],o=[],t.__P&&((r=Gs({},s)).__v=s.__v+1,Ne.vnode&&Ne.vnode(r),Ly(t.__P,r,s,t.__n,t.__P.namespaceURI,32&s.__u?[n]:null,a,n??Cl(s),!!(32&s.__u),o),r.__v=s.__v,r.__.__k[r.__i]=r,Z_(a,r,o),r.__e!=n&&G_(r)));ff.__r=0}function K_(e,t,r,s,n,a,o,l,c,d,u){var h,f,g,y,m,b,v,x=s&&s.__k||q_,N=t.length;for(c=DI(r,t,x,c,N),h=0;h<N;h++)(g=r.__k[h])!=null&&(f=g.__i==-1?xd:x[g.__i]||xd,g.__i=h,b=Ly(e,g,f,n,a,o,l,c,d,u),y=g.__e,g.ref&&f.ref!=g.ref&&(f.ref&&$y(f.ref,null,g),u.push(g.ref,g.__c||y,g)),m==null&&y!=null&&(m=y),(v=!!(4&g.__u))||f.__k===g.__k?c=Q_(g,c,e,v):typeof g.type=="function"&&b!==void 0?c=b:y&&(c=y.nextSibling),g.__u&=-7);return r.__e=m,c}function DI(e,t,r,s,n){var a,o,l,c,d,u=r.length,h=u,f=0;for(e.__k=new Array(n),a=0;a<n;a++)(o=t[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+f,(o=e.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Rc(null,o,null,null,null):ou(o)?Rc(xs,{children:o},null,null,null):o.constructor==null&&o.__b>0?Rc(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,l=null,(d=o.__i=LI(o,r,c,h))!=-1&&(h--,(l=r[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(n>u?f--:n<u&&f++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?f--:d==c+1?f++:(d>c?f--:f++,o.__u|=4))):e.__k[a]=null;if(h)for(a=0;a<u;a++)(l=r[a])!=null&&!(2&l.__u)&&(l.__e==s&&(s=Cl(l)),X_(l,l));return s}function Q_(e,t,r,s){var n,a;if(typeof e.type=="function"){for(n=e.__k,a=0;n&&a<n.length;a++)n[a]&&(n[a].__=e,t=Q_(n[a],t,r,s));return t}e.__e!=t&&(s&&(t&&e.type&&!t.parentNode&&(t=Cl(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function hs(e,t){return t=t||[],e==null||typeof e=="boolean"||(ou(e)?e.some(function(r){hs(r,t)}):t.push(e)),t}function LI(e,t,r,s){var n,a,o,l=e.key,c=e.type,d=t[r],u=d!=null&&(2&d.__u)==0;if(d===null&&e.key==null||u&&l==d.key&&c==d.type)return r;if(s>(u?1:0)){for(n=r-1,a=r+1;n>=0||a<t.length;)if((d=t[o=n>=0?n--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function P1(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||OI.test(t)?r:r+"px"}function Iu(e,t,r,s,n){var a,o;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(t in s)r&&t in r||P1(e.style,t,"");if(r)for(t in r)s&&r[t]==s[t]||P1(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(W_,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?s?r.u=s.u:(r.u=Iy,e.addEventListener(t,a?g0:p0,a)):e.removeEventListener(t,a?g0:p0,a);else{if(n=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function A1(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=Iy++;else if(t.t<r.u)return;return r(Ne.event?Ne.event(t):t)}}}function Ly(e,t,r,s,n,a,o,l,c,d){var u,h,f,g,y,m,b,v,x,N,j,k,C,S,E,T,A,L=t.type;if(t.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),a=[l=t.__e=r.__e]),(u=Ne.__b)&&u(t);e:if(typeof L=="function")try{if(v=t.props,x="prototype"in L&&L.prototype.render,N=(u=L.contextType)&&s[u.__c],j=u?N?N.props.value:u.__:s,r.__c?b=(h=t.__c=r.__c).__=h.__E:(x?t.__c=h=new L(v,j):(t.__c=h=new br(v,j),h.constructor=L,h.render=UI),N&&N.sub(h),h.props=v,h.state||(h.state={}),h.context=j,h.__n=s,f=h.__d=!0,h.__h=[],h._sb=[]),x&&h.__s==null&&(h.__s=h.state),x&&L.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Gs({},h.__s)),Gs(h.__s,L.getDerivedStateFromProps(v,h.__s))),g=h.props,y=h.state,h.__v=t,f)x&&L.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),x&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(x&&L.getDerivedStateFromProps==null&&v!==g&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(v,j),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(v,h.__s,j)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(h.props=v,h.state=h.__s,h.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(z){z&&(z.__=t)}),k=0;k<h._sb.length;k++)h.__h.push(h._sb[k]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(v,h.__s,j),x&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(g,y,m)})}if(h.context=j,h.props=v,h.__P=e,h.__e=!1,C=Ne.__r,S=0,x){for(h.state=h.__s,h.__d=!1,C&&C(t),u=h.render(h.props,h.state,h.context),E=0;E<h._sb.length;E++)h.__h.push(h._sb[E]);h._sb=[]}else do h.__d=!1,C&&C(t),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++S<25);h.state=h.__s,h.getChildContext!=null&&(s=Gs(Gs({},s),h.getChildContext())),x&&!f&&h.getSnapshotBeforeUpdate!=null&&(m=h.getSnapshotBeforeUpdate(g,y)),T=u,u!=null&&u.type===xs&&u.key==null&&(T=Y_(u.props.children)),l=K_(e,ou(T)?T:[T],t,r,s,n,a,o,l,c,d),h.base=t.__e,t.__u&=-161,h.__h.length&&o.push(h),b&&(h.__E=h.__=null)}catch(z){if(t.__v=null,c||a!=null)if(z.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,t.__e=l}else{for(A=a.length;A--;)Dy(a[A]);x0(t)}else t.__e=r.__e,t.__k=r.__k,z.then||x0(t);Ne.__e(z,t,r)}else a==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):l=t.__e=$I(r.__e,t,r,s,n,a,o,c,d);return(u=Ne.diffed)&&u(t),128&t.__u?void 0:l}function x0(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(x0)}function Z_(e,t,r){for(var s=0;s<r.length;s++)$y(r[s],r[++s],r[++s]);Ne.__c&&Ne.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(a){a.call(n)})}catch(a){Ne.__e(a,n.__v)}})}function Y_(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:ou(e)?e.map(Y_):Gs({},e)}function $I(e,t,r,s,n,a,o,l,c){var d,u,h,f,g,y,m,b=r.props,v=t.props,x=t.type;if(x=="svg"?n="http://www.w3.org/2000/svg":x=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((g=a[d])&&"setAttribute"in g==!!x&&(x?g.localName==x:g.nodeType==3)){e=g,a[d]=null;break}}if(e==null){if(x==null)return document.createTextNode(v);e=document.createElementNS(n,x,v.is&&v),l&&(Ne.__m&&Ne.__m(t,a),l=!1),a=null}if(x==null)b===v||l&&e.data==v||(e.data=v);else{if(a=a&&au.call(e.childNodes),b=r.props||xd,!l&&a!=null)for(b={},d=0;d<e.attributes.length;d++)b[(g=e.attributes[d]).name]=g.value;for(d in b)if(g=b[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=g;else if(!(d in v)){if(d=="value"&&"defaultValue"in v||d=="checked"&&"defaultChecked"in v)continue;Iu(e,d,null,g,n)}}for(d in v)g=v[d],d=="children"?f=g:d=="dangerouslySetInnerHTML"?u=g:d=="value"?y=g:d=="checked"?m=g:l&&typeof g!="function"||b[d]===g||Iu(e,d,g,b[d],n);if(u)l||h&&(u.__html==h.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(h&&(e.innerHTML=""),K_(t.type=="template"?e.content:e,ou(f)?f:[f],t,r,s,x=="foreignObject"?"http://www.w3.org/1999/xhtml":n,a,o,a?a[0]:r.__k&&Cl(r,0),l,c),a!=null)for(d=a.length;d--;)Dy(a[d]);l||(d="value",x=="progress"&&y==null?e.removeAttribute("value"):y!=null&&(y!==e[d]||x=="progress"&&!y||x=="option"&&y!=b[d])&&Iu(e,d,y,b[d],n),d="checked",m!=null&&m!=e[d]&&Iu(e,d,m,b[d],n))}return e}function $y(e,t,r){try{if(typeof e=="function"){var s=typeof e.__u=="function";s&&e.__u(),s&&t==null||(e.__u=e(t))}else e.current=t}catch(n){Ne.__e(n,r)}}function X_(e,t,r){var s,n;if(Ne.unmount&&Ne.unmount(e),(s=e.ref)&&(s.current&&s.current!=e.__e||$y(s,null,t)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(a){Ne.__e(a,t)}s.base=s.__P=null}if(s=e.__k)for(n=0;n<s.length;n++)s[n]&&X_(s[n],t,r||typeof e.type!="function");r||Dy(e.__e),e.__c=e.__=e.__e=void 0}function UI(e,t,r){return this.constructor(e,r)}function zI(e,t,r){var s,n,a,o;t==document&&(t=document.documentElement),Ne.__&&Ne.__(e,t),n=(s=typeof r=="function")?null:t.__k,a=[],o=[],Ly(t,e=(!s&&r||t).__k=yd(xs,null,[e]),n||xd,xd,t.namespaceURI,!s&&r?[r]:n?null:t.firstChild?au.call(t.childNodes):null,a,!s&&r?r:n?n.__e:t.firstChild,s,o),Z_(a,e,o)}function J_(e,t,r){var s,n,a,o,l=Gs({},e.props);for(a in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)a=="key"?s=t[a]:a=="ref"?n=t[a]:l[a]=t[a]===void 0&&o!=null?o[a]:t[a];return arguments.length>2&&(l.children=arguments.length>3?au.call(arguments,2):r),Rc(e.type,l,s||e.key,n||e.ref,null)}au=q_.slice,Ne={__e:function(e,t,r,s){for(var n,a,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((a=n.constructor)&&a.getDerivedStateFromError!=null&&(n.setState(a.getDerivedStateFromError(e)),o=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e,s||{}),o=n.__d),o)return n.__E=n}catch(l){e=l}throw e}},B_=0,br.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Gs({},this.state),typeof e=="function"&&(e=e(Gs({},r),this.props)),e&&Gs(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),T1(this))},br.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),T1(this))},br.prototype.render=xs,Ui=[],V_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,H_=function(e,t){return e.__v.__b-t.__v.__b},ff.__r=0,W_=/(PointerCapture)$|Capture$/i,Iy=0,p0=A1(!1),g0=A1(!0);var vd,nt,hp,R1,bd=0,eC=[],ht=Ne,M1=ht.__b,F1=ht.__r,O1=ht.diffed,I1=ht.__c,D1=ht.unmount,L1=ht.__;function Uy(e,t){ht.__h&&ht.__h(nt,e,bd||t),bd=0;var r=nt.__H||(nt.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function mf(e){return bd=1,BI(rC,e)}function BI(e,t,r){var s=Uy(vd++,2);if(s.t=e,!s.__c&&(s.__=[r?r(t):rC(void 0,t),function(l){var c=s.__N?s.__N[0]:s.__[0],d=s.t(c,l);c!==d&&(s.__N=[d,s.__[1]],s.__c.setState({}))}],s.__c=nt,!nt.__f)){var n=function(l,c,d){if(!s.__c.__H)return!0;var u=s.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!a||a.call(this,l,c,d);var h=s.__c.props!==l;return u.forEach(function(f){if(f.__N){var g=f.__[0];f.__=f.__N,f.__N=void 0,g!==f.__[0]&&(h=!0)}}),a&&a.call(this,l,c,d)||h};nt.__f=!0;var a=nt.shouldComponentUpdate,o=nt.componentWillUpdate;nt.componentWillUpdate=function(l,c,d){if(this.__e){var u=a;a=void 0,n(l,c,d),a=u}o&&o.call(this,l,c,d)},nt.shouldComponentUpdate=n}return s.__N||s.__}function y0(e,t){var r=Uy(vd++,3);!ht.__s&&tC(r.__H,t)&&(r.__=e,r.u=t,nt.__H.__h.push(r))}function mh(e){return bd=5,zy(function(){return{current:e}},[])}function zy(e,t){var r=Uy(vd++,7);return tC(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function VI(e,t){return bd=8,zy(function(){return e},t)}function HI(){for(var e;e=eC.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ph),e.__H.__h.forEach(v0),e.__H.__h=[]}catch(t){e.__H.__h=[],ht.__e(t,e.__v)}}ht.__b=function(e){nt=null,M1&&M1(e)},ht.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),L1&&L1(e,t)},ht.__r=function(e){F1&&F1(e),vd=0;var t=(nt=e.__c).__H;t&&(hp===nt?(t.__h=[],nt.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(ph),t.__h.forEach(v0),t.__h=[],vd=0)),hp=nt},ht.diffed=function(e){O1&&O1(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(eC.push(t)!==1&&R1===ht.requestAnimationFrame||((R1=ht.requestAnimationFrame)||WI)(HI)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),hp=nt=null},ht.__c=function(e,t){t.some(function(r){try{r.__h.forEach(ph),r.__h=r.__h.filter(function(s){return!s.__||v0(s)})}catch(s){t.some(function(n){n.__h&&(n.__h=[])}),t=[],ht.__e(s,r.__v)}}),I1&&I1(e,t)},ht.unmount=function(e){D1&&D1(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(s){try{ph(s)}catch(n){t=n}}),r.__H=void 0,t&&ht.__e(t,r.__v))};var $1=typeof requestAnimationFrame=="function";function WI(e){var t,r=function(){clearTimeout(s),$1&&cancelAnimationFrame(t),setTimeout(e)},s=setTimeout(r,35);$1&&(t=requestAnimationFrame(r))}function ph(e){var t=nt,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),nt=t}function v0(e){var t=nt;e.__c=e.__(),nt=t}function tC(e,t){return!e||e.length!==t.length||t.some(function(r,s){return r!==e[s]})}function rC(e,t){return typeof t=="function"?t(e):t}function qI(e,t){for(var r in t)e[r]=t[r];return e}function U1(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var s in t)if(s!=="__source"&&e[s]!==t[s])return!0;return!1}function z1(e,t){this.props=e,this.context=t}(z1.prototype=new br).isPureReactComponent=!0,z1.prototype.shouldComponentUpdate=function(e,t){return U1(this.props,e)||U1(this.state,t)};var B1=Ne.__b;Ne.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),B1&&B1(e)};var GI=Ne.__e;Ne.__e=function(e,t,r,s){if(e.then){for(var n,a=t;a=a.__;)if((n=a.__c)&&n.__c)return t.__e==null&&(t.__e=r.__e,t.__k=r.__k),n.__c(e,t)}GI(e,t,r,s)};var V1=Ne.unmount;function sC(e,t,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),e.__c.__H=null),(e=qI({},e)).__c!=null&&(e.__c.__P===r&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(s){return sC(s,t,r)})),e}function nC(e,t,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(s){return nC(s,t,r)}),e.__c&&e.__c.__P===t&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}function fp(){this.__u=0,this.o=null,this.__b=null}function iC(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Du(){this.i=null,this.l=null}Ne.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),V1&&V1(e)},(fp.prototype=new br).__c=function(e,t){var r=t.__c,s=this;s.o==null&&(s.o=[]),s.o.push(r);var n=iC(s.__v),a=!1,o=function(){a||(a=!0,r.__R=null,n?n(l):l())};r.__R=o;var l=function(){if(!--s.__u){if(s.state.__a){var c=s.state.__a;s.__v.__k[0]=nC(c,c.__c.__P,c.__c.__O)}var d;for(s.setState({__a:s.__b=null});d=s.o.pop();)d.forceUpdate()}};s.__u++||32&t.__u||s.setState({__a:s.__b=s.__v.__k[0]}),e.then(o,o)},fp.prototype.componentWillUnmount=function(){this.o=[]},fp.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=sC(this.__b,r,s.__O=s.__P)}this.__b=null}var n=t.__a&&yd(xs,null,e.fallback);return n&&(n.__u&=-33),[yd(xs,null,t.__a?null:e.children),n]};var H1=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(Du.prototype=new br).__a=function(e){var t=this,r=iC(t.__v),s=t.l.get(e);return s[0]++,function(n){var a=function(){t.props.revealOrder?(s.push(n),H1(t,e,s)):n()};r?r(a):a()}},Du.prototype.render=function(e){this.i=null,this.l=new Map;var t=hs(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},Du.prototype.componentDidUpdate=Du.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,r){H1(e,r,t)})};var KI=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,QI=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ZI=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,YI=/[A-Z0-9]/g,XI=typeof document<"u",JI=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function W1(e,t,r){return t.__k==null&&(t.textContent=""),zI(e,t),typeof r=="function"&&r(),e?e.__c:null}br.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(br.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var q1=Ne.event;function eD(){}function tD(){return this.cancelBubble}function rD(){return this.defaultPrevented}Ne.event=function(e){return q1&&(e=q1(e)),e.persist=eD,e.isPropagationStopped=tD,e.isDefaultPrevented=rD,e.nativeEvent=e};var sD={enumerable:!1,configurable:!0,get:function(){return this.class}},G1=Ne.vnode;Ne.vnode=function(e){typeof e.type=="string"&&function(t){var r=t.props,s=t.type,n={},a=s.indexOf("-")===-1;for(var o in r){var l=r[o];if(!(o==="value"&&"defaultValue"in r&&l==null||XI&&o==="children"&&s==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in r&&r.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||s!=="input"&&s!=="textarea"||JI(r.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":ZI.test(o)&&(o=c):c=o="oninput":a&&QI.test(o)?o=o.replace(YI,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&n[o=c]&&(o="oninputCapture"),n[o]=l}}s=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=hs(r.children).forEach(function(d){d.props.selected=n.value.indexOf(d.props.value)!=-1})),s=="select"&&n.defaultValue!=null&&(n.value=hs(r.children).forEach(function(d){d.props.selected=n.multiple?n.defaultValue.indexOf(d.props.value)!=-1:n.defaultValue==d.props.value})),r.class&&!r.className?(n.class=r.class,Object.defineProperty(n,"className",sD)):(r.className&&!r.class||r.class&&r.className)&&(n.class=n.className=r.className),t.props=n}(e),e.$$typeof=KI,G1&&G1(e)};var K1=Ne.__r;Ne.__r=function(e){K1&&K1(e),e.__c};var Q1=Ne.diffed;Ne.diffed=function(e){Q1&&Q1(e);var t=e.props,r=e.__e;r!=null&&e.type==="textarea"&&"value"in t&&t.value!==r.value&&(r.value=t.value==null?"":t.value)};function nD(e){let t=null,r;return(...s)=>(r=s,t||(t=Promise.resolve().then(()=>(t=null,e(...r)))),t)}var Ed;const xf=class xf extends $_{constructor(){super(...arguments);U(this,Ed);$(this,"isTargetDOMEl");$(this,"el");$(this,"parent");$(this,"title")}getTargetPlugin(r){let s;if(typeof(r==null?void 0:r.addTarget)=="function")s=r,s instanceof xf||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:s,UIPlugin:xf}}));else if(typeof r=="function"){const n=r;this.uppy.iteratePlugins(a=>{a instanceof n&&(s=a)})}return s}mount(r,s){const n=s.id,a=FI(r);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),B(this,Ed,nD(d=>{this.uppy.getPlugin(this.id)&&(W1(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${n} to a DOM element '${r}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),W1(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||z_(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(r);if(o)return this.uppy.log(`Installing ${n} to ${o.id}`),this.parent=o,this.el=o.addTarget(s),this.onMount(),this.el;this.uppy.log(`Not installing ${n}`);let l=`Invalid target option given to ${n}.`;throw typeof r=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(r,s){throw new Error("Extend the render method to add your plugin to a DOM element")}update(r){var s;this.el!=null&&((s=w(this,Ed))==null||s.call(this,r))}unmount(){var r;this.isTargetDOMEl&&((r=this.el)==null||r.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Ed=new WeakMap;let El=xf;const iD="@uppy/store-default",aD="The default simple object-based store for Uppy.",oD="4.3.2",lD="MIT",cD="lib/index.js",dD="module",uD={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},hD=["file uploader","uppy","uppy-store"],fD="https://uppy.io",mD={url:"https://github.com/transloadit/uppy/issues"},pD={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},gD={type:"git",url:"git+https://github.com/transloadit/uppy.git"},xD=["src","lib","dist","CHANGELOG.md"],yD={name:iD,description:aD,version:oD,license:lD,main:cD,type:dD,scripts:uD,keywords:hD,homepage:fD,bugs:mD,devDependencies:pD,repository:gD,files:xD};var $o,yf,oC;class aC{constructor(){U(this,yf);$(this,"state",{});U(this,$o,new Set)}getState(){return this.state}setState(t){const r={...this.state},s={...this.state,...t};this.state=s,H(this,yf,oC).call(this,r,s,t)}subscribe(t){return w(this,$o).add(t),()=>{w(this,$o).delete(t)}}}$o=new WeakMap,yf=new WeakSet,oC=function(...t){w(this,$o).forEach(r=>{r(...t)})},$(aC,"VERSION",yD.version);function lC(e){const t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}const Z1={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function cC(e){var r;if(e.type)return e.type;const t=e.name?(r=lC(e.name).extension)==null?void 0:r.toLowerCase():null;return t&&t in Z1?Z1[t]:"application/octet-stream"}function vD(e){return e.charCodeAt(0).toString(32)}function Y1(e){let t="";return e.replace(/[^A-Z0-9]/gi,r=>(t+=`-${vD(r)}`,"/"))+t}function bD(e,t){let r=t||"uppy";return typeof e.name=="string"&&(r+=`-${Y1(e.name.toLowerCase())}`),e.type!==void 0&&(r+=`-${e.type}`),e.meta&&typeof e.meta.relativePath=="string"&&(r+=`-${Y1(e.meta.relativePath.toLowerCase())}`),e.data.size!==void 0&&(r+=`-${e.data.size}`),e.data.lastModified!==void 0&&(r+=`-${e.data.lastModified}`),r}function wD(e){return!e.isRemote||!e.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}function ND(e,t){if(wD(e))return e.id;const r=cC(e);return bD({...e,type:r},t)}function jD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var By=jD,kD=typeof du=="object"&&du&&du.Object===Object&&du,SD=kD,_D=SD,CD=typeof self=="object"&&self&&self.Object===Object&&self,ED=_D||CD||Function("return this")(),dC=ED,TD=dC,PD=function(){return TD.Date.now()},AD=PD,RD=/\s/;function MD(e){for(var t=e.length;t--&&RD.test(e.charAt(t)););return t}var FD=MD,OD=FD,ID=/^\s+/;function DD(e){return e&&e.slice(0,OD(e)+1).replace(ID,"")}var LD=DD,$D=dC,UD=$D.Symbol,uC=UD,X1=uC,hC=Object.prototype,zD=hC.hasOwnProperty,BD=hC.toString,Yl=X1?X1.toStringTag:void 0;function VD(e){var t=zD.call(e,Yl),r=e[Yl];try{e[Yl]=void 0;var s=!0}catch{}var n=BD.call(e);return s&&(t?e[Yl]=r:delete e[Yl]),n}var HD=VD,WD=Object.prototype,qD=WD.toString;function GD(e){return qD.call(e)}var KD=GD,J1=uC,QD=HD,ZD=KD,YD="[object Null]",XD="[object Undefined]",ew=J1?J1.toStringTag:void 0;function JD(e){return e==null?e===void 0?XD:YD:ew&&ew in Object(e)?QD(e):ZD(e)}var eL=JD;function tL(e){return e!=null&&typeof e=="object"}var rL=tL,sL=eL,nL=rL,iL="[object Symbol]";function aL(e){return typeof e=="symbol"||nL(e)&&sL(e)==iL}var oL=aL,lL=LD,tw=By,cL=oL,rw=NaN,dL=/^[-+]0x[0-9a-f]+$/i,uL=/^0b[01]+$/i,hL=/^0o[0-7]+$/i,fL=parseInt;function mL(e){if(typeof e=="number")return e;if(cL(e))return rw;if(tw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=tw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lL(e);var r=uL.test(e);return r||hL.test(e)?fL(e.slice(2),r?2:8):dL.test(e)?rw:+e}var pL=mL,gL=By,mp=AD,sw=pL,xL="Expected a function",yL=Math.max,vL=Math.min;function bL(e,t,r){var s,n,a,o,l,c,d=0,u=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(xL);t=sw(t)||0,gL(r)&&(u=!!r.leading,h="maxWait"in r,a=h?yL(sw(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function g(C){var S=s,E=n;return s=n=void 0,d=C,o=e.apply(E,S),o}function y(C){return d=C,l=setTimeout(v,t),u?g(C):o}function m(C){var S=C-c,E=C-d,T=t-S;return h?vL(T,a-E):T}function b(C){var S=C-c,E=C-d;return c===void 0||S>=t||S<0||h&&E>=a}function v(){var C=mp();if(b(C))return x(C);l=setTimeout(v,m(C))}function x(C){return l=void 0,f&&s?g(C):(s=n=void 0,o)}function N(){l!==void 0&&clearTimeout(l),d=0,s=c=n=l=void 0}function j(){return l===void 0?o:x(mp())}function k(){var C=mp(),S=b(C);if(s=arguments,n=this,c=C,S){if(l===void 0)return y(c);if(h)return clearTimeout(l),l=setTimeout(v,t),g(c)}return l===void 0&&(l=setTimeout(v,t)),o}return k.cancel=N,k.flush=j,k}var fC=bL;const wL=An(fC);var NL=fC,jL=By,kL="Expected a function";function SL(e,t,r){var s=!0,n=!0;if(typeof e!="function")throw new TypeError(kL);return jL(r)&&(s="leading"in r?!!r.leading:s,n="trailing"in r?!!r.trailing:n),NL(e,t,{leading:s,maxWait:t,trailing:n})}var _L=SL;const CL=An(_L);var EL=function(){var t={},r=t._fns={};t.emit=function(o,l,c,d,u,h,f){var g=s(o);g.length&&n(o,g,[l,c,d,u,h,f])},t.on=function(o,l){r[o]||(r[o]=[]),r[o].push(l)},t.once=function(o,l){function c(){l.apply(this,arguments),t.off(o,c)}this.on(o,c)},t.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],u=0,h=d?d.length:0;for(u;u<h;u++)d[u]!==l&&c.push(d[u])}c.length?this._fns[o]=c:delete this._fns[o]};function s(a){var o=r[a]?r[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(r),u=0,h=d.length;for(u;u<h;u++){var f=d[u];if(f==="*"&&(o=o.concat(r[f])),c.length===2&&c[0]===f){o=o.concat(r[f]);break}}return o}function n(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return t};const TL=An(EL);let PL="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",AL=(e=21)=>{let t="",r=e|0;for(;r--;)t+=PL[Math.random()*64|0];return t};const RL="@uppy/core",ML="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",FL="4.5.3",OL="MIT",IL="lib/index.js",DL="dist/style.min.css",LL="module",$L=["*.css"],UL={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},zL=["file uploader","uppy","uppy-plugin"],BL="https://uppy.io",VL={url:"https://github.com/transloadit/uppy/issues"},HL={type:"git",url:"git+https://github.com/transloadit/uppy.git"},WL=["src","lib","dist","CHANGELOG.md"],qL={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^4.3.2","@uppy/utils":"^6.2.2",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},GL={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},KL={name:RL,description:ML,version:FL,license:OL,main:IL,style:DL,type:LL,sideEffects:$L,scripts:UL,keywords:zL,homepage:BL,bugs:VL,repository:HL,files:WL,dependencies:qL,devDependencies:GL};function QL(e,t){return t.name?t.name:e.split("/")[0]==="image"?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}const ZL={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var YL=function(t){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected a number, got ${typeof t}`);const r=t<0;let s=Math.abs(t);if(r&&(s=-s),s===0)return"0 B";const n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(s)/Math.log(1024)),n.length-1),o=Number(s/1024**a),l=n[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const Wi=An(YL);function mC(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}mC.prototype.match=function(e){var t=!0,r=this.parts,s,n=r.length,a;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(a=(e||"").split(this.separator),s=0;t&&s<n;s++)r[s]!=="*"&&(s<a.length?t=r[s]===a[s]:t=!1);t=t&&a}else if(typeof e.splice=="function")for(t=[],s=e.length;s--;)this.match(e[s])&&(t[t.length]=e[s]);else if(typeof e=="object"){t={};for(var o in e)this.match(o)&&(t[o]=e[o])}return t};var XL=function(e,t,r){var s=new mC(e,r||/[\/\.]/);return typeof t<"u"?s.match(t):s},JL=XL,e9=/[\/\+\.]/,t9=function(e,t){function r(s){var n=JL(s,e,e9);return n&&n.length>=2}return t?r(t.split(";")[0]):r};const r9=An(t9),s9={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class ls extends Error{constructor(r,s){super(r);$(this,"isUserFacing");$(this,"file");$(this,"isRestriction",!0);this.isUserFacing=(s==null?void 0:s.isUserFacing)??!0,s!=null&&s.file&&(this.file=s.file)}}class n9{constructor(t,r){$(this,"getI18n");$(this,"getOpts");this.getI18n=r,this.getOpts=()=>{var n;const s=t();if(((n=s.restrictions)==null?void 0:n.allowedFileTypes)!=null&&!Array.isArray(s.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return s}}validateAggregateRestrictions(t,r){const{maxTotalFileSize:s,maxNumberOfFiles:n}=this.getOpts().restrictions;if(n&&t.filter(o=>!o.isGhost).length+r.length>n)throw new ls(`${this.getI18n()("youCanOnlyUploadX",{smart_count:n})}`);if(s){const a=[...t,...r].reduce((o,l)=>o+(l.size??0),0);if(a>s)throw new ls(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Wi(s),size:Wi(a)}))}}validateSingleFile(t){const{maxFileSize:r,minFileSize:s,allowedFileTypes:n}=this.getOpts().restrictions;if(n&&!n.some(o=>o.includes("/")?t.type?r9(t.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&t.extension?t.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=n.join(", ");throw new ls(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:t})}if(r&&t.size!=null&&t.size>r)throw new ls(this.getI18n()("exceedsSize",{size:Wi(r),file:t.name??this.getI18n()("unnamed")}),{file:t});if(s&&t.size!=null&&t.size<s)throw new ls(this.getI18n()("inferiorSize",{size:Wi(s)}),{file:t})}validate(t,r){r.forEach(s=>{this.validateSingleFile(s)}),this.validateAggregateRestrictions(t,r)}validateMinNumberOfFiles(t){const{minNumberOfFiles:r}=this.getOpts().restrictions;if(r&&Object.keys(t).length<r)throw new ls(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:r}))}getMissingRequiredMetaFields(t){const r=new ls(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:t.name??this.getI18n()("unnamed")})),{requiredMetaFields:s}=this.getOpts().restrictions,n=[];for(const a of s)(!Object.hasOwn(t.meta,a)||t.meta[a]==="")&&n.push(a);return{missingFields:n,error:r}}}function i9(e){if(e==null&&typeof navigator<"u"&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const s=t[1].split(".",2),n=parseInt(s[0],10),a=parseInt(s[1],10);return n<15||n===15&&a<15063||n>18||n===18&&a>=18218}const Lu={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var ts,rs,Td,Ji,Uo,zo,ea,he,Li,w0,pC,N0,gC,j0,k0,S0,_0,vf,C0,ta,xC,yC,si,Pd,hc,vC,gh,fc;const bf=class bf{constructor(t){U(this,he);U(this,ts,Object.create(null));U(this,rs);U(this,Td);U(this,Ji,TL());U(this,Uo,new Set);U(this,zo,new Set);U(this,ea,new Set);$(this,"defaultLocale");$(this,"locale");$(this,"opts");$(this,"store");$(this,"i18n");$(this,"i18nArray");$(this,"scheduledAutoProceed",null);$(this,"wasOffline",!1);U(this,vf,(t,r)=>{const s=t?this.getFile(t.id):void 0;if(t==null||!s){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}if(s.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${t.id}`);return}const n={bytesTotal:r.bytesTotal,percentage:r.bytesTotal!=null&&Number.isFinite(r.bytesTotal)&&r.bytesTotal>0?Math.round(r.bytesUploaded/r.bytesTotal*100):void 0};s.progress.uploadStarted!=null?this.setFileState(t.id,{progress:{...s.progress,...n,bytesUploaded:r.bytesUploaded}}):this.setFileState(t.id,{progress:{...s.progress,...n}}),w(this,ta).call(this)});U(this,ta,CL(()=>H(this,he,C0).call(this),500,{leading:!0,trailing:!0}));U(this,si,this.updateOnlineStatus.bind(this));U(this,Pd,new Map);this.defaultLocale=ZL;const r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:s9,meta:{},onBeforeFileAdded:(n,a)=>!Object.hasOwn(a,n.id),onBeforeUpload:n=>n,store:new aC,logger:RI,infoTimeout:5e3},s={...r,...t};this.opts={...s,restrictions:{...r.restrictions,...t==null?void 0:t.restrictions}},t!=null&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t!=null&&t.debug&&(this.opts.logger=MI),this.log(`Using Core v${bf.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Lu,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:i9(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),B(this,rs,new n9(()=>this.opts,()=>this.i18n)),B(this,Td,this.store.subscribe((n,a,o)=>{this.emit("state-update",n,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),H(this,he,yC).call(this)}emit(t,...r){w(this,Ji).emit(t,...r)}on(t,r){return w(this,Ji).on(t,r),this}once(t,r){return w(this,Ji).once(t,r),this}off(t,r){return w(this,Ji).off(t,r),this}updateAll(t){this.iteratePlugins(r=>{r.update(t)})}setState(t){this.store.setState(t)}getState(){return this.store.getState()}patchFilesState(t){const r=this.getState().files;this.setState({files:{...r,...Object.fromEntries(Object.entries(t).map(([s,n])=>[s,{...r[s],...n}]))}})}setFileState(t,r){if(!this.getState().files[t])throw new Error(`Cant set state for ${t} (the file could have been removed)`);this.patchFilesState({[t]:r})}i18nInit(){const t=s=>this.log(`Missing i18n string: ${s}`,"error"),r=new L_([this.defaultLocale,this.opts.locale],{onMissingKey:t});this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(t){this.opts={...this.opts,...t,restrictions:{...this.opts.restrictions,...t==null?void 0:t.restrictions}},t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(r=>{r.setOptions(t)}),this.setState(void 0)}resetProgress(){const t={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},r={...this.getState().files},s=Object.create(null);Object.keys(r).forEach(n=>{s[n]={...r[n],progress:{...r[n].progress,...t},tus:void 0,transloadit:void 0}}),this.setState({files:s,...Lu})}clear(){const{capabilities:t,currentUploads:r}=this.getState();if(Object.keys(r).length>0&&!t.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Lu,files:{}})}addPreProcessor(t){w(this,Uo).add(t)}removePreProcessor(t){return w(this,Uo).delete(t)}addPostProcessor(t){w(this,ea).add(t)}removePostProcessor(t){return w(this,ea).delete(t)}addUploader(t){w(this,zo).add(t)}removeUploader(t){return w(this,zo).delete(t)}setMeta(t){const r={...this.getState().meta,...t},s={...this.getState().files};Object.keys(s).forEach(n=>{s[n]={...s[n],meta:{...s[n].meta,...t}}}),this.log("Adding metadata:"),this.log(t),this.setState({meta:r,files:s})}setFileMeta(t,r){const s={...this.getState().files};if(!s[t]){this.log(`Was trying to set metadata for a file that has been removed: ${t}`);return}const n={...s[t].meta,...r};s[t]={...s[t],meta:n},this.setState({files:s})}getFile(t){return this.getState().files[t]}getFiles(){const{files:t}=this.getState();return Object.values(t)}getFilesByIds(t){return t.map(r=>this.getFile(r))}getObjectOfFilesPerState(){const{files:t,totalProgress:r,error:s}=this.getState(),n=Object.values(t),a=[],o=[],l=[],c=[],d=[],u=[],h=[],f=[],g=[];for(const y of n){const{progress:m}=y;!m.uploadComplete&&m.uploadStarted&&(a.push(y),y.isPaused||f.push(y)),m.uploadStarted||o.push(y),(m.uploadStarted||m.preprocess||m.postprocess)&&l.push(y),m.uploadStarted&&c.push(y),y.isPaused&&d.push(y),m.uploadComplete&&u.push(y),y.error&&h.push(y),(m.preprocess||m.postprocess)&&g.push(y)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:u,erroredFiles:h,inProgressFiles:a,inProgressNotPausedFiles:f,processingFiles:g,isUploadStarted:c.length>0,isAllComplete:r===100&&u.length===n.length&&g.length===0,isAllErrored:!!s&&h.length===n.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:n.some(y=>y.isGhost)}}validateRestrictions(t,r=this.getFiles()){try{w(this,rs).validate(r,[t])}catch(s){return s}return null}validateSingleFile(t){try{w(this,rs).validateSingleFile(t)}catch(r){return r.message}return null}validateAggregateRestrictions(t){const r=this.getFiles();try{w(this,rs).validateAggregateRestrictions(r,t)}catch(s){return s.message}return null}checkIfFileAlreadyExists(t){const{files:r}=this.getState();return!!(r[t]&&!r[t].isGhost)}addFile(t){H(this,he,N0).call(this,t);const{nextFilesState:r,validFilesToAdd:s,errors:n}=H(this,he,k0).call(this,[t]),a=n.filter(l=>l.isRestriction);if(H(this,he,Li).call(this,a),n.length>0)throw n[0];this.setState({files:r});const[o]=s;return this.emit("file-added",o),this.emit("files-added",s),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),H(this,he,j0).call(this),o.id}addFiles(t){H(this,he,N0).call(this);const{nextFilesState:r,validFilesToAdd:s,errors:n}=H(this,he,k0).call(this,t),a=n.filter(l=>l.isRestriction);H(this,he,Li).call(this,a);const o=n.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:r}),s.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",s),s.length>5?this.log(`Added batch of ${s.length} files`):Object.values(s).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),s.length>0&&H(this,he,j0).call(this)}removeFiles(t){const{files:r,currentUploads:s}=this.getState(),n={...r},a={...s},o=Object.create(null);t.forEach(u=>{r[u]&&(o[u]=r[u],delete n[u])});function l(u){return o[u]===void 0}Object.keys(a).forEach(u=>{const h=s[u].fileIDs.filter(l);if(h.length===0){delete a[u];return}const{capabilities:f}=this.getState();if(h.length!==s[u].fileIDs.length&&!f.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[u]={...s[u],fileIDs:h}});const c={currentUploads:a,files:n};Object.keys(n).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),w(this,ta).call(this);const d=Object.keys(o);d.forEach(u=>{this.emit("file-removed",o[u])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(t){this.removeFiles([t])}pauseResume(t){if(!this.getState().capabilities.resumableUploads||this.getFile(t).progress.uploadComplete)return;const r=this.getFile(t),n=!(r.isPaused||!1);return this.setFileState(t,{isPaused:n}),this.emit("upload-pause",r,n),n}pauseAll(){const t={...this.getState().files};Object.keys(t).filter(s=>!t[s].progress.uploadComplete&&t[s].progress.uploadStarted).forEach(s=>{const n={...t[s],isPaused:!0};t[s]=n}),this.setState({files:t}),this.emit("pause-all")}resumeAll(){const t={...this.getState().files};Object.keys(t).filter(s=>!t[s].progress.uploadComplete&&t[s].progress.uploadStarted).forEach(s=>{const n={...t[s],isPaused:!1,error:null};t[s]=n}),this.setState({files:t}),this.emit("resume-all")}async retryAll(){const t=await H(this,he,_0).call(this);return this.emit("complete",t),t}cancelAll(){this.emit("cancel-all");const{files:t}=this.getState(),r=Object.keys(t);r.length&&this.removeFiles(r),this.setState(Lu)}retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(t));const r=H(this,he,hc).call(this,[t],{forceAllowNewUpload:!0});return H(this,he,fc).call(this,r)}logout(){this.iteratePlugins(t=>{var r,s;(s=(r=t.provider)==null?void 0:r.logout)==null||s.call(r)})}[Symbol.for("uppy test: updateTotalProgress")](){return H(this,he,C0).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(t,...r){if(typeof t!="function"){const o=`Expected a plugin class, but got ${t===null?"null":typeof t}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const s=new t(this,...r),n=s.id;if(!n)throw new Error("Your plugin must have an id");if(!s.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(n);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${n}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return t.VERSION&&this.log(`Using ${n} v${t.VERSION}`),s.type in w(this,ts)?w(this,ts)[s.type].push(s):w(this,ts)[s.type]=[s],s.install(),this.emit("plugin-added",s),this}getPlugin(t){for(const r of Object.values(w(this,ts))){const s=r.find(n=>n.id===t);if(s!=null)return s}}[Symbol.for("uppy test: getPlugins")](t){return w(this,ts)[t]}iteratePlugins(t){Object.values(w(this,ts)).flat(1).forEach(t)}removePlugin(t){this.log(`Removing plugin ${t.id}`),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();const r=w(this,ts)[t.type],s=r.findIndex(o=>o.id===t.id);s!==-1&&r.splice(s,1);const a={plugins:{...this.getState().plugins,[t.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),w(this,Td).call(this),this.iteratePlugins(t=>{this.removePlugin(t)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",w(this,si)),window.removeEventListener("offline",w(this,si)))}hideInfo(){const{info:t}=this.getState();this.setState({info:t.slice(1)}),this.emit("info-hidden")}info(t,r="info",s=3e3){const n=typeof t=="object";this.setState({info:[...this.getState().info,{type:r,message:n?t.message:t,details:n?t.details:null}]}),setTimeout(()=>this.hideInfo(),s),this.emit("info-visible")}log(t,r){const{logger:s}=this.opts;switch(r){case"error":s.error(t);break;case"warning":s.warn(t);break;default:s.debug(t);break}}registerRequestClient(t,r){w(this,Pd).set(t,r)}getRequestClientForFile(t){if(!t.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${t.id}`);const r=w(this,Pd).get(t.remote.requestClientId);if(r==null)throw new Error(`requestClientId "${t.remote.requestClientId}" not registered for file "${t.id}"`);return r}restore(t){return this.log(`Core: attempting to restore upload "${t}"`),this.getState().currentUploads[t]?H(this,he,fc).call(this,t):(H(this,he,gh).call(this,t),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...t){return H(this,he,hc).call(this,...t)}addResultData(t,r){if(!H(this,he,vC).call(this,t)){this.log(`Not setting result for an upload that has been removed: ${t}`);return}const{currentUploads:s}=this.getState(),n={...s[t],result:{...s[t].result,...r}};this.setState({currentUploads:{...s,[t]:n}})}async upload(){var n;(n=w(this,ts).uploader)!=null&&n.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();if(H(this,he,S0).call(this).length>0){const a=await H(this,he,_0).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:t}=this.getState())}const s=this.opts.onBeforeUpload(t);return s===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(s&&typeof s=="object"&&(t=s,this.setState({files:t})),Promise.resolve().then(()=>w(this,rs).validateMinNumberOfFiles(t)).catch(a=>{throw H(this,he,Li).call(this,[a]),a}).then(()=>{if(!H(this,he,pC).call(this,t))throw new ls(this.i18n("missingRequiredMetaField"))}).catch(a=>{throw a}).then(async()=>{const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(u=>u.fileIDs),l=[];Object.keys(t).forEach(u=>{const h=this.getFile(u);!h.progress.uploadStarted&&o.indexOf(u)===-1&&l.push(h.id)});const c=H(this,he,hc).call(this,l),d=await H(this,he,fc).call(this,c);return this.emit("complete",d),d}).catch(a=>{throw this.emit("error",a),this.log(a,"error"),a}))}};ts=new WeakMap,rs=new WeakMap,Td=new WeakMap,Ji=new WeakMap,Uo=new WeakMap,zo=new WeakMap,ea=new WeakMap,he=new WeakSet,Li=function(t){for(const o of t)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const r=t.filter(o=>o.isUserFacing),s=4,n=r.slice(0,s),a=r.slice(s);n.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},w0=function(t){const{missingFields:r,error:s}=w(this,rs).getMissingRequiredMetaFields(t);return r.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:r,error:s.message}),this.log(s.message),this.emit("restriction-failed",t,s),!1):(r.length===0&&t.missingRequiredMetaFields&&this.setFileState(t.id,{missingRequiredMetaFields:[]}),!0)},pC=function(t){let r=!0;for(const s of Object.values(t))H(this,he,w0).call(this,s)||(r=!1);return r},N0=function(t){const{allowNewUpload:r}=this.getState();if(r===!1){const s=new ls(this.i18n("noMoreFilesAllowed"),{file:t});throw H(this,he,Li).call(this,[s]),s}},gC=function(t){const r=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,s=cC(r),n=QL(s,r),a=lC(n).extension,o=ND(r,this.getID()),l=r.meta||{};l.name=n,l.type=s;const c=Number.isFinite(r.data.size)?r.data.size:null;return{source:r.source||"",id:o,name:n,extension:a||"",meta:{...this.getState().meta,...l},type:s,data:r.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:r.isRemote||!1,remote:r.remote,preview:r.preview}},j0=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))},k0=function(t){var o;let{files:r}=this.getState(),s={...r};const n=[],a=[];for(const l of t)try{let c=H(this,he,gC).call(this,l);const d=(o=r[c.id])==null?void 0:o.isGhost;d&&(c={...r[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const u=this.opts.onBeforeFileAdded(c,s);if(r=this.getState().files,s={...r,...s},!u&&this.checkIfFileAlreadyExists(c.id))throw new ls(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(u===!1&&!d)throw new ls("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof u=="object"&&u!==null&&(c=u),w(this,rs).validateSingleFile(c),s[c.id]=c,n.push(c)}catch(c){a.push(c)}try{w(this,rs).validateAggregateRestrictions(Object.values(r),n)}catch(l){return a.push(l),{nextFilesState:r,validFilesToAdd:[],errors:a}}return{nextFilesState:s,validFilesToAdd:n,errors:a}},S0=function(){const{files:t}=this.getState();return Object.keys(t).filter(r=>{const s=t[r];return s.error&&(!s.missingRequiredMetaFields||s.missingRequiredMetaFields.length===0)})},_0=async function(){const t=H(this,he,S0).call(this),r={...this.getState().files};if(t.forEach(n=>{r[n]={...r[n],isPaused:!1,error:null}}),this.setState({files:r,error:null}),this.emit("retry-all",this.getFilesByIds(t)),t.length===0)return{successful:[],failed:[]};const s=H(this,he,hc).call(this,t,{forceAllowNewUpload:!0});return H(this,he,fc).call(this,s)},vf=new WeakMap,C0=function(){const t=H(this,he,xC).call(this);let r=null;t!=null&&(r=Math.round(t*100),r>100?r=100:r<0&&(r=0)),this.emit("progress",r??0),this.setState({totalProgress:r??0})},ta=new WeakMap,xC=function(){const r=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(r.length===0)return 0;if(r.every(c=>c.progress.uploadComplete))return 1;const s=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,n=r.filter(s),a=r.filter(c=>!s(c));if(n.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=n.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=n.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},yC=function(){const t=(n,a,o)=>{let l=n.message||"Unknown error";n.details&&(l+=` ${n.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",t),this.on("upload-error",(n,a,o)=>{if(t(a,n,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(n==null?void 0:n.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),H(this,he,Li).call(this,[l])}else H(this,he,Li).call(this,[a])});let r=null;this.on("upload-stalled",(n,a)=>{const{message:o}=n,l=a.map(c=>c.meta.name).join(", ");r||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),r=setTimeout(()=>{r=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const s=n=>{const a=n.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",s),this.on("upload-progress",w(this,vf)),this.on("upload-success",(n,a)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}const o=this.getFile(n.id).progress;this.setFileState(n.id,{progress:{...o,postprocess:w(this,ea).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),n.size==null&&this.setFileState(n.id,{size:a.bytesUploaded||o.bytesTotal}),w(this,ta).call(this)}),this.on("preprocess-progress",(n,a)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}this.setFileState(n.id,{progress:{...this.getFile(n.id).progress,preprocess:a}})}),this.on("preprocess-complete",n=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}const a={...this.getState().files};a[n.id]={...a[n.id],progress:{...a[n.id].progress}},delete a[n.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(n,a)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}this.setFileState(n.id,{progress:{...this.getState().files[n.id].progress,postprocess:a}})}),this.on("postprocess-complete",n=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}const a={...this.getState().files};a[n.id]={...a[n.id],progress:{...a[n.id].progress}},delete a[n.id].progress.postprocess,this.setState({files:a})}),this.on("restored",()=>{w(this,ta).call(this)}),this.on("dashboard:file-edit-complete",n=>{n&&H(this,he,w0).call(this,n)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",w(this,si)),window.addEventListener("offline",w(this,si)),setTimeout(w(this,si),3e3))},si=new WeakMap,Pd=new WeakMap,hc=function(t,r={}){const{forceAllowNewUpload:s=!1}=r,{allowNewUpload:n,currentUploads:a}=this.getState();if(!n&&!s)throw new Error("Cannot create a new upload: already uploading.");const o=AL();return this.emit("upload",o,this.getFilesByIds(t)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:t,step:0,result:{}}}}),o},vC=function(t){const{currentUploads:r}=this.getState();return r[t]},gh=function(t){const r={...this.getState().currentUploads};delete r[t],this.setState({currentUploads:r})},fc=async function(t){const r=()=>{const{currentUploads:o}=this.getState();return o[t]};let s=r();const n=[...w(this,Uo),...w(this,zo),...w(this,ea)];try{for(let o=s.step||0;o<n.length&&s;o++){const l=n[o];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...s,step:o}}});const{fileIDs:c}=s;await l(c,t),s=r()}}catch(o){throw H(this,he,gh).call(this,t),o}if(s){s.fileIDs.forEach(d=>{const u=this.getFile(d);u!=null&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const o=s.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(t,{successful:l,failed:c,uploadID:t}),s=r()}let a;return s&&(a=s.result,H(this,he,gh).call(this,t)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${t}`),a={successful:[],failed:[],uploadID:t}),a},$(bf,"VERSION",KL.version);let b0=bf;var a9=0;function _(e,t,r,s,n,a){t||(t={});var o,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?o=t[l]:c[l]=t[l];var d={type:e,props:c,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--a9,__i:-1,__u:0,__source:n,__self:a};if(typeof e=="function"&&(o=e.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return Ne.vnode&&Ne.vnode(d),d}const o9="@uppy/informer",l9="A notification and error pop-up bar for Uppy.",c9="4.3.2",d9="MIT",u9="lib/index.js",h9="dist/style.min.css",f9="module",m9={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},p9=["file uploader","uppy","uppy-plugin","notification","bar","ui"],g9="https://uppy.io",x9={url:"https://github.com/transloadit/uppy/issues"},y9={type:"git",url:"git+https://github.com/transloadit/uppy.git"},v9=["src","lib","dist","CHANGELOG.md"],b9={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},w9={"@uppy/core":"^4.5.2"},N9={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},j9={name:o9,description:l9,version:c9,license:d9,main:u9,style:h9,type:f9,scripts:m9,keywords:p9,homepage:g9,bugs:x9,repository:y9,files:v9,dependencies:b9,peerDependencies:w9,devDependencies:N9},nw=300;class k9 extends br{constructor(){super(...arguments);$(this,"ref",II())}componentWillEnter(r){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(r,nw)}componentWillLeave(r){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(r,nw)}render(){const{children:r}=this.props;return _("div",{className:"uppy-Informer-animated",ref:this.ref,children:r})}}function S9(e,t){return Object.assign(e,t)}function _9(e,t){return(e==null?void 0:e.key)??t}function C9(e,t){const r=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return r[t]||(r[t]=s=>{e.refs[t]=s})}function Xl(e){const t={};for(let r=0;r<e.length;r++)if(e[r]!=null){const s=_9(e[r],r.toString(36));t[s]=e[r]}return t}function E9(e,t){e=e||{},t=t||{};const r=o=>Object.hasOwn(t,o)?t[o]:e[o],s={};let n=[];for(const o in e)Object.hasOwn(t,o)?n.length&&(s[o]=n,n=[]):n.push(o);const a={};for(const o in t){if(Object.hasOwn(s,o))for(let l=0;l<s[o].length;l++){const c=s[o][l];a[s[o][l]]=r(c)}a[o]=r(o)}for(let o=0;o<n.length;o++)a[n[o]]=r(n[o]);return a}const T9=e=>e;class bC extends br{constructor(t,r){super(t,r),this.refs={},this.state={children:Xl(hs(hs(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const t=this.state.children;for(const r in t)t[r]&&this.performAppear(r)}componentWillReceiveProps(t){const r=Xl(hs(t.children)||[]),s=this.state.children;this.setState(a=>({children:E9(a.children,r)}));let n;for(n in r)if(Object.hasOwn(r,n)){const a=s&&Object.hasOwn(s,n);r[n]&&a&&this.currentlyTransitioningKeys[n]?(this.keysToEnter.push(n),this.keysToAbortLeave.push(n)):r[n]&&!a&&!this.currentlyTransitioningKeys[n]&&this.keysToEnter.push(n)}for(n in s)if(Object.hasOwn(s,n)){const a=r&&Object.hasOwn(r,n);s[n]&&!a&&!this.currentlyTransitioningKeys[n]&&this.keysToLeave.push(n)}}componentDidUpdate(){const{keysToEnter:t}=this;this.keysToEnter=[],t.forEach(this.performEnter);const{keysToLeave:r}=this;this.keysToLeave=[],r.forEach(this.performLeave)}_finishAbort(t){const r=this.keysToAbortLeave.indexOf(t);r!==-1&&this.keysToAbortLeave.splice(r,1)}performAppear(t){this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];r!=null&&r.componentWillAppear?r.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)}_handleDoneAppearing(t){const r=this.refs[t];r!=null&&r.componentDidAppear&&r.componentDidAppear(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const s=Xl(hs(this.props.children)||[]);(!s||!Object.hasOwn(s,t))&&this.performLeave(t)}performEnter(t){this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];r!=null&&r.componentWillEnter?r.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)}_handleDoneEntering(t){const r=this.refs[t];r!=null&&r.componentDidEnter&&r.componentDidEnter(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const s=Xl(hs(this.props.children)||[]);(!s||!Object.hasOwn(s,t))&&this.performLeave(t)}performLeave(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;this.currentlyTransitioningKeys[t]=!0;const s=this.refs[t];s!=null&&s.componentWillLeave?s.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)}_handleDoneLeaving(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;const s=this.refs[t];s!=null&&s.componentDidLeave&&s.componentDidLeave(),delete this.currentlyTransitioningKeys[t];const n=Xl(hs(this.props.children)||[]);if(n&&Object.hasOwn(n,t))this.performEnter(t);else{const a=S9({},this.state.children);delete a[t],this.setState({children:a})}}render({childFactory:t,transitionLeave:r,transitionName:s,transitionAppear:n,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...u},{children:h}){const f=Object.entries(h).map(([g,y])=>{if(!y)return;const m=C9(this,g);return J_(t(y),{ref:m,key:g})}).filter(Boolean);return yd(d,u,f)}}bC.defaultProps={component:"span",childFactory:T9};class wC extends El{constructor(r,s){super(r,s);$(this,"render",r=>_("div",{className:"uppy uppy-Informer",children:_(bC,{children:r.info.map(s=>_(k9,{children:_("p",{role:"alert",children:[s.message," ",s.details&&_("span",{"aria-label":s.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${s.message} 

 ${s.details}`),children:"?"})]})},s.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:r}=this.opts;r&&this.mount(r,this)}}$(wC,"VERSION",j9.version);var NC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=n(a,s(l)))}return a}function s(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)t.call(a,l)&&a[l]&&(o=n(o,l));return o}function n(a,o){return o?a?a+" "+o:a+o:a}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(NC);var P9=NC.exports;const _s=An(P9),A9={position:"relative",width:"100%",minHeight:"100%"},R9={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class M9 extends br{constructor(r){super(r);$(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});$(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var r;(r=this.focusElement)!=null&&r.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:r}=this.state;r!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:r,rowHeight:s,renderRow:n,overscanCount:a=10,...o}){const{offset:l,height:c}=this.state;let d=Math.floor(l/s),u=Math.floor(c/s);a&&(d=Math.max(0,d-d%a),u+=a);const h=d+u+4,f=r.slice(d,h),g={...A9,height:r.length*s},y={...R9,top:d*s};return _("div",{onScroll:this.handleScroll,...o,children:_("div",{role:"presentation",style:g,children:_("div",{role:"presentation",style:y,children:f.map(n)})})})}}function F9(){return _("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:_("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function iw(e,t,r,s){return e===t?e:s===0?t:e+(t-e)*2**(-s/r)}const O9="@uppy/status-bar",I9="A progress bar for Uppy, with many bells and whistles.",D9="4.2.3",L9="MIT",$9="lib/index.js",U9="dist/style.min.css",z9="module",B9={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},V9=["file uploader","uppy","uppy-plugin","progress bar","status bar","progress","upload","eta","speed"],H9="https://uppy.io",W9={url:"https://github.com/transloadit/uppy/issues"},q9={type:"git",url:"git+https://github.com/transloadit/uppy.git"},G9=["src","lib","dist","CHANGELOG.md"],K9={"@transloadit/prettier-bytes":"^0.3.4","@uppy/utils":"^6.2.2",classnames:"^2.2.6",preact:"^10.5.13"},Q9={"@uppy/core":"^4.5.2"},Z9={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},Y9={name:O9,description:I9,version:D9,license:L9,main:$9,style:U9,type:z9,scripts:B9,keywords:V9,homepage:H9,bugs:W9,repository:q9,files:G9,dependencies:K9,peerDependencies:Q9,devDependencies:Z9},X9={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},Ms={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function J9(e){const t=Math.floor(e/3600)%24,r=Math.floor(e/60)%60,s=Math.floor(e%60);return{hours:t,minutes:r,seconds:s}}function e7(e){const t=J9(e),r=t.hours===0?"":`${t.hours}h`,s=t.minutes===0?"":`${t.hours===0?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`,n=t.hours!==0?"":`${t.minutes===0?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`;return`${r}${s}${n}`}const t7="",aw=()=>` ${t7} `;function r7(e){const{newFiles:t,isUploadStarted:r,recoveredState:s,i18n:n,uploadState:a,isSomeGhost:o,startUpload:l}=e,c=_s("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===Ms.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=t&&r&&!s?n("uploadXNewFiles",{smart_count:t}):n("uploadXFiles",{smart_count:t});return _("button",{type:"button",className:c,"aria-label":n("uploadXFiles",{smart_count:t}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function s7(e){const{i18n:t,uppy:r}=e;return _("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>r.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:_("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),t("retry")]})}function n7(e){const{i18n:t,uppy:r}=e;return _("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>r.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:_("g",{fill:"none",fillRule:"evenodd",children:[_("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),_("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function i7(e){const{isAllPaused:t,i18n:r,isAllComplete:s,resumableUploads:n,uppy:a}=e,o=r(t?"resume":"pause");function l(){if(!s){if(!n){a.cancelAll();return}if(t){a.resumeAll();return}a.pauseAll()}}return _("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:_("g",{fill:"none",fillRule:"evenodd",children:[_("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),_("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function a7(e){const{i18n:t,doneButtonHandler:r}=e;return _("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0,children:t("done")})}function jC(){return _("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:_("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function o7(e){const{progress:t}=e,{value:r,mode:s,message:n}=t;return _("div",{className:"uppy-StatusBar-content",children:[_(jC,{}),s==="determinate"?`${Math.round(r*100)}%  `:"",n]})}function l7(e){const{numUploads:t,complete:r,totalUploadedSize:s,totalSize:n,totalETA:a,i18n:o}=e,l=t>1,c=Wi(s);return _("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:r,smart_count:t}),_("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&aw(),n!=null?o("dataUploadedOfTotal",{complete:c,total:Wi(n)}):o("dataUploadedOfUnknown",{complete:c}),aw(),a!=null&&o("xTimeLeft",{time:e7(a)})]})]})}function kC(e){const{i18n:t,complete:r,numUploads:s}=e;return _("div",{className:"uppy-StatusBar-statusSecondary",children:t("filesUploadedOfTotal",{complete:r,smart_count:s})})}function c7(e){const{i18n:t,newFiles:r,startUpload:s}=e,n=_s("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return _("div",{className:"uppy-StatusBar-statusSecondary",children:[_("div",{className:"uppy-StatusBar-statusSecondaryHint",children:t("xMoreFilesAdded",{smart_count:r})}),_("button",{type:"button",className:n,"aria-label":t("uploadXFiles",{smart_count:r}),onClick:s,children:t("upload")})]})}function d7(e){const{i18n:t,supportsUploadProgress:r,totalProgress:s,showProgressDetails:n,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:u,totalUploadedSize:h,totalSize:f,totalETA:g,startUpload:y}=e,m=c&&a;if(!a||o)return null;const b=t(l?"paused":"uploading");function v(){return!l&&!m&&n?r?_(l7,{numUploads:d,complete:u,totalUploadedSize:h,totalSize:f,totalETA:g,i18n:t}):_(kC,{i18n:t,complete:u,numUploads:d}):null}return _("div",{className:"uppy-StatusBar-content",title:b,children:[l?null:_(jC,{}),_("div",{className:"uppy-StatusBar-status",children:[_("div",{className:"uppy-StatusBar-statusPrimary",children:r&&s!==0?`${b}: ${s}%`:b}),v(),m?_(c7,{i18n:t,newFiles:c,startUpload:y}):null]})]})}function u7(e){const{i18n:t}=e;return _("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete"),children:_("div",{className:"uppy-StatusBar-status",children:_("div",{className:"uppy-StatusBar-statusPrimary",children:[_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:_("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),t("complete")]})})})}function h7(e){const{error:t,i18n:r,complete:s,numUploads:n}=e;function a(){const o=`${r("uploadFailed")} 

 ${t}`;alert(o)}return _("div",{className:"uppy-StatusBar-content",title:r("uploadFailed"),children:[_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:_("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),_("div",{className:"uppy-StatusBar-status",children:[_("div",{className:"uppy-StatusBar-statusPrimary",children:[r("uploadFailed"),_("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),_(kC,{i18n:r,complete:s,numUploads:n})]})]})}function pp(e){const t=[];let r="indeterminate",s;for(const{progress:a}of Object.values(e)){const{preprocess:o,postprocess:l}=a;s==null&&(o||l)&&({mode:r,message:s}=o||l),(o==null?void 0:o.mode)==="determinate"&&t.push(o.value),(l==null?void 0:l.mode)==="determinate"&&t.push(l.value)}const n=t.reduce((a,o)=>a+o/t.length,0);return{mode:r,message:s,value:n}}const{STATE_ERROR:ow,STATE_WAITING:f7,STATE_PREPROCESSING:gp,STATE_UPLOADING:$u,STATE_POSTPROCESSING:xp,STATE_COMPLETE:Uu}=Ms;function m7({newFiles:e,allowNewUpload:t,isUploadInProgress:r,isAllPaused:s,resumableUploads:n,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:u,uploadState:h,totalProgress:f,files:g,supportsUploadProgress:y,hideAfterFinish:m=!1,isSomeGhost:b,doneButtonHandler:v=void 0,isUploadStarted:x,i18n:N,startUpload:j,uppy:k,isAllComplete:C,showProgressDetails:S=void 0,numUploads:E,complete:T,totalSize:A,totalETA:L,totalUploadedSize:z}){function q(){switch(h){case xp:case gp:{const Re=pp(g);return Re.mode==="determinate"?Re.value*100:f}case ow:return null;case $u:return y?f:null;default:return f}}function O(){switch(h){case xp:case gp:{const{mode:Re}=pp(g);return Re==="indeterminate"}case $u:return!y;default:return!1}}const M=q(),F=M??100,I=!a&&e&&(!r&&!s||u)&&t&&!o,R=!c&&h!==f7&&h!==Uu,V=n&&!l&&h===$u,Q=a&&!C&&!d,se=v&&h===Uu,pe=_s("uppy-StatusBar-progress",{"is-indeterminate":O()}),He=_s("uppy-StatusBar",`is-${h}`,{"has-ghosts":b}),Ve=(()=>{switch(h){case gp:case xp:return _(o7,{progress:pp(g)});case Uu:return _(u7,{i18n:N});case ow:return _(h7,{error:a,i18n:N,numUploads:E,complete:T});case $u:return _(d7,{i18n:N,supportsUploadProgress:y,totalProgress:f,showProgressDetails:S,isUploadStarted:x,isAllComplete:C,isAllPaused:s,newFiles:e,numUploads:E,complete:T,totalUploadedSize:z,totalSize:A,totalETA:L,startUpload:j});default:return null}})();return!(I||Q||V||R||se)&&!Ve||h===Uu&&m?null:_("div",{className:He,children:[_("div",{className:pe,style:{width:`${F}%`},role:"progressbar","aria-label":`${F}%`,"aria-valuetext":`${F}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":M}),Ve,_("div",{className:"uppy-StatusBar-actions",children:[I?_(r7,{newFiles:e,isUploadStarted:x,recoveredState:u,i18n:N,isSomeGhost:b,startUpload:j,uploadState:h}):null,Q?_(s7,{i18n:N,uppy:k}):null,V?_(i7,{isAllPaused:s,i18n:N,isAllComplete:C,resumableUploads:n,uppy:k}):null,R?_(n7,{i18n:N,uppy:k}):null,se?_(a7,{i18n:N,doneButtonHandler:v}):null]})]})}const p7=2e3,g7=2e3;function x7(e,t,r,s){if(e)return Ms.STATE_ERROR;if(t)return Ms.STATE_COMPLETE;if(r)return Ms.STATE_WAITING;let n=Ms.STATE_WAITING;const a=Object.keys(s);for(let o=0;o<a.length;o++){const{progress:l}=s[a[o]];if(l.uploadStarted&&!l.uploadComplete)return Ms.STATE_UPLOADING;l.preprocess&&(n=Ms.STATE_PREPROCESSING),l.postprocess&&n!==Ms.STATE_PREPROCESSING&&(n=Ms.STATE_POSTPROCESSING)}return n}const y7={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var _p,ni,ii,ra,mn,wf,SC,Ad;let v7=(_p=class extends El{constructor(r,s){super(r,{...y7,...s});U(this,wf);U(this,ni);U(this,ii);U(this,ra);U(this,mn);$(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));U(this,Ad,()=>{const{recoveredState:r}=this.uppy.getState();if(B(this,ra,null),B(this,mn,null),r){B(this,ii,Object.values(r.files).reduce((s,{progress:n})=>s+n.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}B(this,ni,performance.now()),B(this,ii,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=X9,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(r){const{capabilities:s,files:n,allowNewUpload:a,totalProgress:o,error:l,recoveredState:c}=r,{newFiles:d,startedFiles:u,completeFiles:h,isUploadStarted:f,isAllComplete:g,isAllPaused:y,isUploadInProgress:m,isSomeGhost:b}=this.uppy.getObjectOfFilesPerState(),v=c?Object.values(n):d,x=!!s.resumableUploads,N=s.uploadProgress!==!1;let j=null,k=0;u.every(S=>S.progress.bytesTotal!=null&&S.progress.bytesTotal!==0)?(j=0,u.forEach(S=>{j+=S.progress.bytesTotal||0,k+=S.progress.bytesUploaded||0})):u.forEach(S=>{k+=S.progress.bytesUploaded||0});const C=H(this,wf,SC).call(this,{uploaded:k,total:j});return m7({error:l,uploadState:x7(l,g,c,r.files||{}),allowNewUpload:a,totalProgress:o,totalSize:j,totalUploadedSize:k,isAllComplete:!1,isAllPaused:y,isUploadStarted:f,isUploadInProgress:m,isSomeGhost:b,recoveredState:c,complete:h.length,newFiles:v.length,numUploads:u.length,totalETA:C,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:x,supportsUploadProgress:N,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const r=this.el;z_(r)||(r.dir="ltr")}install(){const{target:r}=this.opts;r&&this.mount(r,this),this.uppy.on("upload",w(this,Ad)),B(this,ni,performance.now()),B(this,ii,this.uppy.getFiles().reduce((s,n)=>s+n.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",w(this,Ad))}},ni=new WeakMap,ii=new WeakMap,ra=new WeakMap,mn=new WeakMap,wf=new WeakSet,SC=function(r){if(r.total==null||r.total===0)return null;const s=r.total-r.uploaded;if(s<=0)return null;w(this,ni)??B(this,ni,performance.now());const n=performance.now()-w(this,ni);if(n===0)return Math.round((w(this,mn)??0)/100)/10;const a=r.uploaded-w(this,ii);if(B(this,ii,r.uploaded),a<=0)return Math.round((w(this,mn)??0)/100)/10;const o=a/n,l=w(this,ra)==null?o:iw(o,w(this,ra),p7,n);B(this,ra,l);const c=s/l,d=Math.max(w(this,mn)-n,0),u=w(this,mn)==null?c:iw(c,d,g7,n);return B(this,mn,u),B(this,ni,performance.now()),Math.round(u/100)/10},Ad=new WeakMap,$(_p,"VERSION",Y9.version),_p);const b7=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function w7(e,t,r){const s=b7.exec(e),n=t.mimeType??(s==null?void 0:s[1])??"plain/text";let a;if((s==null?void 0:s[2])!=null){const o=atob(decodeURIComponent(s[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(s==null?void 0:s[3])!=null&&(a=[decodeURIComponent(s[3])]);return new Blob(a,{type:n})}function lw(e){return e.startsWith("blob:")}function cw(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}function Le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _C=typeof self<"u"?self:global;const wd=typeof navigator<"u",N7=wd&&typeof HTMLImageElement>"u",dw=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),CC=_C.Buffer,EC=!!CC,j7=e=>e!==void 0;function TC(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(j7).length===0)}function Et(e){let t=new Error(e);throw delete t.stack,t}function uw(e){let t=function(r){let s=0;return r.ifd0.enabled&&(s+=1024),r.exif.enabled&&(s+=2048),r.makerNote&&(s+=2048),r.userComment&&(s+=1024),r.gps.enabled&&(s+=512),r.interop.enabled&&(s+=100),r.ifd1.enabled&&(s+=1024),s+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const yp=e=>String.fromCharCode.apply(null,e),hw=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class ps{static from(t,r){return t instanceof this&&t.le===r?t:new ps(t,void 0,void 0,r)}constructor(t,r=0,s,n){if(typeof n=="boolean"&&(this.le=n),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){s===void 0&&(s=t.byteLength-r);let a=new DataView(t,r,s);this._swapDataView(a)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof ps){s===void 0&&(s=t.byteLength-r),(r+=t.byteOffset)+s>t.byteOffset+t.byteLength&&Et("Creating view outside of available memory in ArrayBuffer");let a=new DataView(t.buffer,r,s);this._swapDataView(a)}else if(typeof t=="number"){let a=new DataView(new ArrayBuffer(t));this._swapDataView(a)}else Et("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,r,s=ps){return t instanceof DataView||t instanceof ps?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||Et("BufferView.set(): Invalid data argument."),this.toUint8().set(t,r),new s(this,r,t.byteLength)}subarray(t,r){return r=r||this._lengthToEnd(t),new ps(this,t,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,r){return new Uint8Array(this.buffer,this.byteOffset+t,r)}getString(t=0,r=this.byteLength){return n=this.getUint8Array(t,r),hw?hw.decode(n):EC?Buffer.from(n).toString("utf8"):decodeURIComponent(escape(yp(n)));var n}getLatin1String(t=0,r=this.byteLength){let s=this.getUint8Array(t,r);return yp(s)}getUnicodeString(t=0,r=this.byteLength){const s=[];for(let n=0;n<r&&t+n<this.byteLength;n+=2)s.push(this.getUint16(t+n));return yp(s)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,r=this.le){return this.dataView.getInt16(t,r)}getInt32(t,r=this.le){return this.dataView.getInt32(t,r)}getUint16(t,r=this.le){return this.dataView.getUint16(t,r)}getUint32(t,r=this.le){return this.dataView.getUint32(t,r)}getFloat32(t,r=this.le){return this.dataView.getFloat32(t,r)}getFloat64(t,r=this.le){return this.dataView.getFloat64(t,r)}getFloat(t,r=this.le){return this.dataView.getFloat32(t,r)}getDouble(t,r=this.le){return this.dataView.getFloat64(t,r)}getUintBytes(t,r,s){switch(r){case 1:return this.getUint8(t,s);case 2:return this.getUint16(t,s);case 4:return this.getUint32(t,s);case 8:return this.getUint64&&this.getUint64(t,s)}}getUint(t,r,s){switch(r){case 8:return this.getUint8(t,s);case 16:return this.getUint16(t,s);case 32:return this.getUint32(t,s);case 64:return this.getUint64&&this.getUint64(t,s)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}}function E0(e,t){Et(`${e} '${t}' was not loaded, try using full build of exifr.`)}let Vy=class extends Map{constructor(t){super(),this.kind=t}get(t,r){return this.has(t)||E0(this.kind,t),r&&(t in r||function(s,n){Et(`Unknown ${s} '${n}'.`)}(this.kind,t),r[t].enabled||E0(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}};var PC=new Vy("file parser"),cs=new Vy("segment parser"),Hy=new Vy("file reader");let k7=_C.fetch;function fw(e,t){return(r=e).startsWith("data:")||r.length>1e4?P0(e,t,"base64"):dw&&e.includes("://")?T0(e,t,"url",mw):dw?P0(e,t,"fs"):wd?T0(e,t,"url",mw):void Et("Invalid input argument");var r}async function T0(e,t,r,s){return Hy.has(r)?P0(e,t,r):s?async function(n,a){let o=await a(n);return new ps(o)}(e,s):void Et(`Parser ${r} is not loaded`)}async function P0(e,t,r){let s=new(Hy.get(r))(e,t);return await s.read(),s}const mw=e=>k7(e).then(t=>t.arrayBuffer()),A0=e=>new Promise((t,r)=>{let s=new FileReader;s.onloadend=()=>t(s.result||new ArrayBuffer),s.onerror=r,s.readAsArrayBuffer(e)}),Wy=new Map,S7=new Map,_7=new Map,zu=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],AC=["jfif","xmp","icc","iptc","ihdr"],R0=["tiff",...AC],kt=["ifd0","ifd1","exif","gps","interop"],Bu=[...R0,...kt],Vu=["makerNote","userComment"],RC=["translateKeys","translateValues","reviveValues","multiSegment"],Hu=[...RC,"sanitize","mergeOutput","silentErrors"];class MC{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Jl extends MC{get needed(){return this.enabled||this.deps.size>0}constructor(t,r,s,n){if(super(),Le(this,"enabled",!1),Le(this,"skip",new Set),Le(this,"pick",new Set),Le(this,"deps",new Set),Le(this,"translateKeys",!1),Le(this,"translateValues",!1),Le(this,"reviveValues",!1),this.key=t,this.enabled=r,this.parse=this.enabled,this.applyInheritables(n),this.canBeFiltered=kt.includes(t),this.canBeFiltered&&(this.dict=Wy.get(t)),s!==void 0)if(Array.isArray(s))this.parse=this.enabled=!0,this.canBeFiltered&&s.length>0&&this.translateTagSet(s,this.pick);else if(typeof s=="object"){if(this.enabled=!0,this.parse=s.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=s;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(s)}else s===!0||s===!1?this.parse=this.enabled=s:Et(`Invalid options argument: ${s}`)}applyInheritables(t){let r,s;for(r of RC)s=t[r],s!==void 0&&(this[r]=s)}translateTagSet(t,r){if(this.dict){let s,n,{tagKeys:a,tagValues:o}=this.dict;for(s of t)typeof s=="string"?(n=o.indexOf(s),n===-1&&(n=a.indexOf(Number(s))),n!==-1&&r.add(Number(a[n]))):r.add(s)}else for(let s of t)r.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,pf(this.pick,this.deps)):this.enabled&&this.pick.size>0&&pf(this.pick,this.deps)}}var Yt={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},pw=new Map;class qy extends MC{static useCached(t){let r=pw.get(t);return r!==void 0||(r=new this(t),pw.set(t,r)),r}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):Et(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=wd?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of zu)this[t]=Yt[t];for(t of Hu)this[t]=Yt[t];for(t of Vu)this[t]=Yt[t];for(t of Bu)this[t]=new Jl(t,Yt[t],void 0,this)}setupFromTrue(){let t;for(t of zu)this[t]=Yt[t];for(t of Hu)this[t]=Yt[t];for(t of Vu)this[t]=!0;for(t of Bu)this[t]=new Jl(t,!0,void 0,this)}setupFromArray(t){let r;for(r of zu)this[r]=Yt[r];for(r of Hu)this[r]=Yt[r];for(r of Vu)this[r]=Yt[r];for(r of Bu)this[r]=new Jl(r,!1,void 0,this);this.setupGlobalFilters(t,void 0,kt)}setupFromObject(t){let r;for(r of(kt.ifd0=kt.ifd0||kt.image,kt.ifd1=kt.ifd1||kt.thumbnail,Object.assign(this,t),zu))this[r]=vp(t[r],Yt[r]);for(r of Hu)this[r]=vp(t[r],Yt[r]);for(r of Vu)this[r]=vp(t[r],Yt[r]);for(r of R0)this[r]=new Jl(r,Yt[r],t[r],this);for(r of kt)this[r]=new Jl(r,Yt[r],t[r],this.tiff);this.setupGlobalFilters(t.pick,t.skip,kt,Bu),t.tiff===!0?this.batchEnableWithBool(kt,!0):t.tiff===!1?this.batchEnableWithUserValue(kt,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,kt):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,kt)}batchEnableWithBool(t,r){for(let s of t)this[s].enabled=r}batchEnableWithUserValue(t,r){for(let s of t){let n=r[s];this[s].enabled=n!==!1&&n!==void 0}}setupGlobalFilters(t,r,s,n=s){if(t&&t.length){for(let o of n)this[o].enabled=!1;let a=gw(t,s);for(let[o,l]of a)pf(this[o].pick,l),this[o].enabled=!0}else if(r&&r.length){let a=gw(r,s);for(let[o,l]of a)pf(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:t,exif:r,xmp:s,iptc:n,icc:a}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),s.enabled||t.skip.add(700),n.enabled||t.skip.add(33723),a.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:r,gps:s,interop:n}=this;n.needed&&(r.deps.add(40965),t.deps.add(40965)),r.needed&&t.deps.add(34665),s.needed&&t.deps.add(34853),this.tiff.enabled=kt.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of kt)this[a].finalizeFilters()}get onlyTiff(){return!AC.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of R0)this[t].enabled&&!cs.has(t)&&E0("segment parser",t)}}function gw(e,t){let r,s,n,a,o=[];for(n of t){for(a of(r=Wy.get(n),s=[],r))(e.includes(a[0])||e.includes(a[1]))&&s.push(a[0]);s.length&&o.push([n,s])}return o}function vp(e,t){return e!==void 0?e:t!==void 0?t:void 0}function pf(e,t){for(let r of t)e.add(r)}Le(qy,"default",Yt);class C7{constructor(t){Le(this,"parsers",{}),Le(this,"output",{}),Le(this,"errors",[]),Le(this,"pushToErrors",r=>this.errors.push(r)),this.options=qy.useCached(t)}async read(t){this.file=await function(r,s){return typeof r=="string"?fw(r,s):wd&&!N7&&r instanceof HTMLImageElement?fw(r.src,s):r instanceof Uint8Array||r instanceof ArrayBuffer||r instanceof DataView?new ps(r):wd&&r instanceof Blob?T0(r,s,"blob",A0):void Et("Invalid input argument")}(t,this.options)}setup(){if(this.fileParser)return;let{file:t}=this,r=t.getUint16(0);for(let[s,n]of PC)if(n.canHandle(t,r))return this.fileParser=new n(this.options,this.file,this.parsers),t[s]=!0;this.file.close&&this.file.close(),Et("Unknown file format")}async parse(){let{output:t,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(t.errors=r),TC(s=t)?void 0:s;var s}async executeParsers(){let{output:t}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map(async s=>{let n=await s.parse();s.assignToOutput(t,n)});this.options.silentErrors&&(r=r.map(s=>s.catch(this.pushToErrors))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:t,file:r}=this,s=cs.get("tiff",t);var n;if(r.tiff?n={start:0,type:"tiff"}:r.jpeg&&(n=await this.fileParser.getOrFindSegment("tiff")),n===void 0)return;let a=await this.fileParser.ensureSegmentChunk(n),o=this.parsers.tiff=new s(a,t,r),l=await o.extractThumbnail();return r.close&&r.close(),l}}class uo{static findPosition(t,r){let s=t.getUint16(r+2)+2,n=typeof this.headerLength=="function"?this.headerLength(t,r,s):this.headerLength,a=r+n,o=s-n;return{offset:r,length:s,headerLength:n,start:a,size:o,end:a+o}}static parse(t,r={}){return new this(t,new qy({[this.type]:r}),t).parse()}normalizeInput(t){return t instanceof ps?t:new ps(t)}constructor(t,r={},s){Le(this,"errors",[]),Le(this,"raw",new Map),Le(this,"handleError",n=>{if(!this.options.silentErrors)throw n;this.errors.push(n.message)}),this.chunk=this.normalizeInput(t),this.file=s,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,r){let s=_7.get(r),n=S7.get(r),a=Wy.get(r),o=this.options[r],l=o.reviveValues&&!!s,c=o.translateValues&&!!n,d=o.translateKeys&&!!a,u={};for(let[h,f]of t)l&&s.has(h)?f=s.get(h)(f):c&&n.has(h)&&(f=this.translateValue(f,n.get(h))),d&&a.has(h)&&(h=a.get(h)||h),u[h]=f;return u}translateValue(t,r){return r[t]||r.DEFAULT||t}assignToOutput(t,r){this.assignObjectToOutput(t,this.constructor.type,r)}assignObjectToOutput(t,r,s){if(this.globalOptions.mergeOutput)return Object.assign(t,s);t[r]?Object.assign(t[r],s):t[r]=s}}Le(uo,"headerLength",4),Le(uo,"type",void 0),Le(uo,"multiSegment",!1),Le(uo,"canHandle",()=>!1);function E7(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function T7(e){return e>=224&&e<=239}function P7(e,t,r){for(let[s,n]of cs)if(n.canHandle(e,t,r))return s}class xw extends class{constructor(t,r,s){Le(this,"errors",[]),Le(this,"ensureSegmentChunk",async n=>{let a=n.start,o=n.size||65536;if(this.file.chunked)if(this.file.available(a,o))n.chunk=this.file.subarray(a,o);else try{n.chunk=await this.file.readChunk(a,o)}catch(l){Et(`Couldn't read segment: ${JSON.stringify(n)}. ${l.message}`)}else this.file.byteLength>a+o?n.chunk=this.file.subarray(a,o):n.size===void 0?n.chunk=this.file.subarray(a):Et("Segment unreachable: "+JSON.stringify(n));return n.chunk}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=r,this.parsers=s}injectSegment(t,r){this.options[t].enabled&&this.createParser(t,r)}createParser(t,r){let s=new(cs.get(t))(r,this.options,this.file);return this.parsers[t]=s}createParsers(t){for(let r of t){let{type:s,chunk:n}=r,a=this.options[s];if(a&&a.enabled){let o=this.parsers[s];o&&o.append||o||this.createParser(s,n)}}}async readSegments(t){let r=t.map(this.ensureSegmentChunk);await Promise.all(r)}}{constructor(...t){super(...t),Le(this,"appSegments",[]),Le(this,"jpegSegments",[]),Le(this,"unknownSegments",[])}static canHandle(t,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set(cs.keyList())):(t=t===void 0?cs.keyList().filter(r=>this.options[r].enabled):t.filter(r=>this.options[r].enabled&&cs.has(r)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}async findAppSegments(t=0,r){this.setupSegmentFinderArgs(r);let{file:s,findAll:n,wanted:a,remaining:o}=this;if(!n&&this.file.chunked&&(n=Array.from(a).some(l=>{let c=cs.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),n&&await this.file.readWhole()),t=this.findAppSegmentsInRange(t,s.byteLength),!this.options.onlyTiff&&s.chunked){let l=!1;for(;o.size>0&&!l&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=s,d=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(l=t>c&&!d?!await s.readNextChunk(t):!await s.readNextChunk(c),(t=this.findAppSegmentsInRange(t,s.byteLength))===void 0)return}}}findAppSegmentsInRange(t,r){r-=2;let s,n,a,o,l,c,{file:d,findAll:u,wanted:h,remaining:f,options:g}=this;for(;t<r;t++)if(d.getUint8(t)===255){if(s=d.getUint8(t+1),T7(s)){if(n=d.getUint16(t+2),a=P7(d,t,n),a&&h.has(a)&&(o=cs.get(a),l=o.findPosition(d,t),c=g[a],l.type=a,this.appSegments.push(l),!u&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||f.delete(a)):f.delete(a),f.size===0)))break;g.recordUnknownSegments&&(l=uo.findPosition(d,t),l.marker=s,this.unknownSegments.push(l)),t+=n+1}else if(E7(s)){if(n=d.getUint16(t+2),s===218&&g.stopAfterSos!==!1)return;g.recordJpegSegments&&this.jpegSegments.push({offset:t,length:n,marker:s}),t+=n+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(r=>r.multiSegment))return;let t=function(r,s){let n,a,o,l=new Map;for(let c=0;c<r.length;c++)n=r[c],a=n[s],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(n);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=t.map(([r,s])=>{let n=cs.get(r,this.options);return n.handleMultiSegments?{type:r,chunk:n.handleMultiSegments(s)}:s[0]})}getSegment(t){return this.appSegments.find(r=>r.type===t)}async getOrFindSegment(t){let r=this.getSegment(t);return r===void 0&&(await this.findAppSegments(0,[t]),r=this.getSegment(t)),r}}Le(xw,"type","jpeg"),PC.set("jpeg",xw);const A7=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class R7 extends uo{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,r,s=new Map){let{pick:n,skip:a}=this.options[r];n=new Set(n);let o=n.size>0,l=a.size===0,c=this.chunk.getUint16(t);t+=2;for(let d=0;d<c;d++){let u=this.chunk.getUint16(t);if(o){if(n.has(u)&&(s.set(u,this.parseTag(t,u,r)),n.delete(u),n.size===0))break}else!l&&a.has(u)||s.set(u,this.parseTag(t,u,r));t+=12}return s}parseTag(t,r,s){let{chunk:n}=this,a=n.getUint16(t+2),o=n.getUint32(t+4),l=A7[a];if(l*o<=4?t+=8:t=n.getUint32(t+8),(a<1||a>13)&&Et(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${t}`),t>n.byteLength&&Et(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${t} is outside of chunk size ${n.byteLength}`),a===1)return n.getUint8Array(t,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=n.getString(t,o)).trim())===""?void 0:c;var c;if(a===7)return n.getUint8Array(t,o);if(o===1)return this.parseTagValue(a,t);{let d=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),u=l;for(let h=0;h<o;h++)d[h]=this.parseTagValue(a,t),t+=u;return d}}parseTagValue(t,r){let{chunk:s}=this;switch(t){case 1:return s.getUint8(r);case 3:return s.getUint16(r);case 4:return s.getUint32(r);case 5:return s.getUint32(r)/s.getUint32(r+4);case 6:return s.getInt8(r);case 8:return s.getInt16(r);case 9:return s.getInt32(r);case 10:return s.getInt32(r)/s.getInt32(r+4);case 11:return s.getFloat(r);case 12:return s.getDouble(r);case 13:return s.getUint32(r);default:Et(`Invalid tiff type ${t}`)}}}class bp extends R7{static canHandle(t,r){return t.getUint8(r+1)===225&&t.getUint32(r+4)===1165519206&&t.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&await this.parseIfd0Block(),t.exif.enabled&&await this.safeParse("parseExifBlock"),t.gps.enabled&&await this.safeParse("parseGpsBlock"),t.interop.enabled&&await this.safeParse("parseInteropBlock"),t.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(t){let r=this[t]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(t,r){let s=new Map;return this[r]=s,this.parseTags(t,r,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Et("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&Et(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&await t.ensureChunk(this.ifd0Offset,uw(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,uw(this.options));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t}unpack(t,r){let s=t.get(r);s&&s.length===1&&t.set(r,s[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",yw(...t.get(2),t.get(1))),t.set("longitude",yw(...t.get(4),t.get(3)))),t}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(t=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let t=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(t,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,r,s,n={};for(r of kt)if(t=this[r],!TC(t))if(s=this.canTranslate?this.translateBlock(t,r):Object.fromEntries(t),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(n,s)}else n[r]=s;return this.makerNote&&(n.makerNote=this.makerNote),this.userComment&&(n.userComment=this.userComment),n}assignToOutput(t,r){if(this.globalOptions.mergeOutput)Object.assign(t,r);else for(let[s,n]of Object.entries(r))this.assignObjectToOutput(t,s,n)}}function yw(e,t,r,s){var n=e+t/60+r/3600;return s!=="S"&&s!=="W"||(n*=-1),n}Le(bp,"type","tiff"),Le(bp,"headerLength",10),cs.set("tiff",bp);const Gy={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Gy,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},Gy,{tiff:!1,ifd1:!0,mergeOutput:!1});const M7=Object.assign({},Gy,{firstChunkSize:4e4,ifd0:[274]});async function F7(e){let t=new C7(M7);await t.read(e);let r=await t.parse();if(r&&r.ifd0)return r.ifd0[274]}const O7=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let mc=!0,pc=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,r,s]=t;mc=Number(r)+.1*Number(s)<13.4,pc=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);mc=pc=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);mc=pc=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);mc=pc=Number(t)<77}}async function I7(e){let t=await F7(e);return Object.assign({canvas:mc,css:pc},O7[t])}class D7 extends ps{constructor(...t){super(...t),Le(this,"ranges",new L7),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,r,s){if(t===0&&this.byteLength===0&&s){let n=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(n)}else{let n=t+r;if(n>this.byteLength){let{dataView:a}=this._extend(n);this._swapDataView(a)}}}_extend(t){let r;r=EC?CC.allocUnsafe(t):new Uint8Array(t);let s=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:s}}subarray(t,r,s=!1){return r=r||this._lengthToEnd(t),s&&this._tryExtend(t,r),this.ranges.add(t,r),super.subarray(t,r)}set(t,r,s=!1){s&&this._tryExtend(r,t.byteLength,t);let n=super.set(t,r);return this.ranges.add(r,n.byteLength),n}async ensureChunk(t,r){this.chunked&&(this.ranges.available(t,r)||await this.readChunk(t,r))}available(t,r){return this.ranges.available(t,r)}}class L7{constructor(){Le(this,"list",[])}get length(){return this.list.length}add(t,r,s=0){let n=t+r,a=this.list.filter(o=>vw(t,o.offset,n)||vw(t,o.end,n));if(a.length>0){t=Math.min(t,...a.map(l=>l.offset)),n=Math.max(n,...a.map(l=>l.end)),r=n-t;let o=a.shift();o.offset=t,o.length=r,o.end=n,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:t,length:r,end:n})}available(t,r){let s=t+r;return this.list.some(n=>n.offset<=t&&s<=n.end)}}function vw(e,t,r){return e<=t&&t<=r}class $7 extends D7{constructor(t,r){super(0),Le(this,"chunksRead",0),this.input=t,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,s=await this.readChunk(t,r);return!!s&&s.byteLength===r}async readChunk(t,r){if(this.chunksRead++,(r=this.safeWrapAddress(t,r))!==0)return this._readChunk(t,r)}safeWrapAddress(t,r){return this.size!==void 0&&t+r>this.size?Math.max(0,this.size-t):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Hy.set("blob",class extends $7{async readWhole(){this.chunked=!1;let e=await A0(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let r=t?e+t:void 0,s=this.input.slice(e,r),n=await A0(s);return this.set(n,e,!0)}});const U7="@uppy/thumbnail-generator",z7="Uppy plugin that generates small previews of images to show on your upload UI.",B7="4.2.3",V7="MIT",H7="lib/index.js",W7="module",q7={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},G7=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],K7="https://uppy.io",Q7={url:"https://github.com/transloadit/uppy/issues"},Z7={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Y7=["src","lib","dist","CHANGELOG.md"],X7={"@uppy/utils":"^6.2.2",exifr:"^7.0.0"},J7={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},e$={"@uppy/core":"^4.5.3"},t$={name:U7,description:z7,version:B7,license:V7,main:H7,type:W7,scripts:q7,keywords:G7,homepage:K7,bugs:Q7,repository:Z7,files:Y7,dependencies:X7,devDependencies:J7,peerDependencies:e$},r$={strings:{generatingThumbnails:"Generating thumbnails..."}};function s$(e,t,r){try{e.getContext("2d").getImageData(0,0,1,1)}catch(s){if(s.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(s=>{e.toBlob(s,t,r)}).then(s=>{if(s===null)throw new Error("cannot read image, probably an svg with external resources");return s}):Promise.resolve().then(()=>w7(e.toDataURL(t,r),{})).then(s=>{if(s===null)throw new Error("could not extract blob, probably an old browser");return s})}function n$(e,t){let r=e.width,s=e.height;(t.deg===90||t.deg===270)&&(r=e.height,s=e.width);const n=document.createElement("canvas");n.width=r,n.height=s;const a=n.getContext("2d");return a.translate(r/2,s/2),t.canvas&&(a.rotate(t.rad),a.scale(t.scaleX,t.scaleY)),a.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),n}function i$(e){const t=e.width/e.height,r=5e6,s=4096;let n=Math.floor(Math.sqrt(r*t)),a=Math.floor(r/Math.sqrt(r*t));if(n>s&&(n=s,a=Math.round(n/t)),a>s&&(a=s,n=Math.round(t*a)),e.width>n){const o=document.createElement("canvas");return o.width=n,o.height=a,o.getContext("2d").drawImage(e,0,0,n,a),o}return e}const a$={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class FC extends El{constructor(r,s){super(r,{...a$,...s});$(this,"queue");$(this,"queueProcessing");$(this,"defaultThumbnailDimension");$(this,"thumbnailType");$(this,"onFileAdded",r=>{!r.preview&&r.data&&cw(r.type)&&!r.isRemote&&this.addToQueue(r.id)});$(this,"onCancelRequest",r=>{const s=this.queue.indexOf(r.id);s!==-1&&this.queue.splice(s,1)});$(this,"onFileRemoved",r=>{const s=this.queue.indexOf(r.id);s!==-1&&this.queue.splice(s,1),r.preview&&lw(r.preview)&&URL.revokeObjectURL(r.preview)});$(this,"onRestored",()=>{this.uppy.getFiles().filter(s=>s.isRestored).forEach(s=>{(!s.preview||lw(s.preview))&&this.addToQueue(s.id)})});$(this,"onAllFilesRemoved",()=>{this.queue=[]});$(this,"waitUntilAllProcessed",r=>{r.forEach(n=>{const a=this.uppy.getFile(n);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const s=()=>{r.forEach(n=>{const a=this.uppy.getFile(n);this.uppy.emit("preprocess-complete",a)})};return new Promise(n=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{s(),n()}):(s(),n())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=r$,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(r,s,n){const a=URL.createObjectURL(r.data),o=new Promise((c,d)=>{const u=new Image;u.src=a,u.addEventListener("load",()=>{URL.revokeObjectURL(a),c(u)}),u.addEventListener("error",h=>{URL.revokeObjectURL(a),d(h.error||new Error("Could not create thumbnail"))})}),l=I7(r.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const u=this.getProportionalDimensions(c,s,n,d.deg),h=n$(c,d),f=this.resizeImage(h,u.width,u.height);return s$(f,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(r,s,n,a){let o=r.width/r.height;if((a===90||a===270)&&(o=r.height/r.width),s!=null){let l=s;return r.width<s&&(l=r.width),{width:l,height:Math.round(l/o)}}if(n!=null){let l=n;return r.height<n&&(l=r.height),{width:Math.round(l*o),height:l}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(r,s,n){let a=i$(r),o=Math.ceil(Math.log2(a.width/s));o<1&&(o=1);let l=s*2**(o-1),c=n*2**(o-1);const d=2;for(;o--;){const u=document.createElement("canvas");u.width=l,u.height=c,u.getContext("2d").drawImage(a,0,0,l,c),a=u,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(r,s){this.uppy.setFileState(r,{preview:s})}addToQueue(r){this.queue.push(r),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const r=this.uppy.getFile(this.queue.shift());return r?this.requestThumbnail(r).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(r){return cw(r.type)&&!r.isRemote?this.createThumbnail(r,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(s=>{this.setPreviewURL(r.id,s),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${r.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(r.id),s)}).catch(s=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${r.id}:`,"warning"),this.uppy.log(s,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(r.id),s)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}$(FC,"VERSION",t$.version);function bw(e){if(typeof e=="string"){const t=document.querySelectorAll(e);return t.length===0?null:Array.from(t)}return typeof e=="object"&&U_(e)?[e]:null}const Mc=Array.from;function o$(e){const t=Mc(e.files);return Promise.resolve(t)}function OC(e,t,r,{onSuccess:s}){e.readEntries(n=>{const a=[...t,...n];n.length?queueMicrotask(()=>{OC(e,a,r,{onSuccess:s})}):s(a)},n=>{r(n),s(t)})}function IC(e,t){return e==null?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile(){return new Promise((r,s)=>e.file(r,s))},async*values(){const r=e.createReader();yield*await new Promise(n=>{OC(r,[],t,{onSuccess:a=>n(a.map(o=>IC(o,t)))})})},isSameEntry:void 0}}async function*DC(e,t,r=void 0){const s=()=>`${t}/${e.name}`;if(e.kind==="file"){const n=await e.getFile();n!=null?(n.relativePath=t?s():null,yield n):r!=null&&(yield r)}else if(e.kind==="directory")for await(const n of e.values())yield*DC(n,t?s():e.name);else r!=null&&(yield r)}async function*l$(e,t){const r=await Promise.all(Array.from(e.items,async s=>{let n;return n??(n=IC(typeof s.getAsEntry=="function"?s.getAsEntry():s.webkitGetAsEntry(),t)),{fileSystemHandle:n,lastResortFile:s.getAsFile()}}));for(const{lastResortFile:s,fileSystemHandle:n}of r)if(n!=null)try{yield*DC(n,"",s)}catch(a){s!=null?yield s:t(a)}else s!=null&&(yield s)}async function c$(e,t){const r=(t==null?void 0:t.logDropError)??Function.prototype;try{const s=[];for await(const n of l$(e,r))s.push(n);return s}catch{return o$(e)}}let d$="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",LC=(e=21)=>{let t="",r=e|0;for(;r--;)t+=d$[Math.random()*64|0];return t};const u$="@uppy/dashboard",h$="Universal UI plugin for Uppy.",f$="4.4.3",m$="MIT",p$="lib/index.js",g$="dist/style.min.css",x$="module",y$={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},v$=["file uploader","uppy","uppy-plugin","dashboard","ui"],b$="https://uppy.io",w$={url:"https://github.com/transloadit/uppy/issues"},N$={type:"git",url:"git+https://github.com/transloadit/uppy.git"},j$=["src","lib","dist","CHANGELOG.md"],k$={"@transloadit/prettier-bytes":"^0.3.4","@uppy/informer":"^4.3.2","@uppy/provider-views":"^4.5.2","@uppy/status-bar":"^4.2.3","@uppy/thumbnail-generator":"^4.2.2","@uppy/utils":"^6.2.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},S$={"@uppy/core":"^4.5.2","@uppy/google-drive":"^4.4.2","@uppy/status-bar":"^4.2.3","@uppy/url":"^4.3.2","@uppy/webcam":"^4.3.2","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},_$={"@uppy/core":"^4.5.2"},C$={name:u$,description:h$,version:f$,license:m$,main:p$,style:g$,type:x$,scripts:y$,keywords:v$,homepage:b$,bugs:w$,repository:N$,files:j$,dependencies:k$,devDependencies:S$,peerDependencies:_$};function E$(){const e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}class $C extends br{constructor(){super(...arguments);$(this,"fileInput",null);$(this,"folderInput",null);$(this,"mobilePhotoFileInput",null);$(this,"mobileVideoFileInput",null);$(this,"triggerFileInputClick",()=>{var r;(r=this.fileInput)==null||r.click()});$(this,"triggerFolderInputClick",()=>{var r;(r=this.folderInput)==null||r.click()});$(this,"triggerVideoCameraInputClick",()=>{var r;(r=this.mobileVideoFileInput)==null||r.click()});$(this,"triggerPhotoCameraInputClick",()=>{var r;(r=this.mobilePhotoFileInput)==null||r.click()});$(this,"onFileInputChange",r=>{this.props.handleInputChange(r),r.currentTarget.value=""});$(this,"renderHiddenInput",(r,s)=>{var n;return _("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:r,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(n=this.props.allowedFileTypes)==null?void 0:n.join(", "),ref:s})});$(this,"renderHiddenCameraInput",(r,s,n)=>{const o={photo:"image/*",video:"video/*"}[r];return _("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${r}`,onChange:this.onFileInputChange,capture:s===""?"environment":s,accept:o,ref:n})});$(this,"renderMyDeviceAcquirer",()=>_("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:_("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[_("div",{className:"uppy-DashboardTab-inner",children:_("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:_("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),_("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));$(this,"renderPhotoCamera",()=>_("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:_("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[_("div",{className:"uppy-DashboardTab-inner",children:_("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:_("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),_("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));$(this,"renderVideoCamera",()=>_("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:_("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[_("div",{className:"uppy-DashboardTab-inner",children:_("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:_("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),_("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));$(this,"renderBrowseButton",(r,s)=>{const n=this.props.acquirers.length;return _("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:s,"data-uppy-super-focusable":n===0,children:r})});$(this,"renderDropPasteBrowseTagline",r=>{const s=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),n=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return _("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):r>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:s,browseFolders:n,browse:s}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:s,browseFolders:n,browse:s})})});$(this,"renderAcquirer",r=>{var s;return _("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":r.id,children:_("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":r.id,"aria-controls":`uppy-DashboardContent-panel--${r.id}`,"aria-selected":((s=this.props.activePickerPanel)==null?void 0:s.id)===r.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(r.id),children:[_("div",{className:"uppy-DashboardTab-inner",children:r.icon()}),_("div",{className:"uppy-DashboardTab-name",children:r.name})]})})});$(this,"renderAcquirers",r=>{const s=[...r],n=s.splice(r.length-2,r.length);return _(xs,{children:[s.map(a=>this.renderAcquirer(a)),_("span",{role:"presentation",style:{"white-space":"nowrap"},children:n.map(a=>this.renderAcquirer(a))})]})});$(this,"renderSourcesList",(r,s)=>{const{showNativePhotoCameraButton:n,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";s||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),n&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...r.map(h=>({key:h.id,elements:this.renderAcquirer(h)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],u=d.splice(o.length-2,o.length);return _(xs,{children:[this.renderDropPasteBrowseTagline(o.length),_("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:h,elements:f})=>_(xs,{children:f},h)),_("span",{role:"presentation",style:{"white-space":"nowrap"},children:u.map(({key:h,elements:f})=>_(xs,{children:f},h))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:r}=this.props,s=_("span",{children:[_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:_("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),_("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),n=r("poweredBy",{uppy:s});return _("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:n})}render(){const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:s,nativeCameraFacingMode:n}=this.props;return _("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),r&&this.renderHiddenCameraInput("photo",n,a=>{this.mobilePhotoFileInput=a}),s&&this.renderHiddenCameraInput("video",n,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),_("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&_("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const T$=e=>_("div",{className:_s("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel,children:[_("div",{className:"uppy-DashboardContent-bar",children:[_("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18n("addingMoreFiles")}),_("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1),children:e.i18n("back")})]}),_($C,{...e})]});function P$(e){const t=e.files[e.fileCardFor],r=()=>{e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()};return _("div",{className:_s("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[_("div",{className:"uppy-DashboardContent-bar",children:[_("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18nArray("editing",{file:_("span",{className:"uppy-DashboardContent-titleFile",children:t.meta?t.meta.name:t.name})})}),_("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:e.i18n("cancel")}),_("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor,children:e.i18n("save")})]}),_("div",{className:"uppy-DashboardContent-panelBody",children:e.editors.map(s=>e.uppy.getPlugin(s.id).render(e.state))})]})}function A$(){return _("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:_("g",{fill:"#686DE0",fillRule:"evenodd",children:[_("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),_("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),_("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function R$(){return _("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:_("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function M$(){return _("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:_("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function F$(){return _("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:_("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function O$(){return _("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:_("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function I$(){return _("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:_("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[_("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),_("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function D$(){return _("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:_("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function Ky(e){const t={color:"#838999",icon:I$()};if(!e)return t;const r=e.split("/")[0],s=e.split("/")[1];return r==="text"?{color:"#5a5e69",icon:D$()}:r==="image"?{color:"#686de0",icon:A$()}:r==="audio"?{color:"#068dbb",icon:R$()}:r==="video"?{color:"#19af67",icon:M$()}:r==="application"&&s==="pdf"?{color:"#e25149",icon:F$()}:r==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(s)!==-1?{color:"#00C469",icon:O$()}:t}function li(e){const{tagName:t}=e.target;if(t==="INPUT"||t==="TEXTAREA"){e.stopPropagation();return}e.preventDefault(),e.stopPropagation()}function UC(e){const{file:t}=e;if(t.preview)return _("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});const{color:r,icon:s}=Ky(t.type);return _("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[_("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r},children:s}),_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:_("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function L$(e){const{computedMetaFields:t,requiredMetaFields:r,updateMeta:s,form:n,formState:a}=e,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=r.includes(l.id);return _("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[_("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:u=>s(u,l.id),fieldCSSClasses:o,required:d,form:n.id},yd):_("input",{className:o.text,id:c,form:n.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:u=>s(u.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function $$(e){const{files:t,fileCardFor:r,toggleFileCard:s,saveFileCard:n,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:u,canEditFile:h}=e,f=()=>typeof a=="function"?a(t[r]):a,g=t[r],y=f()??[],m=h(g),b={};y.forEach(S=>{b[S.id]=g.meta[S.id]??""});const[v,x]=mf(b),N=VI(S=>{S.preventDefault(),n(v,r)},[n,v,r]),j=(S,E)=>{x({...v,[E]:S})},k=()=>{s(!1)},[C]=mf(()=>{const S=document.createElement("form");return S.setAttribute("tabindex","-1"),S.id=LC(),S});return y0(()=>(document.body.appendChild(C),C.addEventListener("submit",N),()=>{C.removeEventListener("submit",N),document.body.removeChild(C)}),[C,N]),_("div",{className:_s("uppy-Dashboard-FileCard",u),"data-uppy-panelType":"FileCard",onDragOver:li,onDragLeave:li,onDrop:li,onPaste:li,children:[_("div",{className:"uppy-DashboardContent-bar",children:[_("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:_("span",{className:"uppy-DashboardContent-titleFile",children:g.meta?g.meta.name:g.name})})}),_("button",{className:"uppy-DashboardContent-back",type:"button",form:C.id,title:c("finishEditingFile"),onClick:k,children:c("cancel")})]}),_("div",{className:"uppy-Dashboard-FileCard-inner",children:[_("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:Ky(g.type).color},children:[_(UC,{file:g}),m&&_("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:S=>{N(S),l(g)},children:c("editImage")})]}),_("div",{className:"uppy-Dashboard-FileCard-info",children:_(L$,{computedMetaFields:y,requiredMetaFields:o,updateMeta:j,form:C,formState:v})}),_("div",{className:"uppy-Dashboard-FileCard-actions",children:[_("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:C.id,children:c("saveChanges")}),_("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:k,form:C.id,children:c("cancel")})]})]})]})}function U$(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),s=Object.keys(t),n=r.length;if(s.length!==n)return!1;for(let a=0;a<n;a++){const o=r[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function z$(e,t="Copy the URL below"){return new Promise(r=>{const s=document.createElement("textarea");s.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),s.value=e,document.body.appendChild(s),s.select();const n=()=>{document.body.removeChild(s),window.prompt(t,e),r()};try{return document.execCommand("copy")?(document.body.removeChild(s),r()):n()}catch{return document.body.removeChild(s),n()}})}function B$({file:e,uploadInProgressOrComplete:t,metaFields:r,canEditFile:s,i18n:n,onClick:a}){return!t&&r&&r.length>0||!t&&s(e)?_("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":n("editFileWithFilename",{file:e.meta.name}),title:n("editFileWithFilename",{file:e.meta.name}),onClick:()=>a(),children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:_("g",{fillRule:"evenodd",children:[_("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),_("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),_("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function V$({i18n:e,onClick:t,file:r}){return _("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:r.meta.name}),title:e("removeFile",{file:r.meta.name}),onClick:()=>t(),children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[_("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),_("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function H$({file:e,uppy:t,i18n:r}){const s=n=>{z$(e.uploadURL,r("copyLinkToClipboardFallback")).then(()=>{t.log("Link copied to clipboard."),t.info(r("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.log).then(()=>n.target.focus({preventScroll:!0}))};return _("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":r("copyLink"),title:r("copyLink"),onClick:n=>s(n),children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:_("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function W$(e){const{uppy:t,file:r,uploadInProgressOrComplete:s,canEditFile:n,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:u}=e;return _("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[_(B$,{i18n:c,file:r,uploadInProgressOrComplete:s,canEditFile:n,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,r.id):u(r)}}),o&&r.uploadURL?_(H$,{file:r,uppy:t,i18n:c}):null,l?_(V$,{i18n:c,file:r,onClick:()=>t.removeFile(r.id)}):null]})}const wp="...";function zC(e,t){if(t===0)return"";if(e.length<=t)return e;if(t<=wp.length+1)return`${e.slice(0,t-1)}`;const r=t-wp.length,s=Math.ceil(r/2),n=Math.floor(r/2);return e.slice(0,s)+wp+e.slice(-n)}const q$=(e,t)=>(typeof t=="function"?t():t).filter(n=>n.id===e)[0].name;function BC(e){const{file:t,toggleFileCard:r,i18n:s,metaFields:n}=e,{missingRequiredMetaFields:a}=t;if(!(a!=null&&a.length))return null;const o=a.map(l=>q$(l,n)).join(", ");return _("div",{className:"uppy-Dashboard-Item-errorMessage",children:[s("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",_("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>r(!0,t.id),children:s("editFile")})]})}const G$=e=>{const{author:t,name:r}=e.file.meta;function s(){return e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30}return _("div",{className:"uppy-Dashboard-Item-name",title:r,children:zC(r,s())})},K$=e=>{var n;const{author:t}=e.file.meta,r=(n=e.file.remote)==null?void 0:n.providerName,s="";return t?_("div",{className:"uppy-Dashboard-Item-author",children:[_("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:zC(t.name,13)}),r?_(xs,{children:[` ${s} `,r,` ${s} `]}):null]}):null},Q$=e=>e.file.size&&_("div",{className:"uppy-Dashboard-Item-statusSize",children:Wi(e.file.size)}),Z$=e=>e.file.isGhost&&_("span",{children:["  ",_("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>e.toggleAddFilesPanel(!0),children:e.i18n("reSelect")})]}),Y$=({file:e,onClick:t})=>e.error?_("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:t,type:"button",children:"?"}):null;function X$(e){const{file:t,i18n:r,toggleFileCard:s,metaFields:n,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=e;return _("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source,children:[_("div",{className:"uppy-Dashboard-Item-fileName",children:[G$({file:t,isSingleFile:o,containerHeight:l,containerWidth:c}),_(Y$,{file:t,onClick:()=>alert(t.error)})]}),_("div",{className:"uppy-Dashboard-Item-status",children:[K$({file:t}),Q$({file:t}),Z$({file:t,toggleAddFilesPanel:a,i18n:r})]}),_(BC,{file:t,i18n:r,toggleFileCard:s,metaFields:n})]})}function J$(e){const{file:t,i18n:r,toggleFileCard:s,metaFields:n,showLinkToFileUploadResult:a}=e,l=t.preview?"rgba(255, 255, 255, 0.5)":Ky(t.type).color;return _("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&t.uploadURL&&_("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name,children:_("span",{hidden:!0,children:t.meta.name})}),_(UC,{file:t}),_(BC,{file:t,i18n:r,toggleFileCard:s,metaFields:n})]})}function eU(e){if(!e.isUploaded){if(e.error&&!e.hideRetryButton){e.uppy.retryUpload(e.file.id);return}e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id)}}function ww(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function Np(e){return _("div",{className:"uppy-Dashboard-Item-progress",children:_("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":ww(e),title:ww(e),onClick:()=>eU(e),children:e.children})})}function Wu({children:e}){return _("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:e})}function jp({progress:e}){const t=2*Math.PI*15;return _("g",{children:[_("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),_("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":t,"stroke-dashoffset":t-t/100*e})]})}function tU(e){return!e.file.progress.uploadStarted||e.file.progress.percentage===void 0?null:e.isUploaded?_("div",{className:"uppy-Dashboard-Item-progress",children:_("div",{className:"uppy-Dashboard-Item-progressIndicator",children:_(Wu,{children:[_("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),_("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):e.recoveredState?null:e.error&&!e.hideRetryButton?_(Np,{...e,children:_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[_("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),_("path",{d:"M7.9 3H10v2H7.9z"}),_("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),_("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):e.resumableUploads&&!e.hidePauseResumeButton?_(Np,{...e,children:_(Wu,{children:[_(jp,{progress:e.file.progress.percentage}),e.file.isPaused?_("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):_("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[_("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),_("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?_(Np,{...e,children:_(Wu,{children:[_(jp,{progress:e.file.progress.percentage}),_("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):_("div",{className:"uppy-Dashboard-Item-progress",children:_("div",{className:"uppy-Dashboard-Item-progressIndicator",children:_(Wu,{children:_(jp,{progress:e.file.progress.percentage})})})})}class rU extends br{componentDidMount(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}shouldComponentUpdate(t){return!U$(this.props,t)}componentDidUpdate(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}componentWillUnmount(){const{file:t}=this.props;t.preview||this.props.handleCancelThumbnail(t)}render(){const{file:t}=this.props,r=t.progress.preprocess||t.progress.postprocess,s=!!t.progress.uploadComplete&&!r&&!t.error,n=!!t.progress.uploadStarted||!!r,a=t.progress.uploadStarted&&!t.progress.uploadComplete||r,o=t.error||!1,{isGhost:l}=t;let c=(this.props.individualCancellation||!a)&&!s;s&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=_s({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":r,"is-complete":s,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return _("div",{className:d,id:`uppy_${t.id}`,role:this.props.role,children:[_("div",{className:"uppy-Dashboard-Item-preview",children:[_(J$,{file:t,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),_(tU,{uppy:this.props.uppy,file:t,error:o,isUploaded:s,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),_("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[_(X$,{file:t,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),_(W$,{file:t,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:n,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function sU(e,t){const r=[];let s=[];return e.forEach(n=>{s.length<t?s.push(n):(r.push(s),s=[n])}),s.length&&r.push(s),r}function nU({id:e,i18n:t,uppy:r,files:s,resumableUploads:n,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,isSingleFile:h,toggleFileCard:f,handleRequestThumbnail:g,handleCancelThumbnail:y,recoveredState:m,individualCancellation:b,itemsPerRow:v,openFileEditor:x,canEditFile:N,toggleAddFilesPanel:j,containerWidth:k,containerHeight:C}){const S=v===1?71:200,E=zy(()=>{const A=(z,q)=>Number(s[q].isGhost)-Number(s[z].isGhost),L=Object.keys(s);return m&&L.sort(A),sU(L,v)},[s,v,m]),T=A=>_("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:A.map(L=>_(rU,{uppy:r,id:e,i18n:t,resumableUploads:n,individualCancellation:b,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,recoveredState:m,isSingleFile:h,containerWidth:k,containerHeight:C,toggleFileCard:f,handleRequestThumbnail:g,handleCancelThumbnail:y,role:"listitem",openFileEditor:x,canEditFile:N,toggleAddFilesPanel:j,file:s[L]},L))},A[0]);return h?_("div",{class:"uppy-Dashboard-files",children:T(E[0])}):_(M9,{class:"uppy-Dashboard-files",role:"list",data:E,renderRow:T,rowHeight:S})}function iU({activePickerPanel:e,className:t,hideAllPanels:r,i18n:s,state:n,uppy:a}){const o=mh(null);return _("div",{className:_s("uppy-DashboardContent-panel",t),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:li,onDragLeave:li,onDrop:li,onPaste:li,children:[_("div",{className:"uppy-DashboardContent-bar",children:[_("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:s("importFrom",{name:e.name})}),_("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:s("cancel")})]}),_("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(e.id).render(n,o.current)})]})}const As={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function aU(e,t,r,s={}){if(e)return As.STATE_ERROR;if(t)return As.STATE_COMPLETE;if(r)return As.STATE_PAUSED;let n=As.STATE_WAITING;const a=Object.keys(s);for(let o=0;o<a.length;o++){const{progress:l}=s[a[o]];if(l.uploadStarted&&!l.uploadComplete)return As.STATE_UPLOADING;l.preprocess&&n!==As.STATE_UPLOADING&&(n=As.STATE_PREPROCESSING),l.postprocess&&n!==As.STATE_UPLOADING&&n!==As.STATE_PREPROCESSING&&(n=As.STATE_POSTPROCESSING)}return n}function oU({files:e,i18n:t,isAllComplete:r,isAllErrored:s,isAllPaused:n,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(aU(s,r,n,e)){case"uploading":return t("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return t("processingXFiles",{smart_count:l.length});case"paused":return t("uploadPaused");case"waiting":return t("xFilesSelected",{smart_count:o.length});case"complete":return t("uploadComplete");case"error":return t("error")}}function lU(e){const{i18n:t,isAllComplete:r,hideCancelButton:s,maxNumberOfFiles:n,toggleAddFilesPanel:a,uppy:o}=e;let{allowNewUpload:l}=e;return l&&n&&(l=e.totalFileCount<e.maxNumberOfFiles),_("div",{className:"uppy-DashboardContent-bar",children:[!r&&!s?_("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:t("cancel")}):_("div",{}),_("div",{className:"uppy-DashboardContent-title",children:_(oU,{...e})}),l?_("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>a(!0),children:[_("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:_("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),_("span",{className:"uppy-DashboardContent-addMoreCaption",children:t("addMore")})]}):_("div",{})]})}const za="uppy-transition-slideDownUp",Nw=250;function qu({children:e}){const[t,r]=mf(null),[s,n]=mf(""),a=mh(),o=mh(),l=mh(),c=()=>{n(`${za}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{n(`${za}-enter ${za}-enter-active`),a.current=setTimeout(()=>{n("")},Nw)})},d=()=>{n(`${za}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{n(`${za}-leave ${za}-leave-active`),o.current=setTimeout(()=>{r(null),n("")},Nw)})};return y0(()=>{const u=hs(e)[0];t!==u&&(u&&!t?c():t&&!u&&!o.current&&d(),r(u))},[e,t]),y0(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),t?J_(t,{className:_s(s,t.props.className)}):null}const jw=900,kw=700,kp=576,Sw=330;function cU(e){const t=e.totalFileCount===0,r=e.totalFileCount===1,s=e.containerWidth>kp,n=e.containerHeight>Sw,a=_s({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>kp,"uppy-size--lg":e.containerWidth>kw,"uppy-size--xl":e.containerWidth>jw,"uppy-size--height-md":e.containerHeight>Sw,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&r&&n});let o=1;e.containerWidth>jw?o=5:e.containerWidth>kw?o=4:e.containerWidth>kp&&(o=3);const l=e.showSelectedFiles&&!t,c=e.recoveredState?Object.keys(e.recoveredState.files).length:null,d=e.files?Object.keys(e.files).filter(f=>e.files[f].isGhost).length:0,u=()=>d>0?e.i18n("recoveredXFiles",{smart_count:d}):e.i18n("recoveredAllFiles");return _("div",{className:a,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&E$(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop,children:[_("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),_("div",{className:"uppy-Dashboard-inner",role:e.inline?void 0:"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""},children:[e.inline?null:_("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal,children:_("span",{"aria-hidden":"true",children:""})}),_("div",{className:"uppy-Dashboard-innerWrap",children:[_("div",{className:"uppy-Dashboard-dropFilesHereHint",children:e.i18n("dropHint")}),l&&_(lU,{...e}),c&&_("div",{className:"uppy-Dashboard-serviceMsg",children:[_("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:_("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[_("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),_("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),_("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),_("strong",{className:"uppy-Dashboard-serviceMsg-title",children:e.i18n("sessionRestored")}),_("div",{className:"uppy-Dashboard-serviceMsg-text",children:u()})]}),l?_(nU,{id:e.id,i18n:e.i18n,uppy:e.uppy,files:e.files,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:r,itemsPerRow:o,containerWidth:e.containerWidth,containerHeight:e.containerHeight}):_($C,{i18n:e.i18n,i18nArray:e.i18nArray,acquirers:e.acquirers,handleInputChange:e.handleInputChange,maxNumberOfFiles:e.maxNumberOfFiles,allowedFileTypes:e.allowedFileTypes,showNativePhotoCameraButton:e.showNativePhotoCameraButton,showNativeVideoCameraButton:e.showNativeVideoCameraButton,nativeCameraFacingMode:e.nativeCameraFacingMode,showPanel:e.showPanel,activePickerPanel:e.activePickerPanel,disableLocalFiles:e.disableLocalFiles,fileManagerSelectionType:e.fileManagerSelectionType,note:e.note,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy}),_(qu,{children:e.showAddFilesPanel?_(T$,{...e,isSizeMD:s},"AddFiles"):null}),_(qu,{children:e.fileCardFor?_($$,{...e},"FileCard"):null}),_(qu,{children:e.activePickerPanel?_(iU,{...e},"Picker"):null}),_(qu,{children:e.showFileEditor?_(P$,{...e},"Editor"):null}),_("div",{className:"uppy-Dashboard-progressindicators",children:e.progressindicators.map(f=>e.uppy.getPlugin(f.id).render(e.state))})]})]})]})}const dU={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},VC=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function HC(e,t){if(t){const r=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(r)return r}return e}function uU(){let e=!1;return wL((r,s)=>{const n=HC(r,s),a=n.contains(document.activeElement);if(a&&e)return;const o=n.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),e=!0;else{const l=n.querySelector(VC);l==null||l.focus({preventScroll:!0}),e=!1}},260)}function _w(e,t){const r=t[0];r&&(r.focus(),e.preventDefault())}function hU(e,t){const r=t[t.length-1];r&&(r.focus(),e.preventDefault())}function fU(e){return e.contains(document.activeElement)}function WC(e,t,r){const s=HC(r,t),n=Mc(s.querySelectorAll(VC)),a=n.indexOf(document.activeElement);fU(s)?e.shiftKey&&a===0?hU(e,n):!e.shiftKey&&a===n.length-1&&_w(e,n):_w(e,n)}function mU(e,t,r){t===null||WC(e,t,r)}const Cw=9,pU=27;function Ew(){const e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}const gU={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:F9,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var Cp,Bo,sa,Rd,Vo,Nf,jf,kf,na,Sf,_f,Ho,Tt,M0,F0,qC,O0,I0,GC;let xU=(Cp=class extends El{constructor(r,s){var a;const n=(s==null?void 0:s.autoOpen)??null;super(r,{...gU,...s,autoOpen:n});U(this,Tt);U(this,Bo);$(this,"modalName",`uppy-Dashboard-${LC()}`);$(this,"superFocus",uU());$(this,"ifFocusedOnUppyRecently",!1);$(this,"dashboardIsDisabled");$(this,"savedScrollPosition");$(this,"savedActiveElement");$(this,"resizeObserver");$(this,"darkModeMediaQuery");$(this,"makeDashboardInsidesVisibleAnywayTimeout");$(this,"removeTarget",r=>{const n=this.getPluginState().targets.filter(a=>a.id!==r.id);this.setPluginState({targets:n})});$(this,"addTarget",r=>{const s=r.id||r.constructor.name,n=r.title||s,a=r.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:s,name:n,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});$(this,"hideAllPanels",()=>{var n;const r=this.getPluginState(),s={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};r.activePickerPanel===s.activePickerPanel&&r.showAddFilesPanel===s.showAddFilesPanel&&r.showFileEditor===s.showFileEditor&&r.activeOverlayType===s.activeOverlayType||(this.setPluginState(s),this.uppy.emit("dashboard:close-panel",(n=r.activePickerPanel)==null?void 0:n.id))});$(this,"showPanel",r=>{const{targets:s}=this.getPluginState(),n=s.find(a=>a.type==="acquirer"&&a.id===r);this.setPluginState({activePickerPanel:n,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",r)});$(this,"canEditFile",r=>{const{targets:s}=this.getPluginState();return w(this,na).call(this,s).some(a=>this.uppy.getPlugin(a.id).canEditFile(r))});$(this,"openFileEditor",r=>{const{targets:s}=this.getPluginState(),n=w(this,na).call(this,s);this.setPluginState({showFileEditor:!0,fileCardFor:r.id||null,activeOverlayType:"FileEditor"}),n.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(r)})});$(this,"closeFileEditor",()=>{const{metaFields:r}=this.getPluginState();r&&r.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});$(this,"saveFileEditor",()=>{const{targets:r}=this.getPluginState();w(this,na).call(this,r).forEach(n=>{this.uppy.getPlugin(n.id).save()}),this.closeFileEditor()});$(this,"openModal",()=>{const{promise:r,resolve:s}=Ew();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const n=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",n,!1),s()};this.el.addEventListener("animationend",n,!1)}else this.setPluginState({isHidden:!1}),s();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),r});$(this,"closeModal",r=>{var c;const s=(r==null?void 0:r.manualClose)??!0,{isHidden:n,isClosing:a}=this.getPluginState();if(n||a)return;const{promise:o,resolve:l}=Ew();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),s&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});$(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);$(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());$(this,"setDarkModeCapability",r=>{const{capabilities:s}=this.uppy.getState();this.uppy.setState({capabilities:{...s,darkMode:r}})});$(this,"handleSystemDarkModeChange",r=>{const s=r.matches;this.uppy.log(`[Dashboard] Dark mode is ${s?"on":"off"}`),this.setDarkModeCapability(s)});$(this,"toggleFileCard",(r,s)=>{const n=this.uppy.getFile(s);r?this.uppy.emit("dashboard:file-edit-start",n):this.uppy.emit("dashboard:file-edit-complete",n),this.setPluginState({fileCardFor:r?s:null,activeOverlayType:r?"FileCard":null})});$(this,"toggleAddFilesPanel",r=>{this.setPluginState({showAddFilesPanel:r,activeOverlayType:r?"AddFiles":null})});$(this,"addFiles",r=>{const s=r.map(n=>({source:this.id,name:n.name,type:n.type,data:n,meta:{relativePath:n.relativePath||n.webkitRelativePath||null}}));try{this.uppy.addFiles(s)}catch(n){this.uppy.log(n)}});$(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(r=>{const s=r[0],{width:n,height:a}=s.contentRect;this.setPluginState({containerWidth:n,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const r=this.getPluginState(),s=!this.opts.inline&&r.isHidden;!r.areInsidesReadyToBeVisible&&!s&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});$(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});$(this,"recordIfFocusedOnUppyRecently",r=>{this.el.contains(r.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});$(this,"disableInteractiveElements",r=>{const s=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],n=w(this,Bo)??Mc(this.el.querySelectorAll(s)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of n)a.tagName==="A"?a.setAttribute("aria-disabled",r):a.disabled=r;r?B(this,Bo,n):B(this,Bo,null),this.dashboardIsDisabled=r});$(this,"updateBrowserHistory",()=>{var r;(r=history.state)!=null&&r[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});$(this,"handlePopState",r=>{var s;this.isModalOpen()&&(!r.state||!r.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((s=r.state)!=null&&s[this.modalName])&&history.back()});$(this,"handleKeyDownInModal",r=>{r.keyCode===pU&&this.requestCloseModal(),r.keyCode===Cw&&WC(r,this.getPluginState().activeOverlayType,this.el)});$(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});$(this,"handlePaste",r=>{this.uppy.iteratePlugins(n=>{var a;n.type==="acquirer"&&((a=n.handleRootPaste)==null||a.call(n,r))});const s=Mc(r.clipboardData.files);s.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(s))});$(this,"handleInputChange",r=>{r.preventDefault();const s=Mc(r.currentTarget.files||[]);s.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(s))});$(this,"handleDragOver",r=>{r.preventDefault(),r.stopPropagation();const s=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,r)&&(l=!0)}),l},n=()=>{const{types:l}=r.dataTransfer;return l.some(c=>c==="Files")},a=s(),o=n();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){r.dataTransfer.dropEffect="none";return}r.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(r)});$(this,"handleDragLeave",r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(r)});$(this,"handleDrop",async r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,r))});let s=!1;const n=o=>{this.uppy.log(o,"error"),s||(this.uppy.info(o.message,"error"),s=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await c$(r.dataTransfer,{logDropError:n});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(r)});$(this,"handleRequestThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",r)});$(this,"handleCancelThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",r)});$(this,"handleKeyDownInInline",r=>{r.keyCode===Cw&&mU(r,this.getPluginState().activeOverlayType,this.el)});$(this,"handlePasteOnBody",r=>{this.el.contains(document.activeElement)&&this.handlePaste(r)});$(this,"handleComplete",({failed:r})=>{this.opts.closeAfterFinish&&!(r!=null&&r.length)&&this.requestCloseModal()});$(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});U(this,sa,()=>{if(this.opts.disableThumbnailGenerator)return;const r=600,s=this.uppy.getFiles();if(s.length===1){const n=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);n==null||n.setOptions({thumbnailWidth:r});const a={...s[0],preview:void 0};n==null||n.requestThumbnail(a).then(()=>{n==null||n.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});U(this,Rd,r=>{const s=r[0],{metaFields:n}=this.getPluginState(),a=n&&n.length>0,o=this.canEditFile(s);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,s.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(s)});$(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const r=bw(this.opts.trigger);r?r.forEach(s=>s.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",w(this,Ho)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",w(this,sa)),this.uppy.on("file-removed",w(this,sa)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",w(this,Rd))});$(this,"removeEvents",()=>{const r=bw(this.opts.trigger);!this.opts.inline&&r&&r.forEach(s=>s.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",w(this,Ho)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",w(this,sa)),this.uppy.off("file-removed",w(this,sa)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",w(this,Rd))});$(this,"superFocusOnEachUpdate",()=>{const r=this.el.contains(document.activeElement),s=document.activeElement===document.body||document.activeElement===null,n=this.uppy.getState().info.length===0,a=!this.opts.inline;n&&(a||r||s&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});$(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});$(this,"saveFileCard",(r,s)=>{this.uppy.setFileMeta(s,r),this.toggleFileCard(!1,s)});U(this,Vo,r=>{const s=this.uppy.getPlugin(r.id);return{...r,icon:s.icon||this.opts.defaultPickerIcon,render:s.render}});U(this,Nf,r=>{const s=this.uppy.getPlugin(r.id);return typeof s.isSupported!="function"?!0:s.isSupported()});U(this,jf,r=>r.filter(s=>s.type==="acquirer"&&w(this,Nf).call(this,s)).map(w(this,Vo)));U(this,kf,r=>r.filter(s=>s.type==="progressindicator").map(w(this,Vo)));U(this,na,r=>r.filter(s=>s.type==="editor").map(w(this,Vo)));$(this,"render",r=>{const s=this.getPluginState(),{files:n,capabilities:a,allowNewUpload:o}=r,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:g,isUploadStarted:y,isAllComplete:m,isAllPaused:b}=this.uppy.getObjectOfFilesPerState(),v=w(this,jf).call(this,s.targets),x=w(this,kf).call(this,s.targets),N=w(this,na).call(this,s.targets);let j;return this.opts.theme==="auto"?j=a.darkMode?"dark":"light":j=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),cU({state:r,isHidden:s.isHidden,files:n,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:g,isUploadStarted:y,isAllComplete:m,isAllPaused:b,totalFileCount:Object.keys(n).length,totalProgress:r.totalProgress,allowNewUpload:o,acquirers:v,theme:j,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:s.activePickerPanel,showFileEditor:s.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:s.isClosing,progressindicators:x,editors:N,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:r.recoveredState,metaFields:s.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:s.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:s.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:s.containerWidth,containerHeight:s.containerHeight,areInsidesReadyToBeVisible:s.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:s.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});U(this,Sf,()=>{const{plugins:r}=this.opts;r.forEach(s=>{const n=this.uppy.getPlugin(s);n?n.mount(this,n):this.uppy.log(`[Uppy] Dashboard could not find plugin '${s}', make sure to uppy.use() the plugins you are specifying`,"warning")})});U(this,_f,()=>{this.uppy.iteratePlugins(w(this,Ho))});U(this,Ho,r=>{var n;const s=["acquirer","editor"];r&&!((n=r.opts)!=null&&n.target)&&s.includes(r.type)&&(this.getPluginState().targets.some(o=>r.id===o.id)||r.mount(this,r))});$(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:r,closeAfterFinish:s}=this.opts;if(r&&s)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:n,allowMultipleUploadBatches:a}=this.uppy.opts;(n||a)&&s&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableStatusBar||this.uppy.use(v7,{id:H(this,Tt,O0).call(this),target:this,...H(this,Tt,M0).call(this)}),this.opts.disableInformer||this.uppy.use(wC,{id:H(this,Tt,GC).call(this),target:this,...H(this,Tt,qC).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(FC,{id:H(this,Tt,I0).call(this),...H(this,Tt,F0).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),w(this,Sf).call(this),w(this,_f).call(this),this.initEvents()});$(this,"uninstall",()=>{var s;if(!this.opts.disableInformer){const n=this.uppy.getPlugin(`${this.id}:Informer`);n&&this.uppy.removePlugin(n)}if(!this.opts.disableStatusBar){const n=this.uppy.getPlugin(`${this.id}:StatusBar`);n&&this.uppy.removePlugin(n)}if(!this.opts.disableThumbnailGenerator){const n=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);n&&this.uppy.removePlugin(n)}const{plugins:r}=this.opts;r.forEach(n=>{const a=this.uppy.getPlugin(n);a&&a.unmount()}),this.opts.theme==="auto"&&((s=this.darkModeMediaQuery)==null||s.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=dU,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(r){var s,n;super.setOptions(r),(s=this.uppy.getPlugin(H(this,Tt,O0).call(this)))==null||s.setOptions(H(this,Tt,M0).call(this)),(n=this.uppy.getPlugin(H(this,Tt,I0).call(this)))==null||n.setOptions(H(this,Tt,F0).call(this))}},Bo=new WeakMap,sa=new WeakMap,Rd=new WeakMap,Vo=new WeakMap,Nf=new WeakMap,jf=new WeakMap,kf=new WeakMap,na=new WeakMap,Sf=new WeakMap,_f=new WeakMap,Ho=new WeakMap,Tt=new WeakSet,M0=function(){const{hideUploadButton:r,hideRetryButton:s,hidePauseResumeButton:n,hideCancelButton:a,showProgressDetails:o,hideProgressAfterFinish:l,locale:c,doneButtonHandler:d}=this.opts;return{hideUploadButton:r,hideRetryButton:s,hidePauseResumeButton:n,hideCancelButton:a,showProgressDetails:o,hideAfterFinish:l,locale:c,doneButtonHandler:d}},F0=function(){const{thumbnailWidth:r,thumbnailHeight:s,thumbnailType:n,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:r,thumbnailHeight:s,thumbnailType:n,waitForThumbnailsBeforeUpload:a,lazy:!a}},qC=function(){return{}},O0=function(){return`${this.id}:StatusBar`},I0=function(){return`${this.id}:ThumbnailGenerator`},GC=function(){return`${this.id}:Informer`},$(Cp,"VERSION",C$.version),Cp);const yU=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vU=/^(aria-|data-)/,KC=e=>Object.fromEntries(Object.entries(e).filter(([t])=>vU.test(t)||yU.includes(t)));function bU(e,t){const r=KC(e);return Object.keys(e).some(s=>!Object.hasOwn(r,s)&&e[s]!==t[s])}class QC extends p.Component{constructor(){super(...arguments);$(this,"container");$(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(r){const{uppy:s,open:n,onRequestClose:a}=this.props;if(r.uppy!==s)this.uninstallPlugin(r),this.installPlugin();else if(bU(this.props,r)){const{uppy:o,...l}={...this.props,inline:!1,onRequestCloseModal:a};this.plugin.setOptions(l)}r.open&&!n?this.plugin.closeModal():!r.open&&n&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:r=this.container,open:s,onRequestClose:n,uppy:a,...o}=this.props,l={id:"DashboardModal",...o,inline:!1,target:r,open:s,onRequestCloseModal:n};a.use(xU,l),this.plugin=a.getPlugin(l.id),s&&this.plugin.openModal()}uninstallPlugin(r=this.props){const{uppy:s}=r;s.removePlugin(this.plugin)}render(){return p.createElement("div",{className:"uppy-Container",ref:r=>{this.container=r},...KC(this.props)})}}$(QC,"defaultProps",{open:void 0,onRequestClose:void 0});p.createContext({uppy:void 0,status:"init",progress:0});var wU={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=p;function NU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jU=typeof Object.is=="function"?Object.is:NU,kU=lu.useSyncExternalStore,SU=lu.useRef,_U=lu.useEffect,CU=lu.useMemo,EU=lu.useDebugValue;wU.useSyncExternalStoreWithSelector=function(e,t,r,s,n){var a=SU(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=CU(function(){function c(g){if(!d){if(d=!0,u=g,g=s(g),n!==void 0&&o.hasValue){var y=o.value;if(n(y,g))return h=y}return h=g}if(y=h,jU(u,g))return y;var m=s(g);return n!==void 0&&n(y,m)?y:(u=g,h=m)}var d=!1,u,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,s,n]);var l=kU(e,a[0],a[1]);return _U(function(){o.hasValue=!0,o.value=l},[l]),EU(l),l};function ZC(e,t){return Object.hasOwn(e,t)}class TU extends Error{constructor(r,s){super(r);$(this,"isNetworkError");$(this,"cause");this.cause=s==null?void 0:s.cause,this.cause&&ZC(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class PU extends Error{constructor(r,s=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");$(this,"cause");$(this,"isNetworkError");$(this,"request");this.cause=r,this.isNetworkError=!0,this.request=s}}function AU(...e){return fetch(...e).catch(t=>{throw t.name==="AbortError"?t:new PU(t)})}function RU(e){var n;const r=(n=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(e))==null?void 0:n[1];return`${/^http:\/\//i.test(e)?"ws":"wss"}://${r}`}class MU extends Error{constructor(){super(...arguments);$(this,"name","UserFacingApiError")}}var YC={};function Qr(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var FU=Qr;Qr.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Qr.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Qr.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var s=this;return this._timer=setTimeout(function(){s._attempts++,s._operationTimeoutCb&&(s._timeout=setTimeout(function(){s._operationTimeoutCb(s._attempts)},s._operationTimeout),s._options.unref&&s._timeout.unref()),s._fn(s._attempts)},r),this._options.unref&&this._timer.unref(),!0};Qr.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Qr.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};Qr.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};Qr.prototype.start=Qr.prototype.try;Qr.prototype.errors=function(){return this._errors};Qr.prototype.attempts=function(){return this._attempts};Qr.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,s=0;s<this._errors.length;s++){var n=this._errors[s],a=n.message,o=(e[a]||0)+1;e[a]=o,o>=r&&(t=n,r=o)}return t};(function(e){var t=FU;e.operation=function(r){var s=e.timeouts(r);return new t(s,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},e.timeouts=function(r){if(r instanceof Array)return[].concat(r);var s={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var n in r)s[n]=r[n];if(s.minTimeout>s.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<s.retries;o++)a.push(this.createTimeout(o,s));return r&&r.forever&&!a.length&&a.push(this.createTimeout(o,s)),a.sort(function(l,c){return l-c}),a},e.createTimeout=function(r,s){var n=s.randomize?Math.random()+1:1,a=Math.round(n*Math.max(s.minTimeout,1)*Math.pow(s.factor,r));return a=Math.min(a,s.maxTimeout),a},e.wrap=function(r,s,n){if(s instanceof Array&&(n=s,s=null),!n){n=[];for(var a in r)typeof r[a]=="function"&&n.push(a)}for(var o=0;o<n.length;o++){var l=n[o],c=r[l];r[l]=(function(u){var h=e.operation(s),f=Array.prototype.slice.call(arguments,1),g=f.pop();f.push(function(y){h.retry(y)||(y&&(arguments[0]=h.mainError()),g.apply(this,arguments))}),h.attempt(function(){u.apply(r,f)})}).bind(r,c),r[l].options=s}}})(YC);var OU=YC;const IU=An(OU),DU=Object.prototype.toString,LU=e=>DU.call(e)==="[object Error]",$U=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function UU(e){return e&&LU(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:$U.has(e.message):!1}class D0 extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const Tw=(e,t,r)=>{const s=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=s,e};async function Pw(e,t){return new Promise((r,s)=>{t={...t},t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.retries??(t.retries=10);const n=IU.operation(t),a=()=>{var l;n.stop(),s((l=t.signal)==null?void 0:l.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=t.signal)==null||l.removeEventListener("abort",a),n.stop()};n.attempt(async l=>{try{const c=await e(l);o(),r(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof D0)throw c.originalError;if(c instanceof TypeError&&!UU(c))throw c;if(Tw(c,l,t),await t.shouldRetry(c)||(n.stop(),s(c)),await t.onFailedAttempt(c),!n.retry(c))throw n.mainError()}catch(d){Tw(d,l,t),o(),s(d)}}})})}const zU="@uppy/companion-client",BU="Client library for communication with Companion. Intended for use in Uppy plugins.",VU="4.5.2",HU="MIT",WU="lib/index.js",qU="module",GU={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},KU=["file uploader","uppy","uppy-plugin","companion","provider"],QU="https://uppy.io",ZU={url:"https://github.com/transloadit/uppy/issues"},YU={type:"git",url:"git+https://github.com/transloadit/uppy.git"},XU=["src","lib","dist","CHANGELOG.md"],JU={"@uppy/utils":"^6.2.2","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},ez={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},tz={"@uppy/core":"^4.5.2"},rz={name:zU,description:BU,version:VU,license:HU,main:WU,type:qU,scripts:GU,keywords:KU,homepage:QU,bugs:ZU,repository:YU,files:XU,dependencies:JU,devDependencies:ez,peerDependencies:tz};class sz extends Error{constructor(){super("Authorization required");$(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function nz(e){return e.replace(/\/$/,"")}const Aw=10,iz=5*60*1e3,az=401;class oz extends Error{constructor({statusCode:r,message:s}){super(s);$(this,"statusCode");this.name="HttpError",this.statusCode=r}}async function lz(e){if(e.status===az)throw new sz;if(e.ok)return e.json();let t=`Failed request with status: ${e.status}. ${e.statusText}`,r;try{r=await e.json(),r.message&&(t=`${t} message: ${r.message}`),r.requestId&&(t=`${t} request-Id: ${r.requestId}`)}catch(s){throw new Error(t,{cause:s})}throw e.status>=400&&e.status<=499&&r.message?new MU(r.message):new oz({statusCode:e.status,message:t})}function cz(e,t,r){const{progress:s,bytesUploaded:n,bytesTotal:a}=t;s&&(e.uppy.log(`Upload progress: ${s}`),e.uppy.emit("upload-progress",r,{uploadStarted:r.progress.uploadStarted??0,bytesUploaded:n,bytesTotal:a}))}var ia,Ei,L0,Cf,$0;class XC{constructor(t,r){U(this,Ei);U(this,ia);$(this,"uppy");$(this,"opts");U(this,Cf,async({file:t,postBody:r,signal:s})=>{var a;if(((a=t.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(t.remote.url,{...t.remote.body,...r},{signal:s})).token});this.uppy=t,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),B(this,ia,r.companionHeaders)}setCompanionHeaders(t){B(this,ia,t)}[Symbol.for("uppy test: getCompanionHeaders")](){return w(this,ia)}get hostname(){const{companion:t}=this.uppy.getState(),r=this.opts.companionUrl;return nz(t!=null&&t[r]?t[r]:r)}async headers(t=!1){return{...{Accept:"application/json",...t?void 0:{"Content-Type":"application/json"}},...w(this,ia)}}onReceiveResponse(t){const{headers:r}=t,n=this.uppy.getState().companion||{},a=this.opts.companionUrl;r.has("i-am")&&r.get("i-am")!==n[a]&&this.uppy.setState({companion:{...n,[a]:r.get("i-am")}})}async request({path:t,method:r="GET",data:s,skipPostResponse:n,signal:a}){try{const o=await this.headers(!s),l=await AU(H(this,Ei,L0).call(this,t),{method:r,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:s?JSON.stringify(s):null});return n||this.onReceiveResponse(l),await lz(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new TU(`Could not ${r} ${H(this,Ei,L0).call(this,t)}`,{cause:o})}}async get(t,r){return this.request({...r,path:t})}async post(t,r,s){return this.request({...s,path:t,method:"POST",data:r})}async delete(t,r,s){return this.request({...s,path:t,method:"DELETE",data:r})}async uploadRemoteFile(t,r,s){try{const{signal:n,getQueue:a}=s||{};return await Pw(async()=>{var d;const o=(d=this.uppy.getFile(t.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),H(this,Ei,$0).call(this,{file:t,queue:a(),signal:n});const c=await a().wrapPromiseFunction(async(...u)=>{try{return await w(this,Cf).call(this,...u)}catch(h){if(h.isAuthError)throw new D0(h);if(h.cause==null)throw h;const f=h.cause,g=()=>[408,409,429,418,423].includes(f.statusCode)||f.statusCode>=500&&f.statusCode<=599&&![501,505].includes(f.statusCode);throw f.name==="HttpError"&&!g()?new D0(f):f}},{priority:-1})({file:t,postBody:r,signal:n}).abortOn(n);if(this.uppy.getFile(t.id))return this.uppy.setFileState(t.id,{serverToken:c}),H(this,Ei,$0).call(this,{file:this.uppy.getFile(t.id),queue:a(),signal:n})},{retries:Aw,signal:n,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(n){if(n.name==="AbortError")return;throw this.uppy.emit("upload-error",t,n),n}}}ia=new WeakMap,Ei=new WeakSet,L0=function(t){return/^(https?:|)\/\//.test(t)?t:`${this.hostname}/${t}`},Cf=new WeakMap,$0=async function({file:t,queue:r,signal:s}){let n;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=t.serverToken,d=RU(t.remote.companionUrl);let u,h,f,{isPaused:g}=t;const y=(S,E)=>{if(u==null||u.readyState!==u.OPEN){this.uppy.log(`Cannot send "${S}" to socket ${t.id} because the socket state was ${String(u==null?void 0:u.readyState)}`,"warning");return}u.send(JSON.stringify({action:S,payload:E??{}}))};function m(){a.resumableUploads&&y(g?"pause":"resume")}const b=async()=>{h&&h.abort(),h=new AbortController;const S=T=>{var A;this.uppy.setFileState(t.id,{serverToken:null}),(A=h==null?void 0:h.abort)==null||A.call(h),l(T)};function E(){clearTimeout(f),!g&&(f=setTimeout(()=>S(new Error("Timeout waiting for message from Companion socket")),iz))}try{await r.wrapPromiseFunction(async()=>{await Pw(async()=>new Promise((A,L)=>{u=new WebSocket(`${d}/api/${c}`),E(),u.addEventListener("close",()=>{u=void 0,L(new Error("Socket closed unexpectedly"))}),u.addEventListener("error",q=>{this.uppy.log(`Companion socket error ${JSON.stringify(q)}, closing socket`,"warning"),u==null||u.close()}),u.addEventListener("open",()=>{m()}),u.addEventListener("message",q=>{var O,M,F;E();try{const{action:I,payload:R}=JSON.parse(q.data);switch(I){case"progress":{cz(this,R,this.uppy.getFile(t.id));break}case"success":{const V=(O=R.response)==null?void 0:O.responseText;this.uppy.emit("upload-success",this.uppy.getFile(t.id),{uploadURL:R.url,status:((M=R.response)==null?void 0:M.status)??200,body:V?JSON.parse(V):void 0}),(F=h==null?void 0:h.abort)==null||F.call(h),o();break}case"error":{const{message:V}=R.error;throw Object.assign(new Error(V),{cause:R.error})}default:this.uppy.log(`Companion socket unknown action ${I}`,"warning")}}catch(I){S(I)}});const z=()=>{this.uppy.log(`Closing socket ${t.id}`),clearTimeout(f),u&&u.close(),u=void 0};h.signal.addEventListener("abort",()=>{z()})}),{retries:Aw,signal:h.signal,onFailedAttempt:()=>{h.signal.aborted||this.uppy.log(`Retrying websocket ${t.id}`)}})})().abortOn(h.signal)}catch(T){if(h.signal.aborted)return;S(T)}},v=S=>{a.resumableUploads&&(g=S,u&&m())},x=S=>{var E;a.individualCancellation&&S.id===t.id&&(y("cancel"),(E=h==null?void 0:h.abort)==null||E.call(h),this.uppy.log(`upload ${t.id} was removed`),o())},N=()=>{var S;y("cancel"),(S=h==null?void 0:h.abort)==null||S.call(h),this.uppy.log(`upload ${t.id} was canceled`),o()},j=(S,E)=>{(S==null?void 0:S.id)===t.id&&v(E)},k=()=>v(!0),C=()=>v(!1);this.uppy.on("file-removed",x),this.uppy.on("cancel-all",N),this.uppy.on("upload-pause",j),this.uppy.on("pause-all",k),this.uppy.on("resume-all",C),n=()=>{this.uppy.off("file-removed",x),this.uppy.off("cancel-all",N),this.uppy.off("upload-pause",j),this.uppy.off("pause-all",k),this.uppy.off("resume-all",C)},s.addEventListener("abort",()=>{h==null||h.abort()}),b()})}finally{n==null||n()}},$(XC,"VERSION",rz.version);var Ls,Md;class dz{constructor(t){U(this,Ls);U(this,Md,[]);B(this,Ls,t)}on(t,r){return w(this,Md).push([t,r]),w(this,Ls).on(t,r)}remove(){for(const[t,r]of w(this,Md).splice(0))w(this,Ls).off(t,r)}onFilePause(t,r){this.on("upload-pause",(s,n)=>{t===(s==null?void 0:s.id)&&r(n)})}onFileRemove(t,r){this.on("file-removed",s=>{t===s.id&&r(s.id)})}onPause(t,r){this.on("upload-pause",(s,n)=>{t===(s==null?void 0:s.id)&&r(n)})}onRetry(t,r){this.on("upload-retry",s=>{t===(s==null?void 0:s.id)&&r()})}onRetryAll(t,r){this.on("retry-all",()=>{w(this,Ls).getFile(t)&&r()})}onPauseAll(t,r){this.on("pause-all",()=>{w(this,Ls).getFile(t)&&r()})}onCancelAll(t,r){this.on("cancel-all",(...s)=>{w(this,Ls).getFile(t)&&r(...s)})}onResumeAll(t,r){this.on("resume-all",()=>{w(this,Ls).getFile(t)&&r()})}}Ls=new WeakMap,Md=new WeakMap;const{AbortController:Sp}=globalThis,JC=(e="Aborted",t)=>{const r=new DOMException(e,"AbortError");return t!=null&&ZC(t,"cause")&&Object.defineProperty(r,"cause",{__proto__:null,configurable:!0,writable:!0,value:t.cause}),r};function uz(e){const t=r=>"error"in r&&!!r.error;return e.filter(r=>!t(r))}function hz(e){return e.filter(t=>{var r;return!((r=t.progress)!=null&&r.uploadStarted)||!t.isRestored})}function Rw(e,t){return e===!0?Object.keys(t):Array.isArray(e)?e:[]}function fz(e){return new Error("Cancelled",{cause:e})}function Mw(e){var t;if(e!=null){const r=()=>this.abort(e.reason);e.addEventListener("abort",r,{once:!0});const s=()=>{e.removeEventListener("abort",r)};(t=this.then)==null||t.call(this,s,s)}return this}var pn,$s,gn,Wo,Us,qo,aa,Ht,U0,gc,e4,t4,r4,Ef,Go;class mz{constructor(t){U(this,Ht);U(this,pn,0);U(this,$s,[]);U(this,gn,!1);U(this,Wo);U(this,Us,1);U(this,qo);U(this,aa);$(this,"limit");U(this,Ef,()=>this.resume());U(this,Go,()=>{if(w(this,gn)){B(this,aa,setTimeout(w(this,Go),0));return}B(this,Us,this.limit),this.limit=Math.ceil((w(this,qo)+w(this,Us))/2);for(let t=w(this,Us);t<=this.limit;t++)H(this,Ht,gc).call(this);w(this,qo)-w(this,Us)>3?B(this,aa,setTimeout(w(this,Go),2e3)):B(this,Us,Math.floor(w(this,Us)/2))});typeof t!="number"||t===0?this.limit=1/0:this.limit=t}run(t,r){return!w(this,gn)&&w(this,pn)<this.limit?H(this,Ht,U0).call(this,t):H(this,Ht,t4).call(this,t,r)}wrapSyncFunction(t,r){return(...s)=>{const n=this.run(()=>(t(...s),queueMicrotask(()=>n.done()),()=>{}),r);return{abortOn:Mw,abort(){n.abort()}}}}wrapPromiseFunction(t,r){return(...s)=>{let n;const a=new Promise((o,l)=>{n=this.run(()=>{let c,d;try{d=Promise.resolve(t(...s))}catch(u){d=Promise.reject(u)}return d.then(u=>{c?l(c):(n.done(),o(u))},u=>{c?l(c):(n.done(),l(u))}),u=>{c=fz(u)}},r)});return a.abort=o=>{n.abort(o)},a.abortOn=Mw,a}}resume(){B(this,gn,!1),clearTimeout(w(this,Wo));for(let t=0;t<this.limit;t++)H(this,Ht,gc).call(this)}pause(t=null){B(this,gn,!0),clearTimeout(w(this,Wo)),t!=null&&B(this,Wo,setTimeout(w(this,Ef),t))}rateLimit(t){clearTimeout(w(this,aa)),this.pause(t),this.limit>1&&Number.isFinite(this.limit)&&(B(this,qo,this.limit-1),this.limit=w(this,Us),B(this,aa,setTimeout(w(this,Go),t)))}get isPaused(){return w(this,gn)}}pn=new WeakMap,$s=new WeakMap,gn=new WeakMap,Wo=new WeakMap,Us=new WeakMap,qo=new WeakMap,aa=new WeakMap,Ht=new WeakSet,U0=function(t){B(this,pn,w(this,pn)+1);let r=!1,s;try{s=t()}catch(n){throw B(this,pn,w(this,pn)-1),n}return{abort:n=>{r||(r=!0,B(this,pn,w(this,pn)-1),s==null||s(n),H(this,Ht,gc).call(this))},done:()=>{r||(r=!0,B(this,pn,w(this,pn)-1),H(this,Ht,gc).call(this))}}},gc=function(){queueMicrotask(()=>H(this,Ht,e4).call(this))},e4=function(){if(w(this,gn)||w(this,pn)>=this.limit||w(this,$s).length===0)return;const t=w(this,$s).shift();if(t==null)throw new Error("Invariant violation: next is null");const r=H(this,Ht,U0).call(this,t.fn);t.abort=r.abort,t.done=r.done},t4=function(t,r){const s={fn:t,priority:(r==null?void 0:r.priority)||0,abort:()=>{H(this,Ht,r4).call(this,s)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},n=w(this,$s).findIndex(a=>s.priority>a.priority);return n===-1?w(this,$s).push(s):w(this,$s).splice(n,0,s),s},r4=function(t){const r=w(this,$s).indexOf(t);r!==-1&&w(this,$s).splice(r,1)},Ef=new WeakMap,Go=new WeakMap;const pz="@uppy/aws-s3",gz="Upload to Amazon S3 with Uppy",xz="4.3.2",yz="MIT",vz="lib/index.js",bz="module",wz={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Nz=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],jz="https://uppy.io",kz={url:"https://github.com/transloadit/uppy/issues"},Sz={type:"git",url:"git+https://github.com/transloadit/uppy.git"},_z=["src","lib","dist","CHANGELOG.md"],Cz={"@uppy/companion-client":"^4.5.2","@uppy/utils":"^6.2.2"},Ez={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^4.5.2",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},Tz={"@uppy/core":"^4.5.2"},Pz={name:pz,description:gz,version:xz,license:yz,main:vz,type:bz,scripts:wz,keywords:Nz,homepage:jz,bugs:kz,repository:Sz,files:_z,dependencies:Cz,devDependencies:Ez,peerDependencies:Tz};function Az({method:e="PUT",CanonicalUri:t="/",CanonicalQueryString:r="",SignedHeaders:s,HashedPayload:n}){const a=Object.keys(s).map(o=>o.toLowerCase()).sort();return[e,t,r,...a.map(o=>`${o}:${s[o]}`),"",a.join(";"),n].join(`
`)}const Qy=new TextEncoder,Zy={name:"HMAC",hash:"SHA-256"};async function Rz(e){const{subtle:t}=globalThis.crypto;return t.digest(Zy.hash,Qy.encode(e))}async function Mz(e){const{subtle:t}=globalThis.crypto;return t.importKey("raw",typeof e=="string"?Qy.encode(e):e,Zy,!1,["sign"])}function Fw(e){const t=new Uint8Array(e);let r="";for(let s=0;s<t.length;s++)r+=t[s].toString(16).padStart(2,"0");return r}async function ec(e,t){const{subtle:r}=globalThis.crypto;return r.sign(Zy,await Mz(e),Qy.encode(t))}async function Fz({accountKey:e,accountSecret:t,sessionToken:r,bucketName:s,Key:n,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",u=`${d}.${a}.amazonaws.com`,h=`/${s}/${encodeURI(n).replace(/[;?:@&=+$,#!'()*]/g,T=>`%${T.charCodeAt(0).toString(16).toUpperCase()}`)}`,f="UNSIGNED-PAYLOAD",g=new Date().toISOString().replace(/[-:]|\.\d+/g,""),y=g.slice(0,8),m=`${y}/${a}/${d}/aws4_request`,b=new URL(`https://${u}${h}`);b.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),b.searchParams.set("X-Amz-Content-Sha256",f),b.searchParams.set("X-Amz-Credential",`${e}/${m}`),b.searchParams.set("X-Amz-Date",g),b.searchParams.set("X-Amz-Expires",o),b.searchParams.set("X-Amz-Security-Token",r),b.searchParams.set("X-Amz-SignedHeaders","host"),c&&b.searchParams.set("partNumber",c),l&&b.searchParams.set("uploadId",l),b.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const v=Az({CanonicalUri:h,CanonicalQueryString:b.search.slice(1),SignedHeaders:{host:u},HashedPayload:f}),x=Fw(await Rz(v)),N=["AWS4-HMAC-SHA256",g,m,x].join(`
`),j=await ec(`AWS4${t}`,y),k=await ec(j,a),C=await ec(k,d),S=await ec(C,"aws4_request"),E=Fw(await ec(S,N));return b.searchParams.set("X-Amz-Signature",E),b}const Oz=1024*1024,Ow={getChunkSize(e){return Math.ceil(e.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(e){throw e}};function Iz(e){if(typeof e=="string")return parseInt(e,10);if(typeof e=="number")return e;throw new TypeError("Expected a number")}const xh=Symbol("pausing upload, not an actual error");var ss,$r,zs,xn,yn,Fd,Od,Ko,oa,Qo,Id,Zo,Dd,Cs,s4,n4,z0,Ld,$d,i4;class Dz{constructor(t,r){U(this,Cs);$(this,"options");U(this,ss,new Sp);U(this,$r,[]);U(this,zs,[]);U(this,xn);U(this,yn);U(this,Fd,!1);U(this,Od);U(this,Ko);U(this,oa);U(this,Qo);U(this,Id,t=>(t==null?void 0:t.cause)===xh?null:w(this,Od).call(this,t));U(this,Zo,1e4);U(this,Dd,5*Oz);U(this,Ld,t=>r=>{if(!r.lengthComputable)return;w(this,zs)[t].uploaded=Iz(r.loaded);const s=w(this,zs).reduce((n,a)=>n+a.uploaded,0);this.options.onProgress(s,w(this,xn).size)});U(this,$d,t=>r=>{w(this,$r)[t]=null,w(this,zs)[t].etag=r,w(this,zs)[t].done=!0;const s={PartNumber:t+1,ETag:r};this.options.onPartComplete(s)});var s;this.options={...Ow,...r},(s=this.options).getChunkSize??(s.getChunkSize=Ow.getChunkSize),B(this,xn,t),B(this,yn,r.file),B(this,Ko,this.options.onSuccess),B(this,Od,this.options.onError),B(this,oa,this.options.shouldUseMultipart),B(this,Qo,r.uploadId&&r.key),H(this,Cs,s4).call(this)}start(){w(this,Fd)?(w(this,ss).signal.aborted||w(this,ss).abort(xh),B(this,ss,new Sp),H(this,Cs,z0).call(this)):w(this,Qo)?(this.options.companionComm.restoreUploadFile(w(this,yn),{uploadId:this.options.uploadId,key:this.options.key}),H(this,Cs,z0).call(this)):H(this,Cs,n4).call(this)}pause(){w(this,ss).abort(xh),B(this,ss,new Sp)}abort(t){t!=null&&t.really?H(this,Cs,i4).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return w(this,zs)}}ss=new WeakMap,$r=new WeakMap,zs=new WeakMap,xn=new WeakMap,yn=new WeakMap,Fd=new WeakMap,Od=new WeakMap,Ko=new WeakMap,oa=new WeakMap,Qo=new WeakMap,Id=new WeakMap,Zo=new WeakMap,Dd=new WeakMap,Cs=new WeakSet,s4=function(){const t=w(this,xn).size,r=typeof w(this,oa)=="function"?w(this,oa).call(this,w(this,yn)):!!w(this,oa);if(r&&t>w(this,Dd)){let s=Math.max(this.options.getChunkSize(w(this,xn)),w(this,Dd)),n=Math.floor(t/s);n>w(this,Zo)&&(n=w(this,Zo),s=t/w(this,Zo)),B(this,$r,Array(n));for(let a=0,o=0;a<t;a+=s,o++){const l=Math.min(t,a+s),c=()=>{const d=a;return w(this,xn).slice(d,l)};if(w(this,$r)[o]={getData:c,onProgress:w(this,Ld).call(this,o),onComplete:w(this,$d).call(this,o),shouldUseMultipart:r},w(this,Qo)){const d=a+s>t?t-a:s;w(this,$r)[o].setAsUploaded=()=>{w(this,$r)[o]=null,w(this,zs)[o].uploaded=d}}}}else B(this,$r,[{getData:()=>w(this,xn),onProgress:w(this,Ld).call(this,0),onComplete:w(this,$d).call(this,0),shouldUseMultipart:r}]);B(this,zs,w(this,$r).map(()=>({uploaded:0})))},n4=function(){this.options.companionComm.uploadFile(w(this,yn),w(this,$r),w(this,ss).signal).then(w(this,Ko),w(this,Id)),B(this,Fd,!0)},z0=function(){this.options.companionComm.resumeUploadFile(w(this,yn),w(this,$r),w(this,ss).signal).then(w(this,Ko),w(this,Id))},Ld=new WeakMap,$d=new WeakMap,i4=function(){w(this,ss).abort(),this.options.companionComm.abortFileUpload(w(this,yn)).catch(t=>this.options.log(t))};function Bt(e){if(e!=null&&e.aborted)throw JC("The operation was aborted",{cause:e.reason})}function Lz(e){const t=new URL(e);return t.search="",t.hash="",t.href}var Ud,ns,zd,Bd,Vd,Hd,Yo,Xo,Jo,el,la,tl,is,Pa,a4,B0;class $z{constructor(t,r,s,n){U(this,Pa);U(this,Ud);U(this,ns,new WeakMap);U(this,zd);U(this,Bd);U(this,Vd);U(this,Hd);U(this,Yo);U(this,Xo);U(this,Jo);U(this,el);U(this,la);U(this,tl);U(this,is);B(this,Xo,t),B(this,la,s),B(this,is,n),this.setOptions(r)}setOptions(t){const r=w(this,Xo);"abortMultipartUpload"in t&&B(this,Ud,r.wrapPromiseFunction(t.abortMultipartUpload,{priority:1})),"createMultipartUpload"in t&&B(this,zd,r.wrapPromiseFunction(t.createMultipartUpload,{priority:-1})),"signPart"in t&&B(this,Bd,r.wrapPromiseFunction(t.signPart)),"listParts"in t&&B(this,Hd,r.wrapPromiseFunction(t.listParts)),"completeMultipartUpload"in t&&B(this,el,r.wrapPromiseFunction(t.completeMultipartUpload,{priority:1})),"retryDelays"in t&&B(this,Jo,t.retryDelays??[]),"uploadPartBytes"in t&&B(this,tl,r.wrapPromiseFunction(t.uploadPartBytes,{priority:1/0})),"getUploadParameters"in t&&B(this,Vd,r.wrapPromiseFunction(t.getUploadParameters))}async getUploadId(t,r){let s;for(;s=w(this,ns).get(t.data),s!=null;)try{return await s}catch{}const n=w(this,zd).call(this,w(this,is).call(this,t),r),a=()=>{n.abort(r.reason),w(this,ns).delete(t.data)};return r.addEventListener("abort",a,{once:!0}),w(this,ns).set(t.data,n),n.then(async o=>{r.removeEventListener("abort",a),w(this,la).call(this,t,o),w(this,ns).set(t.data,o)},()=>{r.removeEventListener("abort",a),w(this,ns).delete(t.data)}),n}async abortFileUpload(t){const r=w(this,ns).get(t.data);if(r==null)return;w(this,ns).delete(t.data),w(this,la).call(this,t,Object.create(null));let s;try{s=await r}catch{return}await w(this,Ud).call(this,w(this,is).call(this,t),s)}async uploadFile(t,r,s){if(Bt(s),r.length===1&&!r[0].shouldUseMultipart)return H(this,Pa,B0).call(this,t,r[0],s);const{uploadId:n,key:a}=await this.getUploadId(t,s);Bt(s);try{const o=await Promise.all(r.map((l,c)=>this.uploadChunk(t,c+1,l,s)));return Bt(s),await w(this,el).call(this,w(this,is).call(this,t),{key:a,uploadId:n,parts:o,signal:s},s).abortOn(s)}catch(o){throw(o==null?void 0:o.cause)!==xh&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(t),o}}restoreUploadFile(t,r){w(this,ns).set(t.data,r)}async resumeUploadFile(t,r,s){if(Bt(s),r.length===1&&r[0]!=null&&!r[0].shouldUseMultipart)return H(this,Pa,B0).call(this,t,r[0],s);const{uploadId:n,key:a}=await this.getUploadId(t,s);Bt(s);const o=await w(this,Hd).call(this,w(this,is).call(this,t),{uploadId:n,key:a,signal:s},s).abortOn(s);Bt(s);const l=await Promise.all(r.map((c,d)=>{var f;const u=d+1,h=o.find(({PartNumber:g})=>g===u);return h==null?this.uploadChunk(t,u,c,s):((f=c==null?void 0:c.setAsUploaded)==null||f.call(c),{PartNumber:u,ETag:h.ETag})}));return Bt(s),w(this,el).call(this,w(this,is).call(this,t),{key:a,uploadId:n,parts:l,signal:s},s).abortOn(s)}async uploadChunk(t,r,s,n){Bt(n);const{uploadId:a,key:o}=await this.getUploadId(t,n),l=w(this,Jo).values(),c=w(this,Jo).values(),d=()=>{const u=l.next();return u==null||u.done?null:u.value};for(;;){Bt(n);const u=s.getData(),{onProgress:h,onComplete:f}=s;let g;try{g=await w(this,Bd).call(this,w(this,is).call(this,t),{uploadId:a,key:o,partNumber:r,body:u,signal:n}).abortOn(n)}catch(y){const m=d();if(m==null||n.aborted)throw y;await new Promise(b=>setTimeout(b,m));continue}Bt(n);try{return{PartNumber:r,...await w(this,tl).call(this,{signature:g,body:u,size:u.size,onProgress:h,onComplete:f,signal:n}).abortOn(n)}}catch(y){if(!await H(this,Pa,a4).call(this,y,c))throw y}}}}Ud=new WeakMap,ns=new WeakMap,zd=new WeakMap,Bd=new WeakMap,Vd=new WeakMap,Hd=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,el=new WeakMap,la=new WeakMap,tl=new WeakMap,is=new WeakMap,Pa=new WeakSet,a4=async function(t,r){var a;const s=w(this,Xo),n=(a=t==null?void 0:t.source)==null?void 0:a.status;if(n==null)return!1;if(n===403&&t.message==="Request has expired"){if(!s.isPaused){if(s.limit===1||w(this,Yo)==null){const o=r.next();if(o==null||o.done)return!1;B(this,Yo,o.value)}s.rateLimit(0),await new Promise(o=>setTimeout(o,w(this,Yo)))}}else if(n===429){if(!s.isPaused){const o=r.next();if(o==null||o.done)return!1;s.rateLimit(o.value)}}else{if(n>400&&n<500&&n!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)s.isPaused||(s.pause(),window.addEventListener("online",()=>{s.resume()},{once:!0}));else{const o=r.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},B0=async function(t,r,s){const{method:n="POST",url:a,fields:o,headers:l}=await w(this,Vd).call(this,w(this,is).call(this,t),{signal:s}).abortOn(s);let c;const d=r.getData();if(n.toUpperCase()==="POST"){const y=new FormData;Object.entries(o).forEach(([m,b])=>y.set(m,b)),y.set("file",d),c=y}else c=d;const{onProgress:u,onComplete:h}=r,f=await w(this,tl).call(this,{signature:{url:a,headers:l,method:n},body:c,size:d.size,onProgress:u,onComplete:h,signal:s}).abortOn(s),g=o==null?void 0:o.key;return w(this,la).call(this,t,{key:g}),{...f,location:f.location??Lz(a),bucket:o==null?void 0:o.bucket,key:g}};function Ba(e){if(e!=null&&e.error){const t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function Iw(e){const t=e.Expiration;if(t){const r=Math.floor((new Date(t)-Date.now())/1e3);if(r>9)return r}}function Dw({meta:e,allowedMetaFields:t,querify:r=!1}){const s=t??Object.keys(e);return e?Object.fromEntries(s.filter(n=>e[n]!=null).map(n=>{const a=r?`metadata[${n}]`:n,o=String(e[n]);return[a,o]})):{}}const Uz={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:e=>(e.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var rl,er,bt,H0,Bn,as,o4,Tf,sl,l4,c4,Wd,nl,ca,qd;const Pf=class Pf extends $_{constructor(r,s){super(r,{...Uz,uploadPartBytes:Pf.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...s});U(this,bt);U(this,rl);U(this,er);$(this,"requests");$(this,"uploaderEvents");$(this,"uploaders");U(this,as);U(this,Tf,(r,{key:s,uploadId:n})=>{const a=this.uppy.getFile(r.id);a!=null&&this.uppy.setFileState(r.id,{s3Multipart:{...a.s3Multipart,key:s,uploadId:n}})});U(this,sl,r=>this.uppy.getFile(r.id)||r);U(this,Wd,async r=>{if(r.length===0)return;const s=this.uppy.getFilesByIds(r),n=uz(s),a=hz(n);this.uppy.emit("upload-start",a);const o=n.map(c=>{if(c.isRemote){const d=()=>this.requests;w(this,ca).call(this,!1);const u=new AbortController,h=g=>{g.id===c.id&&u.abort()};this.uppy.on("file-removed",h);const f=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,H(this,bt,c4).call(this,c),{signal:u.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),f}return H(this,bt,l4).call(this,c)}),l=await Promise.allSettled(o);return w(this,ca).call(this,!0),l});U(this,nl,()=>{var r;(r=w(this,er))==null||r.setCompanionHeaders(this.opts.headers)});U(this,ca,r=>{const{capabilities:s}=this.uppy.getState();this.uppy.setState({capabilities:{...s,resumableUploads:r}})});U(this,qd,()=>{w(this,ca).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",H(this,bt,H0).call(this,s);const n={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:s!=null&&s.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:s!=null&&s.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(n))this.opts[a]==null&&(this.opts[a]=n[a].bind(this));this.requests=this.opts.rateLimitedQueue??new mz(this.opts.limit),B(this,rl,new $z(this.requests,this.opts,w(this,Tf),w(this,sl))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return w(this,er)}setOptions(r){w(this,rl).setOptions(r),super.setOptions(r),H(this,bt,H0).call(this,r)}resetUploaderReferences(r,s){this.uploaders[r]&&(this.uploaders[r].abort({really:(s==null?void 0:s.abort)||!1}),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null)}createMultipartUpload(r,s){H(this,bt,Bn).call(this,"createMultipartUpload"),Bt(s);const n=Rw(this.opts.allowedMetaFields,r.meta),a=Dw({meta:r.meta,allowedMetaFields:n});return w(this,er).post("s3/multipart",{filename:r.name,type:r.type,metadata:a},{signal:s}).then(Ba)}listParts(r,{key:s,uploadId:n,signal:a},o){a??(a=o),H(this,bt,Bn).call(this,"listParts"),Bt(a);const l=encodeURIComponent(s);return w(this,er).get(`s3/multipart/${encodeURIComponent(n)}?key=${l}`,{signal:a}).then(Ba)}completeMultipartUpload(r,{key:s,uploadId:n,parts:a,signal:o},l){o??(o=l),H(this,bt,Bn).call(this,"completeMultipartUpload"),Bt(o);const c=encodeURIComponent(s),d=encodeURIComponent(n);return w(this,er).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:u,PartNumber:h})=>({ETag:u,PartNumber:h}))},{signal:o}).then(Ba)}async createSignedURL(r,s){const n=await H(this,bt,o4).call(this,s),a=Iw(n.credentials)||604800,{uploadId:o,key:l,partNumber:c}=s;return{method:"PUT",expires:a,fields:{},url:`${await Fz({accountKey:n.credentials.AccessKeyId,accountSecret:n.credentials.SecretAccessKey,sessionToken:n.credentials.SessionToken,expires:a,bucketName:n.bucket,Region:n.region,Key:l??`${crypto.randomUUID()}-${r.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":r.type}}}signPart(r,{uploadId:s,key:n,partNumber:a,signal:o}){if(H(this,bt,Bn).call(this,"signPart"),Bt(o),s==null||n==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(n);return w(this,er).get(`s3/multipart/${encodeURIComponent(s)}/${a}?key=${l}`,{signal:o}).then(Ba)}abortMultipartUpload(r,{key:s,uploadId:n,signal:a}){H(this,bt,Bn).call(this,"abortMultipartUpload");const o=encodeURIComponent(s),l=encodeURIComponent(n);return w(this,er).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(Ba)}getUploadParameters(r,s){H(this,bt,Bn).call(this,"getUploadParameters");const{meta:n}=r,{type:a,name:o}=n,l=Rw(this.opts.allowedMetaFields,r.meta),c=Dw({meta:n,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return w(this,er).get(`s3/params?${d}`,s)}static async uploadPartBytes({signature:{url:r,expires:s,headers:n,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:u}){if(Bt(u),r==null)throw new Error("Cannot upload to an undefined URL");return new Promise((h,f)=>{const g=new XMLHttpRequest;g.open(a,r,!0),n&&Object.keys(n).forEach(b=>{g.setRequestHeader(b,n[b])}),g.responseType="text",typeof s=="number"&&(g.timeout=s*1e3);function y(){g.abort()}function m(){u==null||u.removeEventListener("abort",y)}u==null||u.addEventListener("abort",y),g.upload.addEventListener("progress",b=>{c(b)}),g.addEventListener("abort",()=>{m(),f(JC())}),g.addEventListener("timeout",()=>{m();const b=new Error("Request has expired");b.source={status:403},f(b)}),g.addEventListener("load",()=>{if(m(),g.status===403&&g.responseText.includes("<Message>Request has expired</Message>")){const j=new Error("Request has expired");j.source=g,f(j);return}if(g.status<200||g.status>=300){const j=new Error("Non 2xx");j.source=g,f(j);return}c==null||c({loaded:l,lengthComputable:!0});const b=g.getAllResponseHeaders().trim().split(/[\r\n]+/),v={__proto__:null};for(const j of b){const k=j.split(": "),C=k.shift(),S=k.join(": ");v[C]=S}const{etag:x,location:N}=v;if(a.toUpperCase()==="POST"&&N==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),x==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(x),h({...v,ETag:x})}),g.addEventListener("error",b=>{m();const v=new Error("Unknown error");v.source=b.target,f(v)}),g.send(o)})}install(){w(this,ca).call(this,!0),this.uppy.addPreProcessor(w(this,nl)),this.uppy.addUploader(w(this,Wd)),this.uppy.on("cancel-all",w(this,qd))}uninstall(){this.uppy.removePreProcessor(w(this,nl)),this.uppy.removeUploader(w(this,Wd)),this.uppy.off("cancel-all",w(this,qd))}};rl=new WeakMap,er=new WeakMap,bt=new WeakSet,H0=function(r){r==null||!("endpoint"in r||"companionUrl"in r||"headers"in r||"companionHeaders"in r||"cookiesRule"in r||"companionCookiesRule"in r)||("companionUrl"in r&&!("endpoint"in r)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in r&&!("headers"in r)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in r&&!("cookiesRule"in r)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in r?B(this,er,new XC(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in r&&w(this,nl).call(this),"cookiesRule"in r&&(w(this,er).opts.companionCookiesRule=r.cookiesRule)))},Bn=function(r){if(!w(this,er))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${r}\` implementation.`)},as=new WeakMap,o4=async function(r){if(Bt(r==null?void 0:r.signal),w(this,as)==null){const{getTemporarySecurityCredentials:s}=this.opts;s===!0?(H(this,bt,Bn).call(this,"getTemporarySecurityCredentials"),B(this,as,w(this,er).get("s3/sts",r).then(Ba))):B(this,as,s(r)),B(this,as,await w(this,as)),setTimeout(()=>{B(this,as,null)},(Iw(w(this,as).credentials)||0)*500)}return w(this,as)},Tf=new WeakMap,sl=new WeakMap,l4=function(r){return new Promise((s,n)=>{const a=(u,h)=>{const f=this.uppy.getFile(r.id);this.uppy.emit("upload-progress",f,{uploadStarted:f.progress.uploadStarted??0,bytesUploaded:u,bytesTotal:h})},o=u=>{this.uppy.log(u),this.uppy.emit("upload-error",r,u),this.resetUploaderReferences(r.id),n(u)},l=u=>{const h={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(r.id),this.uppy.emit("upload-success",w(this,sl).call(this,r),h),u.location&&this.uppy.log(`Download ${r.name} from ${u.location}`),s(void 0)},c=new Dz(r.data,{companionComm:w(this,rl),log:(...u)=>this.uppy.log(...u),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",w(this,sl).call(this,r),u)},file:r,shouldUseMultipart:this.opts.shouldUseMultipart,...r.s3Multipart});this.uploaders[r.id]=c;const d=new dz(this.uppy);this.uploaderEvents[r.id]=d,d.onFileRemove(r.id,u=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),s(`upload ${u} was removed`)}),d.onCancelAll(r.id,()=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),s(`upload ${r.id} was canceled`)}),d.onFilePause(r.id,u=>{u?c.pause():c.start()}),d.onPauseAll(r.id,()=>{c.pause()}),d.onResumeAll(r.id,()=>{c.start()}),c.start()})},c4=function(r){var s;return{...(s=r.remote)==null?void 0:s.body,protocol:"s3-multipart",size:r.data.size,metadata:r.meta}},Wd=new WeakMap,nl=new WeakMap,ca=new WeakMap,qd=new WeakMap,$(Pf,"VERSION",Pz.version);let V0=Pf;function zz({maxNumberOfFiles:e=1,maxFileSize:t=10485760,allowedFileTypes:r=["*/*"],onGetUploadParameters:s,onComplete:n,buttonClassName:a,children:o,asButton:l=!0}){const[c,d]=p.useState(!1),[u]=p.useState(()=>new b0({restrictions:{maxNumberOfFiles:e,maxFileSize:t,allowedFileTypes:r},autoProceed:!1}).use(V0,{shouldUseMultipart:!1,getUploadParameters:s}).on("complete",h=>{n==null||n(h)}).on("error",h=>{console.error("Uppy upload error:",h)}).on("upload-error",(h,f)=>{console.error("Upload error for file:",h==null?void 0:h.name,f)}));return i.jsxs("div",{children:[l?i.jsx(X,{onClick:()=>d(!0),className:a,children:o}):i.jsx("div",{onClick:()=>d(!0),className:a,style:{cursor:"pointer"},children:o}),i.jsx(QC,{uppy:u,open:c,onRequestClose:()=>d(!1),proudlyDisplayPoweredByUppy:!1})]})}function Bz(e,t=.8){return new Promise(r=>{const s=document.createElement("canvas"),n=s.getContext("2d"),a=new Image;a.onload=()=>{let{width:o,height:l}=a;const c=1024;if(o>c||l>c){const d=Math.min(c/o,c/l);o*=d,l*=d}s.width=o,s.height=l,n==null||n.drawImage(a,0,0,o,l),s.toBlob(d=>{r(d||e)},"image/jpeg",t)},a.src=URL.createObjectURL(e)})}function W0(e,t,r){const s=parseFloat(t.replace(",","."));if(isNaN(s))return"unknown";const n={:{min:110,max:190},:{min:4,max:5.5},:{min:4,max:11},:{min:150,max:450},:{min:3.9,max:6.1},:{min:3,max:5.2},:{min:53,max:115},:{min:37,max:54}},a=e.toLowerCase().trim();for(const[o,l]of Object.entries(n))if(a.includes(o))return s<l.min?"low":s>l.max?"high":"normal";return"unknown"}function d4(e){const t=e.toLowerCase();return["","",""].some(r=>t.includes(r))?"  ":["","","","","",""].some(r=>t.includes(r))?" ":[""].some(r=>t.includes(r))?"":["","",""].some(r=>t.includes(r))?"":["",""].some(r=>t.includes(r))?"":" "}function Vz(e){const t=e.split(`
`).filter(s=>s.trim()),r=[];return t.forEach((s,n)=>{const a=s.match(/^([^:]+):\s*([0-9.,]+)\s*([^(]*?)(?:\s*\(:\s*([^)]+)\))?/i);if(a){const[,o,l,c]=a,d=o.trim(),u=l.trim(),h=c.trim();r.push({id:`biomarker-${n}`,name:d,value:u,unit:h,status:W0(d,u),category:d4(d),isEditing:!1})}}),r}function Hz(){const[e,t]=p.useState("photo"),[r,s]=p.useState(""),[n,a]=p.useState(""),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[u,h]=p.useState([]),[f,g]=p.useState(null),[y,m]=p.useState({stage:"idle",progress:0,message:"",details:""}),{toast:b}=Ri(),v=Ml(),x=(M,F,I,R)=>{m({stage:M,progress:F,message:I,details:R})},N=Zs({mutationFn:async()=>{console.log("Creating blood analysis entry...");try{const M=await at("/api/blood-analyses",{method:"POST",body:JSON.stringify({status:"pending"})});return console.log("Blood analysis created:",M),M}catch(M){throw console.error("Failed to create blood analysis:",M),M}},onError:M=>{var F;console.error("Create analysis mutation error:",M),(F=M.message)!=null&&F.includes("Unexpected token")&&console.error("Got HTML instead of JSON - possible routing issue")}}),j=Zs({mutationFn:async({analysisId:M,imageBase64:F,mimeType:I})=>{console.log("Sending extract text request...");const R=await at(`/api/blood-analyses/${M}/extract-text`,{method:"POST",body:JSON.stringify({imageBase64:F,mimeType:I})});return console.log("Extract text result:",R),R},onSuccess:M=>{console.log("Extract text success, extracted text:",M.extractedText),x("idle",0,""),a(M.extractedText||"");const F=Vz(M.extractedText||"");h(F),d(!0),l(!1),b({title:" ",description:` ${F.length} .    .`})},onError:M=>{var I,R,V;console.error("Extract text error:",M),x("idle",0," ");let F="   .       .";(I=M.message)!=null&&I.includes("401")||(R=M.message)!=null&&R.includes("Unauthorized")?(F=" .    .",setTimeout(()=>window.location.href="/login",2e3)):(V=M.message)!=null&&V.includes("Service temporarily unavailable")&&(F="   .  ."),b({title:"",description:F,variant:"destructive"}),t("text")}}),k=Zs({mutationFn:async({analysisId:M,text:F})=>await at(`/api/blood-analyses/${M}/analyze-text`,{method:"POST",body:JSON.stringify({text:F})}),onSuccess:M=>{v.invalidateQueries({queryKey:["/api/blood-analyses"]}),x("complete",100," !","    "),b({title:" ",description:"     "}),s(""),setTimeout(()=>{window.location.href="/app/biomarkers"},3e3)},onError:M=>{var I,R,V,Q,se;console.error("Analyze text error:",M),console.error("Error details:",((I=M.response)==null?void 0:I.data)||M.message),x("idle",0," ");let F="   .   .";(R=M.message)!=null&&R.includes("401")||(V=M.message)!=null&&V.includes("Unauthorized")?(F=" .    .",setTimeout(()=>window.location.href="/login",2e3)):(Q=M.message)!=null&&Q.includes("Service temporarily unavailable")?F="   .  .":(se=M.message)!=null&&se.includes("Unexpected token")&&(F="   .   .",console.error("Response parsing error - got HTML instead of JSON")),b({title:"",description:F,variant:"destructive"})}}),C=async()=>{var M,F;try{console.log("Getting upload parameters...");const{uploadURL:I}=await at("/api/objects/upload",{method:"POST"});return console.log("Got upload URL successfully"),{method:"PUT",url:I}}catch(I){throw console.error("Upload parameters error:",I),(M=I.message)!=null&&M.includes("401")||(F=I.message)!=null&&F.includes("Unauthorized")?(b({title:" ",description:" . ,    .",variant:"destructive"}),setTimeout(()=>{window.location.href="/login"},2e3)):b({title:"",description:I.message||"   URL  ",variant:"destructive"}),I}},S=async M=>{if(console.log("Upload result:",M),M.failed&&M.failed.length>0){console.error("Upload failed:",M.failed),b({title:" ",description:`   : ${M.failed[0].error||" "}`,variant:"destructive"}),x("idle",0,"");return}if(M.successful&&M.successful.length>0){x("uploading",20," ...","   ");try{x("uploading",30,"  ...","   ");const F=await N.mutateAsync(),I=M.successful[0],R=I.data;x("uploading",50," ...","   ");const V=await Bz(R),Q=new FileReader;Q.onloadend=async()=>{try{const se=Q.result,[pe,He]=se.split(","),Ve=pe.split(":")[1].split(";")[0],Pt=I.type||Ve;if(!Pt.startsWith("image/")||He.length<1e3){b({title:"",description:",    (PNG, JPG, GIF, WEBP)",variant:"destructive"}),x("idle",0,"");return}x("recognizing",65," ...","OpenAI Vision    "),g(F.id),await j.mutateAsync({analysisId:F.id,imageBase64:He,mimeType:Pt})}catch(se){console.error("Error analyzing image:",se),x("idle",0," ")}},Q.readAsDataURL(V)}catch(F){console.error("Error processing upload:",F),x("idle",0," "),b({title:"",description:F instanceof Error?F.message:"   ",variant:"destructive"})}}else console.error("No successful uploads found"),b({title:"",description:"    .     .",variant:"destructive"}),x("idle",0,"")},E=(M,F)=>{h(I=>I.map(R=>R.id===M?{...R,...F}:R))},T=()=>{const M={id:`biomarker-new-${Date.now()}`,name:"",value:"",unit:"",status:"unknown",category:" ",isEditing:!0};h(F=>[...F,M])},A=M=>{h(F=>F.filter(I=>I.id!==M))},L=async()=>{var F,I,R;const M=u.filter(V=>V.name.trim()&&V.value.trim());if(M.length===0||!f){b({title:"",description:"      ",variant:"destructive"});return}try{console.log("Confirming biomarkers...",{currentAnalysisId:f,validBiomarkers:M.length});const V=M.map(Q=>`${Q.name}: ${Q.value} ${Q.unit}`).join(`
`);console.log("Text for analysis:",V),d(!1),x("analyzing",75," ...","-  "),await k.mutateAsync({analysisId:f,text:V}),console.log("Biomarkers analysis completed successfully"),h([]),g(null)}catch(V){console.error(" :",V),x("idle",0," ");let Q="   .   .";(F=V.message)!=null&&F.includes("401")||(I=V.message)!=null&&I.includes("Unauthorized")?(Q=" .    .",setTimeout(()=>window.location.href="/login",2e3)):(R=V.message)!=null&&R.includes("Service temporarily unavailable")&&(Q="   .  ."),b({title:"",description:Q,variant:"destructive"})}},z=async()=>{if(!n.trim()||!f){b({title:"",description:"   ",variant:"destructive"});return}try{x("analyzing",75," ...","-  "),await k.mutateAsync({analysisId:f,text:n}),l(!1),a(""),g(null)}catch(M){console.error("Error analyzing text:",M),x("idle",0," ")}},q=async()=>{var M,F,I;if(!r.trim()){b({title:"",description:"  ",variant:"destructive"});return}try{console.log("Starting text analysis..."),x("uploading",20,"  ...","   ");const R=await N.mutateAsync();console.log("Analysis created:",R),x("analyzing",50,"  ...","    "),x("saving",80," ...",'  " "  " "'),await k.mutateAsync({analysisId:R.id,text:r}),console.log("Text analysis completed successfully")}catch(R){console.error("Error analyzing text:",R),x("idle",0," ");let V="   .   .";(M=R.message)!=null&&M.includes("401")||(F=R.message)!=null&&F.includes("Unauthorized")?(V=" .    .",setTimeout(()=>window.location.href="/login",2e3)):(I=R.message)!=null&&I.includes("Service temporarily unavailable")&&(V="   .  ."),b({title:"",description:V,variant:"destructive"})}},O=()=>{const M=[{id:"uploading",label:"",icon:Db},{id:"recognizing",label:"",icon:Mb},{id:"analyzing",label:" ",icon:gt},{id:"saving",label:"",icon:dA}],F=()=>M.findIndex(I=>I.id===y.stage);return i.jsx(J,{className:"mb-6",children:i.jsx(me,{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"font-medium",children:" "}),i.jsxs("span",{className:"text-muted-foreground",children:[y.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-trust-green to-medical-blue h-2 rounded-full transition-all duration-500",style:{width:`${y.progress}%`}})}),i.jsx("div",{className:"flex justify-between items-center",children:M.map((I,R)=>{const V=I.icon,Q=F()===R,se=F()>R;return i.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 ${se?"bg-trust-green text-white":Q?"bg-medical-blue text-white animate-pulse":"bg-gray-200 text-gray-400"}`,children:se?i.jsx(mr,{className:"w-4 h-4"}):i.jsx(V,{className:"w-4 h-4"})}),i.jsx("span",{className:`text-xs text-center ${Q?"text-medical-blue font-medium":se?"text-trust-green font-medium":"text-gray-500"}`,children:I.label})]},I.id)})}),y.message&&i.jsxs("div",{className:"text-center space-y-1 mt-4",children:[i.jsx("p",{className:"font-medium text-foreground",children:y.message}),y.details&&i.jsx("p",{className:"text-sm text-muted-foreground",children:y.details})]})]})})})};return y.stage==="complete"?i.jsxs("div",{className:"eva-page",children:[i.jsx("main",{className:"eva-page-content min-h-screen flex flex-col items-center justify-center",children:i.jsxs("div",{className:"text-center space-y-6 max-w-sm",children:[i.jsx(Se,{size:"xl",className:"bg-gradient-to-br from-trust-green/20 to-medical-blue/20 text-trust-green border-trust-green/20 mx-auto",children:i.jsx(mr,{className:le.xl})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:" !"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"           "}),i.jsx("div",{className:"bg-gradient-to-r from-trust-green/10 to-medical-blue/10 rounded-lg p-4 text-left",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(wa,{className:"w-4 h-4 mr-2 text-trust-green"}),i.jsx("span",{children:'  " "'})]}),i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(ot,{className:"w-4 h-4 mr-2 text-medical-blue"}),i.jsx("span",{children:'  " "'})]}),i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(pt,{className:"w-4 h-4 mr-2 text-purple-600"}),i.jsx("span",{children:"  "})]})]})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ze,{href:"/app/biomarkers",children:i.jsxs(X,{className:"w-full","data-testid":"button-view-biomarkers",children:[i.jsx(ot,{className:"w-4 h-4 mr-2"})," ",i.jsx(oo,{className:"w-4 h-4 ml-auto"})]})}),i.jsx(Ze,{href:"/app/recommendations",children:i.jsxs(X,{variant:"outline",className:"w-full","data-testid":"button-view-recommendations",children:[i.jsx(pt,{className:"w-4 h-4 mr-2"})," ",i.jsx(oo,{className:"w-4 h-4 ml-auto"})]})})]})]})}),i.jsx(ar,{})]}):i.jsxs("div",{className:"eva-page",children:[i.jsxs("main",{className:"eva-page-content pt-6",children:[["uploading","recognizing","analyzing","saving"].includes(y.stage)&&i.jsx(O,{}),i.jsxs("div",{className:"max-w-lg mx-auto",children:[y.stage==="idle"&&i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-trust-green/20 to-medical-blue/20 rounded-full flex items-center justify-center mx-auto mb-4 relative",children:[e==="photo"?i.jsx(vo,{className:"w-12 h-12 text-trust-green"}):i.jsx(lo,{className:"w-12 h-12 text-medical-blue"}),i.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-r from-orange-400 to-pink-400 rounded-full flex items-center justify-center",children:i.jsx(pt,{className:"w-3 h-3 text-white"})})]}),i.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"  "}),i.jsx("p",{className:"text-muted-foreground mb-4",children:e==="photo"?"         ":"        "}),i.jsx(J,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:i.jsx(me,{className:"p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx(gt,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"    :"}),i.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mr-2"}),i.jsx("span",{children:"   "})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mr-2"}),i.jsx("span",{children:'  " "'})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mr-2"}),i.jsx("span",{children:'  " "'})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full mr-2"}),i.jsx("span",{children:"  "})]})]})]})]})})})]}),y.stage==="idle"&&i.jsxs("div",{className:"flex mb-8 bg-gray-100 rounded-full p-1",children:[i.jsxs(X,{"data-testid":"button-photo-mode",variant:e==="photo"?"default":"ghost",size:"sm",className:`flex-1 rounded-full ${e==="photo"?"shadow-md":""}`,onClick:()=>t("photo"),children:[i.jsx(vo,{className:"w-4 h-4 mr-2"})," "]}),i.jsxs(X,{"data-testid":"button-text-mode",variant:e==="text"?"default":"ghost",size:"sm",className:`flex-1 rounded-full ${e==="text"?"shadow-md":""}`,onClick:()=>t("text"),children:[i.jsx(lo,{className:"w-4 h-4 mr-2"})," "]})]}),y.stage==="idle"&&i.jsx("div",{className:"space-y-6",children:e==="photo"?i.jsxs(i.Fragment,{children:[i.jsx(zz,{maxNumberOfFiles:1,maxFileSize:5242880,allowedFileTypes:["image/*"],onGetUploadParameters:C,onComplete:S,buttonClassName:"w-full p-8 border-2 border-dashed border-gray-300 hover:border-trust-green transition-all duration-300 rounded-2xl bg-gradient-to-br from-gray-50 to-white hover:from-trust-green/5 hover:to-medical-blue/5 hover:shadow-lg",asButton:!1,children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-trust-green to-medical-blue rounded-full flex items-center justify-center shadow-lg",children:i.jsx(Db,{className:"w-10 h-10 text-white"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"font-bold text-lg text-foreground mb-2",children:"  "}),i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"     "}),i.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-trust-green/10 text-trust-green text-xs font-medium",children:[i.jsx(pt,{className:"w-3 h-3 mr-1"})," "]})]}),i.jsx("div",{className:"text-xs text-muted-foreground bg-gray-100 px-3 py-1 rounded-full",children:"PNG, JPG, GIF, WEBP   5MB"})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(J,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:i.jsx(me,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(Mb,{className:"w-5 h-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-blue-700 font-semibold text-sm",children:"OCR "}),i.jsx("p",{className:"text-xs text-blue-600",children:"     "})]})]})})}),i.jsx(J,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:i.jsx(me,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(gt,{className:"w-5 h-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-green-700 font-semibold text-sm",children:" "}),i.jsx("p",{className:"text-xs text-green-600",children:"    "})]})]})})})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(J,{children:i.jsx(me,{className:"p-0",children:i.jsx(gd,{"data-testid":"textarea-analysis-input",placeholder:"   . :\\n\\n: 138 /\\n: 4.210/\\n: 6.810/\\n: 28010/\\n: 5.1 /\\n: 4.8 /\\n: 85 /",value:r,onChange:M=>s(M.target.value),className:"min-h-[200px] resize-none text-sm border-0 focus:ring-0"})})}),i.jsx(J,{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200",children:i.jsx(me,{className:"p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(pt,{className:"w-4 h-4 text-amber-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-amber-900 mb-2",children:"  "}),i.jsxs("div",{className:"text-xs text-amber-700 space-y-1",children:[i.jsx("div",{children:"     "}),i.jsx("div",{children:"     "}),i.jsx("div",{children:"   "})]})]})]})})}),i.jsxs(X,{"data-testid":"button-analyze-text",onClick:q,disabled:!r.trim(),className:"w-full py-6 text-base bg-gradient-to-r from-trust-green to-medical-blue hover:from-trust-green/90 hover:to-medical-blue/90",size:"lg",children:[i.jsx(gt,{className:"w-5 h-5 mr-2"}),"  ",i.jsx(oo,{className:"w-4 h-4 ml-2"})]})]})}),o&&i.jsxs(J,{className:"mt-6 border-2 border-trust-green shadow-lg",children:[i.jsx(yt,{className:"bg-gradient-to-r from-trust-green to-medical-blue text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:i.jsx(lo,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold",children:" "}),i.jsxs("p",{className:"text-white/90 text-sm",children:[" ",n.length," "]})]})]}),i.jsx(X,{onClick:()=>{l(!1),a(""),g(null)},variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",children:i.jsx(Wr,{className:"w-4 h-4"})})]})}),i.jsxs(me,{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"   :"}),i.jsx(gd,{"data-testid":"textarea-extracted-text",value:n,onChange:M=>a(M.target.value),className:"min-h-[300px] text-sm font-mono",placeholder:"   ..."})]}),n&&i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-blue-900",children:""}),i.jsx("div",{className:"text-blue-600 font-bold",children:n.split(`
`).filter(M=>M.trim()).length})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-blue-900",children:""}),i.jsx("div",{className:"text-blue-600 font-bold",children:n.split(`
`).filter(M=>M.includes(":")&&M.match(/\d+[.,]?\d*/)).length})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-blue-900",children:""}),i.jsx("div",{className:"text-blue-600 font-bold",children:(n.match(/(\/|\/|\/|\/|%|10|x10)/gi)||[]).length})]})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(X,{"data-testid":"button-confirm-analysis",onClick:z,disabled:!n.trim()||n.length<10,className:"flex-1 bg-trust-green hover:bg-trust-green/90",children:[i.jsx(mr,{className:"w-4 h-4 mr-2"}),"  "]}),i.jsxs(X,{onClick:()=>{l(!1),a(""),g(null),t("text")},variant:"outline",children:[i.jsx(lo,{className:"w-4 h-4 mr-2"})," "]})]}),i.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:i.jsxs("div",{className:"text-sm text-amber-800",children:[i.jsx("p",{className:"font-semibold mb-1",children:" :"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:"   "}),i.jsx("li",{children:"     "}),i.jsx("li",{children:"   "})]})]})})]})]}),c&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-0 sm:p-4",children:i.jsxs("div",{className:"w-full max-w-4xl max-h-full sm:max-h-[90vh] bg-white rounded-t-3xl sm:rounded-2xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-full sm:slide-in-from-bottom-8 duration-300",children:[i.jsx("div",{className:"bg-gradient-to-r from-emerald-500 via-teal-500 to-blue-500 text-white p-4 sm:p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/20 rounded-xl flex items-center justify-center",children:i.jsx(ot,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold",children:" "}),i.jsxs("p",{className:"text-white/90 text-sm",children:[u.length,"   ",u.filter(M=>M.status==="normal").length,"  "]})]})]}),i.jsx(X,{onClick:()=>{d(!1),h([]),g(null)},variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 min-h-[44px] min-w-[44px] rounded-xl",children:i.jsx(Wr,{className:"w-5 h-5"})})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto max-h-[calc(100vh-200px)] sm:max-h-[50vh]",children:[Object.entries(u.reduce((M,F)=>(M[F.category]||(M[F.category]=[]),M[F.category].push(F),M),{})).map(([M,F])=>i.jsxs("div",{className:"p-4 border-b border-gray-100",children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-3 text-sm uppercase tracking-wide",children:M}),i.jsx("div",{className:"space-y-3",children:F.map(I=>{const R={normal:"bg-emerald-50 border-emerald-200 text-emerald-800",high:"bg-red-50 border-red-200 text-red-800",low:"bg-orange-50 border-orange-200 text-orange-800",unknown:"bg-gray-50 border-gray-200 text-gray-800"},V={normal:"",high:"",low:"",unknown:"?"},Q={normal:"",high:" ",low:" ",unknown:""};return i.jsx("div",{className:`p-4 rounded-2xl border-2 transition-all ${R[I.status]} hover:shadow-md`,children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx(Ie,{value:I.name,onChange:se=>{const pe=se.target.value,He=W0(pe,I.value,I.unit),Ve=d4(pe);E(I.id,{name:pe,status:He,category:Ve})},placeholder:" ",className:"font-medium text-gray-900 bg-transparent border-0 p-0 text-base h-auto focus:ring-0","data-testid":`input-biomarker-name-${I.id}`}),i.jsx("span",{className:"text-xl font-bold",children:V[I.status]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ie,{value:I.value,onChange:se=>{const pe=se.target.value,He=W0(I.name,pe,I.unit);E(I.id,{value:pe,status:He})},placeholder:"0",className:"w-20 text-xl font-bold bg-transparent border-0 p-0 h-auto focus:ring-0","data-testid":`input-biomarker-value-${I.id}`}),i.jsx(Ie,{value:I.unit,onChange:se=>E(I.id,{unit:se.target.value}),placeholder:".",className:"w-16 text-sm bg-transparent border-0 p-0 h-auto focus:ring-0 text-gray-600","data-testid":`input-biomarker-unit-${I.id}`})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-white/50",children:Q[I.status]}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>A(I.id),className:"text-red-500 hover:text-red-700 hover:bg-red-100 min-h-[44px] min-w-[44px] rounded-xl","data-testid":`button-delete-biomarker-${I.id}`,children:i.jsx(jk,{className:"w-4 h-4"})})]})]})},I.id)})})]},M)),i.jsx("div",{className:"p-4",children:i.jsxs(X,{variant:"outline",onClick:T,className:"w-full min-h-[52px] border-2 border-dashed border-gray-300 hover:border-blue-400 text-gray-600 hover:text-blue-600 rounded-2xl","data-testid":"button-add-biomarker",children:[i.jsx(Nn,{className:"w-5 h-5 mr-2"})," "]})})]}),i.jsx("div",{className:"bg-gray-50 p-4 pb-8 sm:pb-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsxs(X,{onClick:L,disabled:u.filter(M=>M.name.trim()&&M.value.trim()).length===0,className:"min-h-[52px] w-full bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white rounded-2xl shadow-lg","data-testid":"button-confirm-biomarkers",children:[i.jsx(mr,{className:"w-5 h-5 mr-2"}),"  ",i.jsx(oo,{className:"w-4 h-4 ml-2"})]}),i.jsx(X,{variant:"ghost",onClick:()=>{const M=u.map(F=>`${F.name}: ${F.value} ${F.unit} (${F.status})`).join(`
`);navigator.clipboard.writeText(M),b({title:"",description:"    "})},className:"text-sm text-gray-500 hover:text-gray-700 min-h-[44px]",children:"  "})]})})]})}),y.stage==="idle"&&!o&&!c&&i.jsxs("div",{className:"mt-8 space-y-4",children:[i.jsx(J,{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-gray-200",children:i.jsx(me,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(wa,{className:"w-5 h-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:" "}),i.jsx("p",{className:"text-sm text-blue-700",children:"Invitro, Helix, KDL, CMD,     "})]})]})})}),i.jsx(J,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:i.jsx(me,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(mr,{className:"w-5 h-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:" "}),i.jsx("p",{className:"text-sm text-green-700",children:"       "})]})]})})})]})]})]}),i.jsx(ar,{})]})}function Ts(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ea(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const u4=6048e5,Wz=864e5;let qz={};function pm(){return qz}function Ta(e,t){var l,c,d,u;const r=pm(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,n=Ts(e),a=n.getDay(),o=(a<s?7:0)+a-s;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function gf(e){return Ta(e,{weekStartsOn:1})}function h4(e){const t=Ts(e),r=t.getFullYear(),s=Ea(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const n=gf(s),a=Ea(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=gf(a);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Lw(e){const t=Ts(e);return t.setHours(0,0,0,0),t}function $w(e){const t=Ts(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Gz(e,t){const r=Lw(e),s=Lw(t),n=+r-$w(r),a=+s-$w(s);return Math.round((n-a)/Wz)}function Kz(e){const t=h4(e),r=Ea(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),gf(r)}function Qz(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Zz(e){if(!Qz(e)&&typeof e!="number")return!1;const t=Ts(e);return!isNaN(Number(t))}function Yz(e){const t=Ts(e),r=Ea(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Xz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jz=(e,t,r)=>{let s;const n=Xz[e];return typeof n=="string"?s=n:t===1?s=n.one:s=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function So(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const eB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sB={date:So({formats:eB,defaultWidth:"full"}),time:So({formats:tB,defaultWidth:"full"}),dateTime:So({formats:rB,defaultWidth:"full"})},nB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iB=(e,t,r,s)=>nB[e];function Hs(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let n;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;n=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;n=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return n[a]}}const aB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hB=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fB={ordinalNumber:hB,era:Hs({values:aB,defaultWidth:"wide"}),quarter:Hs({values:oB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hs({values:lB,defaultWidth:"wide"}),day:Hs({values:cB,defaultWidth:"wide"}),dayPeriod:Hs({values:dB,defaultWidth:"wide",formattingValues:uB,defaultFormattingWidth:"wide"})};function Ws(e){return(t,r={})=>{const s=r.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(n);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?pB(l,h=>h.test(o)):mB(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function mB(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function pB(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function f4(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const n=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(n.length);return{value:o,rest:l}}}const gB=/^(\d+)(th|st|nd|rd)?/i,xB=/\d+/i,yB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vB={any:[/^b/i,/^(a|c)/i]},bB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wB={any:[/1/i,/2/i,/3/i,/4/i]},NB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_B={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EB={ordinalNumber:f4({matchPattern:gB,parsePattern:xB,valueCallback:e=>parseInt(e,10)}),era:Ws({matchPatterns:yB,defaultMatchWidth:"wide",parsePatterns:vB,defaultParseWidth:"any"}),quarter:Ws({matchPatterns:bB,defaultMatchWidth:"wide",parsePatterns:wB,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ws({matchPatterns:NB,defaultMatchWidth:"wide",parsePatterns:jB,defaultParseWidth:"any"}),day:Ws({matchPatterns:kB,defaultMatchWidth:"wide",parsePatterns:SB,defaultParseWidth:"any"}),dayPeriod:Ws({matchPatterns:_B,defaultMatchWidth:"any",parsePatterns:CB,defaultParseWidth:"any"})},TB={code:"en-US",formatDistance:Jz,formatLong:sB,formatRelative:iB,localize:fB,match:EB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PB(e){const t=Ts(e);return Gz(t,Yz(t))+1}function AB(e){const t=Ts(e),r=+gf(t)-+Kz(t);return Math.round(r/u4)+1}function m4(e,t){var u,h,f,g;const r=Ts(e),s=r.getFullYear(),n=pm(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=Ea(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=Ta(o,t),c=Ea(e,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const d=Ta(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function RB(e,t){var l,c,d,u;const r=pm(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,n=m4(e,t),a=Ea(e,0);return a.setFullYear(n,0,s),a.setHours(0,0,0,0),Ta(a,t)}function MB(e,t){const r=Ts(e),s=+Ta(r,t)-+RB(r,t);return Math.round(s/u4)+1}function ze(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const $n={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return ze(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ze(r+1,2)},d(e,t){return ze(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ze(e.getHours()%12||12,t.length)},H(e,t){return ze(e.getHours(),t.length)},m(e,t){return ze(e.getMinutes(),t.length)},s(e,t){return ze(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),n=Math.trunc(s*Math.pow(10,r-3));return ze(n,t.length)}},Va={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Uw={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),n=s>0?s:1-s;return r.ordinalNumber(n,{unit:"year"})}return $n.y(e,t)},Y:function(e,t,r,s){const n=m4(e,s),a=n>0?n:1-n;if(t==="YY"){const o=a%100;return ze(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ze(a,t.length)},R:function(e,t){const r=h4(e);return ze(r,t.length)},u:function(e,t){const r=e.getFullYear();return ze(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return ze(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return ze(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return $n.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return ze(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const n=MB(e,s);return t==="wo"?r.ordinalNumber(n,{unit:"week"}):ze(n,t.length)},I:function(e,t,r){const s=AB(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):ze(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):$n.d(e,t)},D:function(e,t,r){const s=PB(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ze(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const n=e.getDay(),a=(n-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ze(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const n=e.getDay(),a=(n-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ze(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),n=s===0?7:s;switch(t){case"i":return String(n);case"ii":return ze(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let n;switch(s===12?n=Va.noon:s===0?n=Va.midnight:n=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let n;switch(s>=17?n=Va.evening:s>=12?n=Va.afternoon:s>=4?n=Va.morning:n=Va.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return $n.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):$n.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ze(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):ze(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):$n.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):$n.s(e,t)},S:function(e,t){return $n.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Bw(s);case"XXXX":case"XX":return $i(s);case"XXXXX":case"XXX":default:return $i(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return Bw(s);case"xxxx":case"xx":return $i(s);case"xxxxx":case"xxx":default:return $i(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zw(s,":");case"OOOO":default:return"GMT"+$i(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zw(s,":");case"zzzz":default:return"GMT"+$i(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return ze(s,t.length)},T:function(e,t,r){const s=e.getTime();return ze(s,t.length)}};function zw(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),n=Math.trunc(s/60),a=s%60;return a===0?r+String(n):r+String(n)+t+ze(a,2)}function Bw(e,t){return e%60===0?(e>0?"-":"+")+ze(Math.abs(e)/60,2):$i(e,t)}function $i(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),n=ze(Math.trunc(s/60),2),a=ze(s%60,2);return r+n+t+a}const Vw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},p4=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},FB=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],n=r[2];if(!n)return Vw(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Vw(s,t)).replace("{{time}}",p4(n,t))},OB={p:p4,P:FB},IB=/^D+$/,DB=/^Y+$/,LB=["D","DD","YY","YYYY"];function $B(e){return IB.test(e)}function UB(e){return DB.test(e)}function zB(e,t,r){const s=BB(e,t,r);if(console.warn(s),LB.includes(e))throw new RangeError(s)}function BB(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WB=/^'([^]*?)'?$/,qB=/''/g,GB=/[a-zA-Z]/;function KB(e,t,r){var u,h,f,g,y,m,b,v;const s=pm(),n=(r==null?void 0:r.locale)??s.locale??TB,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((v=(b=s.locale)==null?void 0:b.options)==null?void 0:v.weekStartsOn)??0,l=Ts(e);if(!Zz(l))throw new RangeError("Invalid time value");let c=t.match(HB).map(x=>{const N=x[0];if(N==="p"||N==="P"){const j=OB[N];return j(x,n.formatLong)}return x}).join("").match(VB).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const N=x[0];if(N==="'")return{isToken:!1,value:QB(x)};if(Uw[N])return{isToken:!0,value:x};if(N.match(GB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:x}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:n};return c.map(x=>{if(!x.isToken)return x.value;const N=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&UB(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&$B(N))&&zB(N,t,String(e));const j=Uw[N[0]];return j(l,N,n.localize,d)}).join("")}function QB(e){const t=e.match(WB);return t?t[1].replace(qB,"'"):e}function Hw(e,t,r){const s=Ta(e,r),n=Ta(t,r);return+s==+n}function tc(e,t){if(e.one!==void 0&&t===1)return e.one;const r=t%10,s=t%100;return r===1&&s!==11?e.singularNominative.replace("{{count}}",String(t)):r>=2&&r<=4&&(s<10||s>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function Zt(e){return(t,r)=>r!=null&&r.addSuffix?r.comparison&&r.comparison>0?e.future?tc(e.future,t):" "+tc(e.regular,t):e.past?tc(e.past,t):tc(e.regular,t)+" ":tc(e.regular,t)}const ZB={lessThanXSeconds:Zt({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xSeconds:Zt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),halfAMinute:(e,t)=>t!=null&&t.addSuffix?t.comparison&&t.comparison>0?" ":" ":"",lessThanXMinutes:Zt({regular:{one:" ",singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{one:",   ",singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),xMinutes:Zt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "},past:{singularNominative:"{{count}}  ",singularGenitive:"{{count}}  ",pluralGenitive:"{{count}}  "},future:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "}}),aboutXHours:Zt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xHours:Zt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),xDays:Zt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXWeeks:Zt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xWeeks:Zt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXMonths:Zt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xMonths:Zt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),aboutXYears:Zt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}}),xYears:Zt({regular:{singularNominative:"{{count}} ",singularGenitive:"{{count}} ",pluralGenitive:"{{count}} "}}),overXYears:Zt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:",   {{count}} ",singularGenitive:",   {{count}} ",pluralGenitive:",   {{count}} "}}),almostXYears:Zt({regular:{singularNominative:" {{count}} ",singularGenitive:" {{count}} ",pluralGenitive:" {{count}} "},future:{singularNominative:"  {{count}} ",singularGenitive:"  {{count}} ",pluralGenitive:"  {{count}} "}})},YB=(e,t,r)=>ZB[e](t,r),XB={full:"EEEE, d MMMM y '.'",long:"d MMMM y '.'",medium:"d MMM y '.'",short:"dd.MM.y"},JB={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},eV={any:"{{date}}, {{time}}"},tV={date:So({formats:XB,defaultWidth:"full"}),time:So({formats:JB,defaultWidth:"full"}),dateTime:So({formats:eV,defaultWidth:"any"})},Yy=["","","","","","",""];function rV(e){const t=Yy[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}function Ww(e){const t=Yy[e];return e===2?"' "+t+" ' p":"' "+t+" ' p"}function sV(e){const t=Yy[e];switch(e){case 0:return"'  "+t+" ' p";case 1:case 2:case 4:return"'  "+t+" ' p";case 3:case 5:case 6:return"'  "+t+" ' p"}}const nV={lastWeek:(e,t,r)=>{const s=e.getDay();return Hw(e,t,r)?Ww(s):rV(s)},yesterday:"' ' p",today:"' ' p",tomorrow:"' ' p",nextWeek:(e,t,r)=>{const s=e.getDay();return Hw(e,t,r)?Ww(s):sV(s)},other:"P"},iV=(e,t,r,s)=>{const n=nV[e];return typeof n=="function"?n(t,r,s):n},aV={narrow:[" ..",".."],abbreviated:[" . .",". ."],wide:["  "," "]},oV={narrow:["1","2","3","4"],abbreviated:["1- .","2- .","3- .","4- ."],wide:["1- ","2- ","3- ","4- "]},lV={narrow:["","","","","","","","","","","",""],abbreviated:[".",".","",".","","","",".",".",".",".","."],wide:["","","","","","","","","","","",""]},cV={narrow:["","","","","","","","","","","",""],abbreviated:[".",".",".",".","",".",".",".",".",".",".","."],wide:["","","","","","","","","","","",""]},dV={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},uV={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},hV={narrow:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},abbreviated:{am:"",pm:"",midnight:".",noon:".",morning:"",afternoon:"",evening:".",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},fV=(e,t)=>{const r=Number(e),s=t==null?void 0:t.unit;let n;return s==="date"?n="-":s==="week"||s==="minute"||s==="second"?n="-":n="-",r+n},mV={ordinalNumber:fV,era:Hs({values:aV,defaultWidth:"wide"}),quarter:Hs({values:oV,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hs({values:lV,defaultWidth:"wide",formattingValues:cV,defaultFormattingWidth:"wide"}),day:Hs({values:dV,defaultWidth:"wide"}),dayPeriod:Hs({values:uV,defaultWidth:"any",formattingValues:hV,defaultFormattingWidth:"wide"})},pV=/^(\d+)(-?(||||||||||))?/i,gV=/\d+/i,xV={narrow:/^(( )?\.?\s?\.?)/i,abbreviated:/^(( )?\.?\s?\.?)/i,wide:/^(  | | )/i},yV={any:[/^/i,/^/i]},vV={narrow:/^[1234]/i,abbreviated:/^[1234](-?[]??)? .?/i,wide:/^[1234](-?[]??)? /i},bV={any:[/1/i,/2/i,/3/i,/4/i]},wV={narrow:/^[]/i,abbreviated:/^(||?||[]|[]?|[]?||?||?|)\.?/i,wide:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i},NV={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},jV={narrow:/^[]/i,short:/^(|||||||||||)\.?/i,abbreviated:/^(||||||||||||).?/i,wide:/^([]|?|?|[]|?|[]|[])/i},kV={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^[]/i,/^[]/i,/^/i,/^/i,/^/i,/^[]/i,/^[]/i]},SV={narrow:/^([]|\.?|\.?|[]|||\.?|[])/i,abbreviated:/^([]|\.?|\.?|[]|||\.?|[])/i,wide:/^([]|||[]|||?|[])/i},_V={any:{am:/^/i,pm:/^/i,midnight:/^/i,noon:/^/i,morning:/^/i,afternoon:/^[]/i,evening:/^/i,night:/^/i}},CV={ordinalNumber:f4({matchPattern:pV,parsePattern:gV,valueCallback:e=>parseInt(e,10)}),era:Ws({matchPatterns:xV,defaultMatchWidth:"wide",parsePatterns:yV,defaultParseWidth:"any"}),quarter:Ws({matchPatterns:vV,defaultMatchWidth:"wide",parsePatterns:bV,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ws({matchPatterns:wV,defaultMatchWidth:"wide",parsePatterns:NV,defaultParseWidth:"any"}),day:Ws({matchPatterns:jV,defaultMatchWidth:"wide",parsePatterns:kV,defaultParseWidth:"any"}),dayPeriod:Ws({matchPatterns:SV,defaultMatchWidth:"wide",parsePatterns:_V,defaultParseWidth:"any"})},EV={code:"ru",formatDistance:YB,formatLong:tV,formatRelative:iV,localize:mV,match:CV,options:{weekStartsOn:1,firstWeekContainsDate:1}};function TV(){const{data:e=[],isLoading:t}=Ot({queryKey:["/api/blood-analyses"]}),r=e,s={total:r.length,analyzed:r.filter(o=>o.status==="analyzed").length,pending:r.filter(o=>o.status==="pending").length,normalMarkers:r.reduce((o,l)=>{var c,d,u;return o+(((u=(d=(c=l.results)==null?void 0:c.markers)==null?void 0:d.filter(h=>h.status==="normal"))==null?void 0:u.length)||0)},0),criticalMarkers:r.reduce((o,l)=>{var c,d,u;return o+(((u=(d=(c=l.results)==null?void 0:c.markers)==null?void 0:d.filter(h=>h.status==="critical"||h.status==="high"||h.status==="low"))==null?void 0:u.length)||0)},0)},n=o=>{var l,c,d;if(o.status==="analyzed"){const u=((d=(c=(l=o.results)==null?void 0:l.markers)==null?void 0:c.filter(h=>h.status==="critical"||h.status==="high"||h.status==="low"))==null?void 0:d.length)||0;return u===0?"from-emerald-400 to-teal-500":u<=2?"from-amber-400 to-orange-500":"from-red-400 to-pink-500"}return"from-gray-300 to-gray-400"},a=o=>{var l,c,d;if(o.status==="analyzed"){const u=((d=(c=(l=o.results)==null?void 0:l.markers)==null?void 0:c.filter(h=>h.status==="critical"||h.status==="high"||h.status==="low"))==null?void 0:d.length)||0;return u===0?i.jsx(mr,{className:"w-6 h-6 text-white"}):u<=2?i.jsx(gr,{className:"w-6 h-6 text-white"}):i.jsx(gr,{className:"w-6 h-6 text-white"})}return i.jsx(ot,{className:"w-6 h-6 text-white animate-pulse"})};return t?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-full flex items-center justify-center mb-4 animate-pulse",children:i.jsx(pl,{className:"w-8 h-8 text-white"})}),i.jsx("p",{className:"text-gray-600 font-medium",children:" ..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50/30 pb-24",children:[i.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 via-teal-500 to-blue-500 pt-12 pb-6 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/8 rounded-full -translate-y-16 translate-x-16"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/8 rounded-full translate-y-12 -translate-x-12"}),i.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[i.jsx(Se,{size:"xl",className:"bg-white/15 text-white border-white/20 backdrop-blur-sm mx-auto mb-3",children:i.jsx(pl,{className:le.xl})}),i.jsx("h1",{className:"text-2xl font-bold mb-2",children:" "}),i.jsx("p",{className:"text-white/85 text-sm mb-4",children:"- "}),r.length>0&&i.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-64 mx-auto",children:[i.jsxs("div",{className:"bg-white/15 backdrop-blur-md rounded-xl p-2 text-center",children:[i.jsx("div",{className:"text-lg font-bold",children:s.analyzed}),i.jsx("div",{className:"text-xs text-white/75",children:""})]}),i.jsxs("div",{className:"bg-white/15 backdrop-blur-md rounded-xl p-2 text-center",children:[i.jsx("div",{className:"text-lg font-bold",children:s.normalMarkers}),i.jsx("div",{className:"text-xs text-white/75",children:" "})]}),i.jsxs("div",{className:"bg-white/15 backdrop-blur-md rounded-xl p-2 text-center",children:[i.jsx("div",{className:"text-lg font-bold",children:s.criticalMarkers}),i.jsx("div",{className:"text-xs text-white/75",children:""})]})]})]})]}),i.jsx("div",{className:"px-3 -mt-3 relative z-10",children:r.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-white rounded-2xl p-4 shadow-lg border border-gray-100",children:i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx(Ze,{href:"/app/blood-analysis",children:i.jsx(J,{className:"group h-20 bg-gradient-to-br from-emerald-50 to-teal-50 border-emerald-200/50 hover:border-emerald-300 transition-all duration-300 cursor-pointer overflow-hidden",children:i.jsxs("div",{className:"h-full p-3 flex items-center gap-2 max-w-full",children:[i.jsx(Se,{size:"sm",variant:"success",className:"flex-shrink-0",children:i.jsx(vo,{className:le.sm})}),i.jsxs("div",{className:"flex-1 min-w-0 pr-1",children:[i.jsx("div",{className:"font-semibold text-gray-900 text-sm truncate",children:" "}),i.jsx("div",{className:"text-xs text-gray-600 truncate",children:""})]}),i.jsx(Se,{size:"xs",variant:"soft-success",className:"flex-shrink-0",children:i.jsx(Nn,{className:le.xs})})]})})}),i.jsx(Ze,{href:"/app/biomarkers",children:i.jsx(J,{className:"group h-20 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200/50 hover:border-blue-300 transition-all duration-300 cursor-pointer overflow-hidden",children:i.jsxs("div",{className:"h-full p-3 flex items-center gap-2 max-w-full",children:[i.jsx(Se,{size:"sm",variant:"info",className:"flex-shrink-0",children:i.jsx(wr,{className:le.sm})}),i.jsxs("div",{className:"flex-1 min-w-0 pr-1",children:[i.jsx("div",{className:"font-semibold text-gray-900 text-sm truncate",children:""}),i.jsx("div",{className:"text-xs text-gray-600 truncate",children:""})]}),i.jsx(Se,{size:"xs",variant:"soft-info",className:"flex-shrink-0",children:i.jsx(pt,{className:le.xs})})]})})})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(Se,{size:"xs",variant:"soft-neutral",children:i.jsx(lo,{className:le.xs})})," "]}),i.jsx("span",{className:"text-xs text-gray-500",children:r.length})]})}),i.jsx("div",{className:"divide-y divide-gray-100",children:r.map((o,l)=>{var c;return i.jsx(Ze,{href:`/app/blood-analyses/${o.id}`,children:i.jsx("div",{className:"group p-4 hover:bg-gray-50 transition-colors cursor-pointer",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Se,{size:"lg",className:`bg-gradient-to-br ${n(o)} text-white border-0 shadow-sm group-hover:shadow-md transition-shadow`,children:a(o)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:" "}),i.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[i.jsx(ml,{className:"w-3 h-3"}),KB(new Date(o.createdAt),"d MMM",{locale:EV})]})]}),o.status==="analyzed"&&((c=o.results)!=null&&c.markers)?i.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.results.markers.filter(d=>d.status==="normal").length>0&&i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-emerald-50 text-emerald-700 px-2 py-0.5 rounded-full",children:[i.jsx(mr,{className:"w-2 h-2"}),o.results.markers.filter(d=>d.status==="normal").length," "]}),o.results.markers.filter(d=>d.status==="high"||d.status==="low").length>0&&i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-amber-50 text-amber-700 px-2 py-0.5 rounded-full",children:[i.jsx(gr,{className:"w-2 h-2"}),o.results.markers.filter(d=>d.status==="high"||d.status==="low").length," "]}),o.results.markers.filter(d=>d.status==="critical").length>0&&i.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-red-50 text-red-700 px-2 py-0.5 rounded-full",children:[i.jsx(gr,{className:"w-2 h-2"}),o.results.markers.filter(d=>d.status==="critical").length," "]})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),i.jsx("span",{className:"text-xs text-amber-700",children:"..."})]})]}),i.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 group-hover:bg-gray-200 flex items-center justify-center transition-colors",children:i.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})},o.id)})})]})]}):i.jsxs(J,{className:"text-center py-12 px-6 border-0 shadow-xl bg-white",children:[i.jsx(Se,{size:"xl",className:"bg-gradient-to-br from-emerald-400 to-blue-500 text-white border-0 shadow-lg mx-auto mb-6",children:i.jsx(vo,{className:le.xl})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:" !"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"     -"})]}),i.jsx(Ze,{href:"/app/blood-analysis",children:i.jsxs(X,{className:"w-full h-12 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white font-semibold rounded-xl shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-200",children:[i.jsx(vo,{className:"w-4 h-4 mr-2"})," "]})})]}),i.jsxs("div",{className:"mt-8 flex justify-center gap-4 text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(pt,{className:"w-3 h-3"}),"-"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(mr,{className:"w-3 h-3"}),""]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(wr,{className:"w-3 h-3"}),""]})]})]})}),i.jsx(ar,{})]})}function PV(){var k,C,S,E;const{id:e}=Vx(),[t,r]=p.useState(null),[s,n]=p.useState("all"),[a,o]=p.useState("grid"),{data:l,isLoading:c}=Ot({queryKey:[`/api/blood-analyses/${e}`]}),d=l==null?void 0:l.results,u=((k=d==null?void 0:d.markers)==null?void 0:k.filter(T=>T.status==="normal").length)||0,h=((C=d==null?void 0:d.markers)==null?void 0:C.length)||0,f=h>0?Math.round(u/h*100):0,g=((S=d==null?void 0:d.markers)==null?void 0:S.filter(T=>T.status==="critical").length)||0,y=((E=d==null?void 0:d.markers)==null?void 0:E.filter(T=>T.status==="high"||T.status==="low").length)||0,m=T=>{switch(T){case"normal":return" ";case"high":return"";case"low":return"";case"critical":return"";default:return""}},b=T=>{const A=T.toLowerCase();return A.includes("")||A.includes("")||A.includes("")?{icon:qt,color:"bg-red-500",category:"blood"}:A.includes("")||A.includes("")||A.includes("")?{icon:Mr,color:"bg-blue-500",category:"immunity"}:A.includes("")||A.includes("")||A.includes("")?{icon:xl,color:"bg-purple-500",category:"coagulation"}:A.includes("")||A.includes("")||A.includes("")?{icon:bl,color:"bg-orange-500",category:"metabolism"}:A.includes("")||A.includes("")||A.includes("")||A.includes("")?{icon:ot,color:"bg-green-500",category:"lipids"}:{icon:pl,color:"bg-gray-500",category:"other"}},v=p.useMemo(()=>{var A;if(!((A=l==null?void 0:l.results)!=null&&A.markers))return{};const T={blood:[],immunity:[],coagulation:[],metabolism:[],lipids:[],other:[]};return l.results.markers.forEach(L=>{const{category:z}=b(L.name);T[z].push(L)}),T},[l]),x=p.useMemo(()=>d!=null&&d.markers?s==="all"?d.markers:v[s]||[]:[],[d==null?void 0:d.markers,s,v]),N=T=>{switch(T){case"blood":return"";case"immunity":return"";case"coagulation":return"";case"metabolism":return" ";case"lipids":return"";case"other":return"";default:return""}},j=T=>{switch(T){case"blood":return qt;case"immunity":return Mr;case"coagulation":return xl;case"metabolism":return bl;case"lipids":return ot;case"other":return pl;default:return Fb}};return c?i.jsxs("div",{className:"eva-page",children:[i.jsx(bs,{}),i.jsx("main",{className:"eva-page-content flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-trust-green"})}),i.jsx(ar,{})]}):!l||!l.results?i.jsxs("div",{className:"eva-page",children:[i.jsx(bs,{}),i.jsx("main",{className:"eva-page-content",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{children:"  "}),i.jsx(Ze,{href:"/app/blood-analyses",children:i.jsx(X,{className:"mt-4",children:"  "})})]})}),i.jsx(ar,{})]}):i.jsxs("div",{className:"eva-page",children:[i.jsx(bs,{}),i.jsxs("main",{className:"eva-page-content pb-24",children:[i.jsx("div",{className:"bg-white sticky top-16 z-10 -mx-4 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ze,{href:"/app/blood-analyses",children:i.jsx(X,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700","data-testid":"button-back",children:i.jsx(Fa,{className:"w-5 h-5"})})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Se,{size:"xs",variant:"soft-primary",children:i.jsx(gt,{className:le.xs})}),i.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"  "})]}),i.jsx("p",{className:"text-gray-600 text-sm",children:" "})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[f,"%"]}),i.jsx("div",{className:"text-xs text-gray-500",children:""})]})]}),i.jsx("div",{className:"bg-gray-50 rounded-2xl p-3",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{size:"xs",variant:"soft-success",children:i.jsx(mr,{className:le.xs})}),i.jsxs("span",{className:"text-gray-700",children:[u," "]})]}),y>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{size:"xs",variant:"soft-warning",children:i.jsx(gr,{className:le.xs})}),i.jsxs("span",{className:"text-gray-700",children:[y," "]})]}),g>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{size:"xs",variant:"soft-danger",children:i.jsx(gr,{className:le.xs})}),i.jsxs("span",{className:"text-gray-700",children:[g," "]})]})]}),i.jsxs(de,{className:"bg-white text-gray-700 border-gray-200 text-xs",children:[h," "]})]})})]})}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-sm font-medium text-gray-700",children:""}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>o(a==="grid"?"list":"grid"),className:"text-xs h-8 px-2","data-testid":"button-view-mode",children:a==="grid"?i.jsx(bk,{className:"w-4 h-4"}):i.jsx(Fb,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(X,{variant:s==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),className:"text-xs h-8 px-3","data-testid":"tab-all",children:[" (",h,")"]}),Object.entries(v).map(([T,A])=>{if(A.length===0)return null;const L=j(T);return i.jsxs(X,{variant:s===T?"default":"outline",size:"sm",onClick:()=>n(T),className:"text-xs h-8 px-3 flex items-center gap-1.5","data-testid":`tab-${T}`,children:[i.jsx(L,{className:"w-3 h-3"}),N(T)," (",A.length,")"]},T)})]})]}),i.jsx("div",{className:a==="grid"?"grid grid-cols-2 gap-3":"space-y-3",children:x.map((T,A)=>{const{icon:L,color:z}=b(T.name),q=F=>{switch(F){case"normal":return"soft-success";case"high":case"low":return"soft-warning";case"critical":return"soft-danger";default:return"soft-neutral"}},M=(F=>{switch(F){case"normal":return mr;case"high":case"low":case"critical":return gr;default:return ot}})(T.status);return i.jsx(J,{className:`eva-mobile-spacing cursor-pointer transition-all hover:shadow-lg hover:scale-[1.02] active:scale-[0.98] rounded-2xl border-0 shadow-sm ${T.status==="critical"?"ring-2 ring-red-200 bg-red-50/50":T.status==="normal"?"bg-emerald-50/30":"bg-amber-50/30"}`,onClick:()=>r(T),"data-testid":`marker-card-${A}`,children:a==="grid"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Se,{size:"sm",variant:q(T.status),children:i.jsx(L,{className:le.sm})}),i.jsx(Se,{size:"xs",variant:q(T.status),children:i.jsx(M,{className:le.xs})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-xs leading-tight mb-1 line-clamp-2 text-gray-900",children:T.name}),i.jsx("p",{className:"text-sm font-bold text-gray-800",children:T.value}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m(T.status)})]})]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Se,{size:"sm",variant:q(T.status),children:i.jsx(L,{className:le.sm})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate text-gray-900",children:T.name}),i.jsx("p",{className:"text-xs text-gray-600",children:T.value})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[i.jsx(Se,{size:"xs",variant:q(T.status),children:i.jsx(M,{className:le.xs})}),i.jsx("span",{className:"text-xs text-gray-500 eva-mobile-text",children:m(T.status)})]})]})},A)})})]}),i.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[i.jsx(Ze,{href:"/app/chat",children:i.jsxs(X,{size:"sm",className:"w-full eva-gradient-primary text-white text-xs h-12 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2 border-0",children:[i.jsx(Se,{size:"xs",className:"bg-white/20 text-white border-white/30",children:i.jsx(gt,{className:le.xs})}),i.jsx("span",{className:"font-medium",children:"  "})]})}),i.jsx(Ze,{href:"/app/blood-analysis",children:i.jsxs(X,{variant:"outline",size:"sm",className:"w-full text-xs h-12 rounded-xl border-2 border-slate-200 hover:border-medical-blue hover:text-medical-blue transition-all duration-200 flex items-center gap-2",children:[i.jsx(Se,{size:"xs",variant:"soft-primary",children:i.jsx(ot,{className:le.xs})}),i.jsx("span",{className:"font-medium",children:" "})]})})]})]}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end",onClick:()=>r(null),children:i.jsxs(J,{className:"w-full max-h-[80vh] overflow-y-auto rounded-t-3xl border-0 shadow-2xl bg-white",onClick:T=>T.stopPropagation(),children:[i.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-100 p-4 z-10 rounded-t-3xl",children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl font-bold text-gray-800",children:t.value}),i.jsx(de,{className:t.status==="normal"?"bg-green-100 text-green-700":t.status==="critical"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700",children:m(t.status)})]})]}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>r(null),className:"h-8 w-8 text-gray-400 hover:text-gray-600",children:i.jsx(Wr,{className:"w-4 h-4"})})]})}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"  "}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:t.education||({:" ,       "," ":" ,       ",:"     ",:"  ,   ",:" ,     ",:"  ,    ",:" ,   ",:"  ,  "}[t.name]||"     ")})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" "}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:(()=>{const T=t.status,L={:{symptoms:T==="low"?"  : ,   ,  ,  ,    (, )":T==="high"?"  :  , ,  ,   ":"   ,   "}," ":{symptoms:T==="high"?"  :  (   ),     , ":T==="low"?"  : ,  ,  ":"   , -  "},:{symptoms:T==="high"?"  :  ,  ,  ,   , ":T==="low"?"  : , ,  , , ":"  ,    "}}[t.name];return(L==null?void 0:L.symptoms)||"   "})()})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"  "}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:(()=>{const T=t.status;return{:T==="low"?" (  325),  C (1000)   ,   (400),  B12 (1000)":"  ,   ,   "," ":T==="high"?"-3 (2-3 EPA/DHA),    (600),  Q10 (100),  (500 3 )":" (1200),  D3 (2000-4000 ),  (400)",:T==="high"?"  (200), -  (300),  (500),  (500 3 )":" (200),   B,  (400)",:T==="high"?" , .  ,  ,  (36 PAC)":"  (3-5),  "}[t.name]||"      "})()})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:""}),i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:(()=>{const T=t.status;return{:T==="low"?",  , , ,  , ,  ,  ":"  , ,   "," ":T==="high"?", , , , ,  , ,  ":", ,  ,  ,   ",:T==="high"?" , , , , ,  ,  ":" : , ,  ",:T==="high"?"   0.8/,  , , , ":" , ,     "}[t.name]||"     "})()})]})]}),i.jsx(X,{onClick:()=>r(null),className:"w-full h-10 text-sm",variant:"outline","data-testid":"button-close-modal",children:""})]})]})}),i.jsx(ar,{})]})}const qw={"weight-loss":" ","heart-health":" ",energy:"",immunity:"",sleep:"",stress:"",nutrition:"",fitness:"",mental:"",recovery:""};function AV(){const e=Vx();Ir();const t=e.id,[r,s]=p.useState(!1),[n,a]=p.useState(0),o=t?Qg[t]:null;return p.useEffect(()=>{const l=()=>{const c=document.documentElement.scrollHeight-window.innerHeight,u=window.scrollY/c*100;a(Math.min(100,Math.max(0,u)))};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]),o?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[i.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-1 bg-gray-200 dark:bg-gray-800",children:i.jsx("div",{className:"h-full bg-medical-blue transition-all duration-300",style:{width:`${n}%`}})}),i.jsx("div",{className:"sticky top-0 z-40 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex items-center justify-between p-4",children:[i.jsx(Ze,{href:"/app/dashboard",children:i.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:i.jsx($g,{className:"w-6 h-6"})})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>s(!r),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:i.jsx(rA,{className:`w-5 h-5 ${r?"fill-medical-blue text-medical-blue":""}`})}),i.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:i.jsx(NA,{className:"w-5 h-5"})})]})]})}),i.jsxs("main",{className:"pb-24",children:[o.imageUrl&&i.jsxs("div",{className:"h-64 bg-cover bg-center relative",style:{backgroundImage:`url(${o.imageUrl})`},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),i.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(de,{className:"bg-white/20 backdrop-blur-sm text-white border-0",children:qw[o.category]}),i.jsxs("span",{className:"text-white/80 text-sm flex items-center gap-1",children:[i.jsx(Jc,{className:"w-4 h-4"}),o.readTime]})]})})]}),i.jsxs("div",{className:"px-4 py-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-3 leading-tight",children:o.title}),i.jsx("p",{className:"text-base text-muted-foreground leading-relaxed mb-4",children:o.description}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground pb-4 border-b border-gray-200 dark:border-gray-700",children:[o.author&&i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:i.jsx(vi,{className:"w-4 h-4"})}),o.author]}),o.publishDate&&i.jsx("span",{children:new Date(o.publishDate).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"})})]})]}),o.content&&i.jsx("div",{className:"prose prose-base dark:prose-invert max-w-none mb-8",children:o.content.split(`
`).map((l,c)=>l.trim()&&i.jsx("p",{className:"text-base leading-relaxed mb-4 text-gray-700 dark:text-gray-300",children:l},c))}),o.sections&&o.sections.map((l,c)=>i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900 dark:text-white",children:l.title}),i.jsx("div",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line",children:l.content})]},c)),o.tips&&o.tips.length>0&&i.jsx(J,{className:"border-0 shadow-lg bg-green-50 dark:bg-green-950/20 mb-6",children:i.jsxs(me,{className:"p-5",children:[i.jsxs("h3",{className:"font-bold text-base mb-4 flex items-center gap-2",children:[i.jsx(Se,{size:"sm",variant:"soft-success",children:i.jsx(mr,{className:le.sm})})," "]}),i.jsx("ul",{className:"space-y-3",children:o.tips.map((l,c)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-sm leading-relaxed",children:l})]},c))})]})}),o.warnings&&o.warnings.length>0&&i.jsx(J,{className:"border-0 shadow-lg bg-orange-50 dark:bg-orange-950/20 mb-6",children:i.jsxs(me,{className:"p-5",children:[i.jsxs("h3",{className:"font-bold text-base mb-4 flex items-center gap-2",children:[i.jsx(Se,{size:"sm",variant:"soft-warning",children:i.jsx(ba,{className:le.sm})})," "]}),i.jsx("ul",{className:"space-y-3",children:o.warnings.map((l,c)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-sm leading-relaxed",children:l})]},c))})]})}),i.jsx(J,{className:"border-0 shadow-lg bg-white dark:bg-slate-800 mb-6",children:i.jsx(me,{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-medical-blue transition-colors",children:[i.jsx(_A,{className:"w-5 h-5"}),i.jsx("span",{children:""})]}),i.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 hover:text-medical-blue transition-colors",children:[i.jsx(ey,{className:"w-5 h-5"}),i.jsx("span",{children:""})]})]}),i.jsxs(de,{className:"bg-green-100 text-green-700",children:[" ",Math.round(n),"%"]})]})})}),o.relatedArticles&&o.relatedArticles.length>0&&i.jsxs("div",{className:"mt-12",children:[i.jsx("h3",{className:"font-bold text-xl mb-6",children:" "}),i.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.relatedArticles.map(l=>{const c=Qg[l];return c?i.jsx(Ze,{href:`/app/article/${l}`,children:i.jsx(J,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden group",children:i.jsxs("div",{className:"flex h-32",children:[c.imageUrl&&i.jsx("div",{className:"w-32 h-32 bg-cover bg-center flex-shrink-0",style:{backgroundImage:`url(${c.imageUrl})`},children:i.jsx("div",{className:"w-full h-full bg-gradient-to-r from-black/30 to-transparent group-hover:from-black/40 transition-all duration-300"})}),i.jsxs(me,{className:"flex-1 p-5 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-base mb-2 line-clamp-2 group-hover:text-medical-blue transition-colors",children:c.title}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:c.description})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(de,{variant:"secondary",className:"text-xs",children:qw[c.category]}),i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Jc,{className:"w-3 h-3"}),c.readTime]})]}),i.jsx($g,{className:"w-5 h-5 text-gray-400 rotate-180 group-hover:translate-x-1 transition-transform"})]})]})]})})},l):null})})]})]})]}),i.jsx(ar,{})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Lg,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-bold mb-2",children:"  "}),i.jsx(Ze,{href:"/app/dashboard",children:i.jsx(X,{variant:"outline",children:"  "})})]})})})}const g4="/assets/logo_1756364617629-BwNFO1aW.png";function RV(){const[,e]=Ir(),{login:t,isLoading:r,isAuthenticated:s}=ru(),[n,a]=p.useState(""),[o,l]=p.useState(""),[c,d]=p.useState(!1),[u,h]=p.useState(!1);p.useEffect(()=>{s&&!r&&e("/app/dashboard")},[s,r,e]);const f=async g=>{g.preventDefault(),h(!0);try{await t(n,o)}catch(y){console.error("Login failed:",y)}finally{h(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex flex-col relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-grid-slate-100 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))] pointer-events-none"}),i.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-400/10 rounded-full blur-3xl"}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-8 relative z-10",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:g4,alt:"EVERLIV HEALTH",className:"w-24 h-24 object-contain drop-shadow-2xl hover:scale-110 transition-transform duration-300 filter brightness-110"}),i.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:i.jsx(pt,{className:"w-3 h-3 text-white"})})]})}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent mb-2",children:"EVERLIV HEALTH"}),i.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"Get Your Health in order"})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs("form",{onSubmit:f,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Pe,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email "}),i.jsxs("div",{className:"relative group",children:[i.jsx(Jx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-600 z-10 group-focus-within:text-blue-500 transition-colors pointer-events-none"}),i.jsx(Ie,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:g=>a(g.target.value),required:!0,className:"pl-12 h-12 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 rounded-xl transition-all duration-200 backdrop-blur-sm",disabled:u,"data-testid":"input-email"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Pe,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:""}),i.jsxs("div",{className:"relative group",children:[i.jsx(yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-600 z-10 group-focus-within:text-blue-500 transition-colors pointer-events-none"}),i.jsx(Ie,{id:"password",type:c?"text":"password",placeholder:"",value:o,onChange:g=>l(g.target.value),required:!0,className:"pl-12 pr-12 h-12 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 rounded-xl transition-all duration-200 backdrop-blur-sm",disabled:u,"data-testid":"input-password"}),i.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-600 z-10 hover:text-gray-800 transition-colors","data-testid":"toggle-password-visibility",children:c?i.jsx(zg,{}):i.jsx(vi,{})})]})]}),i.jsx(X,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",disabled:u||r,"data-testid":"button-submit",children:u?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),"  ..."]}):"  "}),i.jsx("div",{className:"text-center pt-4",children:i.jsxs("div",{className:"text-sm text-gray-600",children:[" ?"," ",i.jsx(Ze,{href:"/register",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:" "})]})})]})})]})})]})}function MV(){const[,e]=Ir(),{register:t,isLoading:r}=ru(),[s,n]=p.useState({email:"",username:"",password:"",confirmPassword:"",name:""}),[a,o]=p.useState(!1),[l,c]=p.useState(""),d=async u=>{if(u.preventDefault(),c(""),s.password!==s.confirmPassword){c("  ");return}if(s.password.length<8){c("     8 ");return}o(!0);try{await t({email:s.email,username:s.username,password:s.password,name:s.name}),e("/app/dashboard")}catch(h){c(h.message||" ")}finally{o(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex flex-col relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-grid-slate-100 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))] pointer-events-none"}),i.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-400/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-400/10 rounded-full blur-3xl"}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-8 relative z-10",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:g4,alt:"EVERLIV HEALTH",className:"w-24 h-24 object-contain drop-shadow-2xl hover:scale-110 transition-transform duration-300 filter brightness-110"}),i.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:i.jsx(pt,{className:"w-3 h-3 text-white"})})]})}),i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent mb-2",children:"EVERLIV HEALTH"}),i.jsx("p",{className:"text-lg text-gray-600 font-medium mb-8",children:"Get Your Health in order"}),i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:""}),i.jsx("p",{className:"text-gray-600 mb-8",children:"     "})]}),i.jsxs("div",{className:"space-y-6",children:[l&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-center",children:i.jsx("p",{className:"text-red-600 text-sm",children:l})}),i.jsxs("form",{onSubmit:d,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Pe,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:" "}),i.jsxs("div",{className:"relative group",children:[i.jsx(Kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-600 z-10 group-focus-within:text-blue-500 transition-colors pointer-events-none"}),i.jsx(Ie,{id:"name",type:"text",placeholder:" ",value:s.name,onChange:u=>n({...s,name:u.target.value}),required:!0,className:"pl-12 h-12 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 rounded-xl transition-all duration-200 backdrop-blur-sm",disabled:a,"data-testid":"input-name"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Pe,{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:" "}),i.jsxs("div",{className:"relative group",children:[i.jsx(JP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-600 z-10 group-focus-within:text-blue-500 transition-colors pointer-events-none"}),i.jsx(Ie,{id:"username",type:"text",placeholder:"username",value:s.username,onChange:u=>n({...s,username:u.target.value}),required:!0,className:"pl-12 h-12 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 rounded-xl transition-all duration-200 backdrop-blur-sm",disabled:a,"data-testid":"input-username"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Pe,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email "}),i.jsxs("div",{className:"relative group",children:[i.jsx(Jx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-600 z-10 group-focus-within:text-blue-500 transition-colors pointer-events-none"}),i.jsx(Ie,{id:"email",type:"email",placeholder:"your@email.com",value:s.email,onChange:u=>n({...s,email:u.target.value}),required:!0,className:"pl-12 h-12 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 rounded-xl transition-all duration-200 backdrop-blur-sm",disabled:a,"data-testid":"input-email"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Pe,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:""}),i.jsxs("div",{className:"relative group",children:[i.jsx(yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-600 z-10 group-focus-within:text-blue-500 transition-colors pointer-events-none"}),i.jsx(Ie,{id:"password",type:"password",placeholder:"",value:s.password,onChange:u=>n({...s,password:u.target.value}),required:!0,minLength:8,className:"pl-12 h-12 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 rounded-xl transition-all duration-200 backdrop-blur-sm",disabled:a,"data-testid":"input-password"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Pe,{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:" "}),i.jsxs("div",{className:"relative group",children:[i.jsx(yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-600 z-10 group-focus-within:text-blue-500 transition-colors pointer-events-none"}),i.jsx(Ie,{id:"confirmPassword",type:"password",placeholder:"",value:s.confirmPassword,onChange:u=>n({...s,confirmPassword:u.target.value}),required:!0,minLength:8,className:"pl-12 h-12 bg-white/70 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 rounded-xl transition-all duration-200 backdrop-blur-sm",disabled:a,"data-testid":"input-confirm-password"})]})]}),i.jsx(X,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-[1.02]",disabled:a||r,"data-testid":"button-submit",children:a?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"})," ..."]}):" "}),i.jsx("div",{className:"text-center pt-4",children:i.jsxs("div",{className:"text-sm text-gray-600",children:["  ?"," ",i.jsx(Ze,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"  "})]})})]})]})]})})]})}const Gw=dO,x4=p.createContext({}),rc=({...e})=>i.jsx(x4.Provider,{value:{name:e.name},children:i.jsx(mO,{...e})}),gm=()=>{const e=p.useContext(x4),t=p.useContext(y4),{getFieldState:r,formState:s}=hm(),n=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},y4=p.createContext({}),Wa=p.forwardRef(({className:e,...t},r)=>{const s=p.useId();return i.jsx(y4.Provider,{value:{id:s},children:i.jsx("div",{ref:r,className:ke("space-y-2",e),...t})})});Wa.displayName="FormItem";const qa=p.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:n}=gm();return i.jsx(Pe,{ref:r,className:ke(s&&"text-destructive",e),htmlFor:n,...t})});qa.displayName="FormLabel";const Ga=p.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:n,formMessageId:a}=gm();return i.jsx(Hj,{ref:t,id:s,"aria-describedby":r?`${n} ${a}`:`${n}`,"aria-invalid":!!r,...e})});Ga.displayName="FormControl";const FV=p.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=gm();return i.jsx("p",{ref:r,id:s,className:ke("text-sm text-muted-foreground",e),...t})});FV.displayName="FormDescription";const Ka=p.forwardRef(({className:e,children:t,...r},s)=>{const{error:n,formMessageId:a}=gm(),o=n?String((n==null?void 0:n.message)??""):t;return o?i.jsx("p",{ref:s,id:a,className:ke("text-sm font-medium text-destructive",e),...r,children:o}):null});Ka.displayName="FormMessage";const OV=nr.object({currentPassword:nr.string().min(1,"  "),newPassword:nr.string().min(8,"     8 "),confirmPassword:nr.string().min(1," ")}).refine(e=>e.newPassword===e.confirmPassword,{message:"  ",path:["confirmPassword"]}),IV=nr.object({email:nr.string().email("  email"),password:nr.string().min(1,"   ")});function DV(){const[e,t]=p.useState(!1),[r,s]=p.useState(!1),[n,a]=p.useState(!1),[o,l]=p.useState(!1),{toast:c}=Ri(),d=Ml(),[,u]=Ir(),{user:h,logout:f}=ru(),g=i0({resolver:a0(OV),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),y=i0({resolver:a0(IV),defaultValues:{email:(h==null?void 0:h.email)||"",password:""}}),m=Zs({mutationFn:async j=>await at("/api/auth/change-password",{method:"POST",body:JSON.stringify({currentPassword:j.currentPassword,newPassword:j.newPassword})}),onSuccess:()=>{c({title:" ",description:"    "}),g.reset(),a(!1)},onError:j=>{c({title:"",description:j.message||"   ",variant:"destructive"})}}),b=Zs({mutationFn:async j=>await at("/api/auth/change-email",{method:"POST",body:JSON.stringify({email:j.email,password:j.password})}),onSuccess:()=>{c({title:"Email ",description:" email   "}),y.reset(),l(!1),d.invalidateQueries({queryKey:["/api/auth/me"]})},onError:j=>{c({title:"",description:j.message||"   email",variant:"destructive"})}}),v=()=>{f(),u("/login")},x=j=>{m.mutate(j)},N=j=>{b.mutate(j)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[i.jsx(bs,{}),i.jsxs("main",{className:"p-4 pb-24",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(X,{variant:"ghost",onClick:()=>u("/app/dashboard"),className:"p-2 hover:bg-accent rounded-xl","data-testid":"button-back",children:i.jsx(Fa,{className:"w-5 h-5"})}),i.jsx("h1",{className:"text-xl font-bold",children:" "}),i.jsx("div",{className:"w-9 h-9"})]})}),i.jsx(J,{className:"mb-6 border-0 shadow-lg bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:i.jsx(yt,{children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-medical-blue to-trust-green rounded-2xl flex items-center justify-center shadow-lg",children:i.jsx(Kr,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{children:[i.jsx(St,{className:"text-lg",children:(h==null?void 0:h.name)||(h==null?void 0:h.username)}),i.jsx("p",{className:"text-muted-foreground text-sm",children:h==null?void 0:h.email}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsxs(de,{variant:"secondary",className:"text-xs",children:[i.jsx(Rb,{className:"w-3 h-3 mr-1"}),(h==null?void 0:h.subscriptionType)==="premium"?"":""]}),i.jsx(de,{variant:"outline",className:"text-xs",children:(h==null?void 0:h.role)==="admin"?"":""})]})]})]})})}),i.jsxs(J,{className:"mb-4 border-0 shadow-lg bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:[i.jsx(yt,{children:i.jsxs(St,{className:"flex items-center gap-2 text-base",children:[i.jsx(Jx,{className:"w-5 h-5 text-medical-blue"}),"Email "]})}),i.jsx(me,{children:o?i.jsx(Gw,{...y,children:i.jsxs("form",{onSubmit:y.handleSubmit(N),className:"space-y-4",children:[i.jsx(rc,{control:y.control,name:"email",render:({field:j})=>i.jsxs(Wa,{children:[i.jsx(qa,{children:" email"}),i.jsx(Ga,{children:i.jsx(Ie,{...j,type:"email","data-testid":"input-new-email"})}),i.jsx(Ka,{})]})}),i.jsx(rc,{control:y.control,name:"password",render:({field:j})=>i.jsxs(Wa,{children:[i.jsx(qa,{children:" "}),i.jsx(Ga,{children:i.jsx(Ie,{...j,type:"password","data-testid":"input-confirm-password-email"})}),i.jsx(Ka,{})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(X,{type:"submit",disabled:b.isPending,"data-testid":"button-save-email",children:""}),i.jsx(X,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-email",children:""})]})]})}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:h==null?void 0:h.email}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"  email  "})]}),i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>l(!0),"data-testid":"button-change-email",children:[i.jsx(ry,{className:"w-4 h-4 mr-2"}),""]})]})})]}),i.jsxs(J,{className:"mb-4 border-0 shadow-lg bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:[i.jsx(yt,{children:i.jsxs(St,{className:"flex items-center gap-2 text-base",children:[i.jsx(yl,{className:"w-5 h-5 text-medical-blue"}),""]})}),i.jsx(me,{children:n?i.jsx(Gw,{...g,children:i.jsxs("form",{onSubmit:g.handleSubmit(x),className:"space-y-4",children:[i.jsx(rc,{control:g.control,name:"currentPassword",render:({field:j})=>i.jsxs(Wa,{children:[i.jsx(qa,{children:" "}),i.jsx(Ga,{children:i.jsxs("div",{className:"relative",children:[i.jsx(Ie,{...j,type:e?"text":"password","data-testid":"input-current-password"}),i.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 h-auto",onClick:()=>t(!e),children:e?i.jsx(zg,{className:"w-4 h-4"}):i.jsx(vi,{className:"w-4 h-4"})})]})}),i.jsx(Ka,{})]})}),i.jsx(rc,{control:g.control,name:"newPassword",render:({field:j})=>i.jsxs(Wa,{children:[i.jsx(qa,{children:" "}),i.jsx(Ga,{children:i.jsxs("div",{className:"relative",children:[i.jsx(Ie,{...j,type:r?"text":"password","data-testid":"input-new-password"}),i.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 h-auto",onClick:()=>s(!r),children:r?i.jsx(zg,{className:"w-4 h-4"}):i.jsx(vi,{className:"w-4 h-4"})})]})}),i.jsx(Ka,{})]})}),i.jsx(rc,{control:g.control,name:"confirmPassword",render:({field:j})=>i.jsxs(Wa,{children:[i.jsx(qa,{children:"  "}),i.jsx(Ga,{children:i.jsx(Ie,{...j,type:"password","data-testid":"input-confirm-password"})}),i.jsx(Ka,{})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(X,{type:"submit",disabled:m.isPending,"data-testid":"button-save-password",children:""}),i.jsx(X,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-password",children:""})]})]})}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:""}),i.jsx("p",{className:"text-sm text-muted-foreground",children:" : "})]}),i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>a(!0),"data-testid":"button-change-password",children:[i.jsx(yl,{className:"w-4 h-4 mr-2"}),""]})]})})]}),i.jsxs(J,{className:"mb-4 border-0 shadow-lg bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:[i.jsx(yt,{children:i.jsxs(St,{className:"flex items-center gap-2 text-base",children:[i.jsx(cA,{className:"w-5 h-5 text-medical-blue"}),""]})}),i.jsx(me,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:(h==null?void 0:h.subscriptionType)==="premium"?" ":" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(h==null?void 0:h.subscriptionType)==="premium"?"    ":"   "})]}),(h==null?void 0:h.subscriptionType)!=="premium"&&i.jsxs(X,{variant:"outline",size:"sm","data-testid":"button-upgrade-subscription",children:[i.jsx(Rb,{className:"w-4 h-4 mr-2"}),""]})]})})]}),i.jsxs(J,{className:"mb-4 border-0 shadow-lg bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:[i.jsx(yt,{children:i.jsxs(St,{className:"flex items-center gap-2 text-base",children:[i.jsx(Mr,{className:"w-5 h-5 text-medical-blue"}),""]})}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),i.jsx(de,{variant:"outline",children:""})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),i.jsx(X,{variant:"outline",size:"sm","data-testid":"button-login-history",children:""})]})]})]}),i.jsxs(J,{className:"mb-4 border-0 shadow-lg bg-red-50/80 dark:bg-red-950/80 backdrop-blur-sm border-red-200 dark:border-red-800",children:[i.jsx(yt,{children:i.jsxs(St,{className:"flex items-center gap-2 text-base text-red-600 dark:text-red-400",children:[i.jsx(gr,{className:"w-5 h-5"})," "]})}),i.jsxs(me,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"  "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),i.jsxs(X,{variant:"outline",size:"sm",onClick:v,"data-testid":"button-logout",children:[i.jsx(pA,{className:"w-4 h-4 mr-2"}),""]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]}),i.jsxs(X,{variant:"outline",size:"sm",className:"border-red-200 text-red-600 hover:bg-red-50 dark:border-red-800 dark:text-red-400 dark:hover:bg-red-950","data-testid":"button-delete-account",children:[i.jsx(jk,{className:"w-4 h-4 mr-2"}),""]})]})]})]})]}),i.jsx(ar,{})]})}function Dr({component:e}){const{isAuthenticated:t,isLoading:r}=ru();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"..."})]})}):t?i.jsx(e,{}):i.jsx(oc,{to:"/login"})}function LV(){return i.jsxs(kT,{children:[i.jsx(ut,{path:"/",component:Q6}),i.jsx(ut,{path:"/login",component:RV}),i.jsx(ut,{path:"/register",component:MV}),i.jsx(ut,{path:"/article/:id",children:e=>i.jsx(oc,{to:`/app/article/${e.id}`})}),i.jsx(ut,{path:"/health-profile",children:i.jsx(oc,{to:"/app/health-profile"})}),i.jsx(ut,{path:"/dashboard",children:i.jsx(oc,{to:"/app/dashboard"})}),i.jsx(ut,{path:"/app",children:i.jsx(oc,{to:"/app/dashboard"})}),i.jsx(ut,{path:"/app/dashboard",component:()=>i.jsx(Dr,{component:CF})}),i.jsx(ut,{path:"/app/blood-analysis",component:()=>i.jsx(Dr,{component:Hz})}),i.jsx(ut,{path:"/app/biomarkers",component:()=>i.jsx(Dr,{component:oO})}),i.jsx(ut,{path:"/app/profile",component:()=>i.jsx(Dr,{component:G8})}),i.jsx(ut,{path:"/app/recommendations",component:()=>i.jsx(Dr,{component:Q8})}),i.jsx(ut,{path:"/app/ai-consultation",component:()=>i.jsx(Dr,{component:K8})}),i.jsx(ut,{path:"/app/health-profile",component:()=>i.jsx(Dr,{component:CI})}),i.jsx(ut,{path:"/app/chat",component:()=>i.jsx(Dr,{component:TI})}),i.jsx(ut,{path:"/app/blood-analyses",component:()=>i.jsx(Dr,{component:TV})}),i.jsx(ut,{path:"/app/blood-analyses/:id",component:()=>i.jsx(Dr,{component:PV})}),i.jsx(ut,{path:"/app/article/:id",component:()=>i.jsx(Dr,{component:AV})}),i.jsx(ut,{path:"/app/user-settings",component:()=>i.jsx(Dr,{component:DV})}),i.jsx(ut,{component:z6})]})}function $V(){return i.jsx(HT,{client:_c,children:i.jsx($6,{children:i.jsxs(D6,{children:[i.jsx(uR,{}),i.jsx(LV,{})]})})})}"serviceWorker"in navigator&&"PushManager"in window&&window.addEventListener("load",async()=>{try{const e=await navigator.serviceWorker.register("/sw.js");console.log("[SW] Service Worker registered successfully:",e),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&(navigator.serviceWorker.controller?console.log("[SW] New content is available; please refresh."):console.log("[SW] Content is cached for offline use."))})})}catch(e){console.error("[SW] Service Worker registration failed:",e)}});xj(document.getElementById("root")).render(i.jsx($V,{}));
